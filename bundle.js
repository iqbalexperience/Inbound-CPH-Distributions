!function(){"use strict";const g="[PROMPT]",m="[TARGETLANGUAGE]",o="https://api.workengine.ai/api",u={PUBLIC:"public",OWN:"own"},d={SUCCESS:"success",WARNING:"warning",ERROR:"error"},p={UNKNOWN:0,PRIVATE:1,PUBLIC:2,PAID:3},a={UNKNOWN:0,GENERIC_CONCERN:1,GENERIC_LEGAL_CONCERN:2,LEGAL_COPYRIGHT:10,LEGAL_DMCA:11,LEGAL_TRADEMARK:12,PERSONAL_INFO:20,ABUSIVE:21,ILLEGAL:22,NOT_MULTILINGUAL:51,NOT_GENERIC:52,SPAM:91,PROMPT_SUPPORT_FREE:101,PROMPT_SUPPORT_PAID:102,PROMPT_SUPPORT_WANT_PAID:103},e=0,t=16,r=32;const h={UNKNOWN:0,DELETE_MARK:20,DELETE_DONE:29,INACTIVE:99,ACTIVE:100},S={UNKNOWN:0,INFO:1,SUCCESS:2,UPDATE:4,MANDATORY_MUST_CONFIRM:8},N={UNKNOWN:e,MESSAGE_LIKE:t,MESSAGE_DISLIKE:r},I={UNKNOWN:0,NORMAL:1,ADMIN:2,BLACKLIST_BAN:4,BLACKLIST_NO_WRITE:8,BLACKLIST_NO_PUBLIC:16},P=70005,G=70009,Z=70100,J=70101,X=70102,Y=70103,K=70104,Q=70105,ee=70106;P,G,Z,J,X,Y,K,Q,ee;(class extends Error{});var te={APIEndpoint:o,User:null,async init(){return fetch("/api/auth/session").then(e=>{if(e.ok)return e.json();throw new Error("Network response was not OK.")}).then(e=>{this.User={Email:e.user.email,Name:e.user.name}})},savePrompt(e){var t=e,e=(t.RevisionTime=(new Date).toISOString(),t.AuthorName=this.User.Name,t.AuthorURL=this.User.Email,`${this.APIEndpoint}/prompts?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e.ID),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t})};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,options:t,type:"IN_BOUND.postRequest",returnType:"savePrompt"},bubbles:!0}))},pinActionForPrompt(e,t){var r=`${this.APIEndpoint}/prompts?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e,o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:1===t})};return document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,options:o,type:"IN_BOUND.postRequest",returnType:"pinActionForPrompt"},bubbles:!0})),fetch(`${this.APIEndpoint}/prompts?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:1===t})}).then(e=>{if(e.ok)return e;throw new Error("Network response was not OK")})},reportPrompt(e,t,r,o){var a=this.APIEndpoint+"?act=promptsFeedback&promptID="+e,o={method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({FeedbackContact:o,FeedbackText:r,FeedbackTypeNo:t,PromptID:e,User:this.User})};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:a,options:o,type:"IN_BOUND.postRequest",returnType:"reportPrompt"},bubbles:!0}))},saveNewTone(e){var t=`${this.APIEndpoint}variations?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e.id,e={method:"POST",body:JSON.stringify({...e})};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:t,options:e,type:"IN_BOUND.postRequest",returnType:"saveNewTone"},bubbles:!0}))},saveEditTone(e){var t=`${this.APIEndpoint}/variations?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e.id,e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:t,options:e,type:"IN_BOUND.postRequest",returnType:"saveEditTone"},bubbles:!0}))},deleteTone(e){e=`${this.APIEndpoint}/variations?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,options:{method:"DELETE",headers:{"Content-Type":"application/json"}},type:"IN_BOUND.postRequest",returnType:"deleteTone"},bubbles:!0}))},deletePrompt(e){e=`${this.APIEndpoint}/prompt?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,options:{method:"DELETE",headers:{"Content-Type":"application/json"}},type:"IN_BOUND.postRequest",returnType:"deletePrompt"},bubbles:!0}))},voteForPrompt(e,t){e=`${this.APIEndpoint}/prompts?user=${this.User.Email}&company=${IN_BOUND.Company}&id=`+e,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({favourite:1===t})};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,options:t,type:"IN_BOUND.postRequest",returnType:"voteForPrompt"},bubbles:!0}))},getBingResults(e){},getDdgResults(e){},getGoogleNewsResults(e){},getWebContentResults(e){}};function re(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function oe(o){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?re(Object(a),!0).forEach(function(e){var t,r;t=o,r=a[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))})}return o}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var r,o=function(e,t){if(null==e)return{};for(var r,o={},a=Object.keys(e),n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r]);return o}function ie(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?se(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function le(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var de=le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ce=le(/Edge/i),pe=le(/firefox/i),he=le(/safari/i)&&!le(/chrome/i)&&!le(/android/i),ge=le(/iP(ad|od|hone)/i),me=le(/chrome/i)&&le(/android/i),ue={capture:!1,passive:!1};function l(e,t,r){e.addEventListener(t,r,!de&&ue)}function n(e,t,r){e.removeEventListener(t,r,!de&&ue)}function ve(e,t){if(t&&(">"===t[0]&&(t=t.substring(1)),e))try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return}}function L(e,t,r,o){if(e){r=r||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===r)&&ve(e,t)||o&&e===r)return e}while(e!==r&&(e=(a=e).host&&a!==document&&a.host.nodeType?a.host:a.parentNode))}var a;return null}var fe,ye=/\s+/g;function O(e,t,r){var o;e&&t&&(e.classList?e.classList[r?"add":"remove"](t):(o=(" "+e.className+" ").replace(ye," ").replace(" "+t+" "," "),e.className=(o+(r?" "+t:"")).replace(ye," ")))}function E(e,t,r){var o=e&&e.style;if(o){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];o[t=t in o||-1!==t.indexOf("webkit")?t:"-webkit-"+t]=r+("string"==typeof r?"":"px")}}function be(e,t){var r="";if("string"==typeof e)r=e;else do{var o=E(e,"transform")}while(o&&"none"!==o&&(r=o+" "+r),!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(r)}function we(e,t,r){if(e){var o=e.getElementsByTagName(t),a=0,n=o.length;if(r)for(;a<n;a++)r(o[a],a);return o}return[]}function xe(){var e=document.scrollingElement;return e||document.documentElement}function M(e,t,r,o,a){if(e.getBoundingClientRect||e===window){var n,i,s,l,d,c,p=e!==window&&e.parentNode&&e!==xe()?(i=(n=e.getBoundingClientRect()).top,s=n.left,l=n.bottom,d=n.right,c=n.height,n.width):(s=i=0,l=window.innerHeight,d=window.innerWidth,c=window.innerHeight,window.innerWidth);if((t||r)&&e!==window&&(a=a||e.parentNode,!de))do{if(a&&a.getBoundingClientRect&&("none"!==E(a,"transform")||r&&"static"!==E(a,"position"))){var h=a.getBoundingClientRect();i-=h.top+parseInt(E(a,"border-top-width")),s-=h.left+parseInt(E(a,"border-left-width")),l=i+n.height,d=s+n.width;break}}while(a=a.parentNode);return o&&e!==window&&(o=(t=be(a||e))&&t.a,e=t&&t.d,t)&&(l=(i/=e)+(c/=e),d=(s/=o)+(p/=o)),{top:i,left:s,bottom:l,right:d,width:p,height:c}}}function Ce(e,t,r){for(var o=Ne(e,!0),a=M(e)[t];o;){var n=M(o)[r];if(!("top"===r||"left"===r?n<=a:a<=n))return o;if(o===xe())break;o=Ne(o,!1)}return!1}function ke(e,t,r,o){for(var a=0,n=0,i=e.children;n<i.length;){if("none"!==i[n].style.display&&i[n]!==z.ghost&&(o||i[n]!==z.dragged)&&L(i[n],r.draggable,e,!1)){if(a===t)return i[n];a++}n++}return null}function Te(e,t){for(var r=e.lastElementChild;r&&(r===z.ghost||"none"===E(r,"display")||t&&!ve(r,t));)r=r.previousElementSibling;return r||null}function _(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===z.clone||t&&!ve(e,t)||r++;return r}function Se(e){var t=0,r=0,o=xe();if(e)do{var a=be(e),n=a.a,a=a.d}while(t+=e.scrollLeft*n,r+=e.scrollTop*a,e!==o&&(e=e.parentNode));return[t,r]}function Ne(e,t){if(e&&e.getBoundingClientRect){var r=e,o=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var a=E(r);if(r.clientWidth<r.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!r.getBoundingClientRect||r===document.body)return xe();if(o||t)return r;o=!0}}}while(r=r.parentNode)}return xe()}function Ie(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function De(t,r){return function(){var e;fe||(1===(e=arguments).length?t.call(this,e[0]):t.apply(this,e),fe=setTimeout(function(){fe=void 0},r))}}function Pe(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function Le(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function Oe(e,t){E(e,"position","absolute"),E(e,"top",t.top),E(e,"left",t.left),E(e,"width",t.width),E(e,"height",t.height)}function Ee(e){E(e,"position",""),E(e,"top",""),E(e,"left",""),E(e,"width",""),E(e,"height","")}var $="Sortable"+(new Date).getTime();function Me(){var t,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){var t,r;"none"!==E(e,"display")&&e!==z.ghost&&(o.push({target:e,rect:M(e)}),t=oe({},o[o.length-1].rect),e.thisAnimationDuration&&(r=be(e,!0))&&(t.top-=r.f,t.left-=r.e),e.fromRect=t)})},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[r][o])return Number(r);return-1}(o,{target:e}),1)},animateAll:function(e){var d,c,p=this;this.options.animation?(d=!1,c=0,o.forEach(function(e){var t,r=0,o=e.target,a=o.fromRect,n=M(o),i=o.prevFromRect,s=o.prevToRect,e=e.rect,l=be(o,!0);l&&(n.top-=l.f,n.left-=l.e),o.toRect=n,o.thisAnimationDuration&&Ie(i,n)&&!Ie(a,n)&&(e.top-n.top)/(e.left-n.left)==(a.top-n.top)/(a.left-n.left)&&(l=e,i=i,s=s,t=p.options,r=Math.sqrt(Math.pow(i.top-l.top,2)+Math.pow(i.left-l.left,2))/Math.sqrt(Math.pow(i.top-s.top,2)+Math.pow(i.left-s.left,2))*t.animation),Ie(n,a)||(o.prevFromRect=a,o.prevToRect=n,r=r||p.options.animation,p.animate(o,e,n,r)),r&&(d=!0,c=Math.max(c,r),clearTimeout(o.animationResetTimer),o.animationResetTimer=setTimeout(function(){o.animationTime=0,o.prevFromRect=null,o.fromRect=null,o.prevToRect=null,o.thisAnimationDuration=null},r),o.thisAnimationDuration=r)}),clearTimeout(t),d?t=setTimeout(function(){"function"==typeof e&&e()},c):"function"==typeof e&&e(),o=[]):(clearTimeout(t),"function"==typeof e&&e())},animate:function(e,t,r,o){var a,n;o&&(E(e,"transition",""),E(e,"transform",""),n=(a=be(this.el))&&a.a,a=a&&a.d,n=(t.left-r.left)/(n||1),t=(t.top-r.top)/(a||1),e.animatingX=!!n,e.animatingY=!!t,E(e,"transform","translate3d("+n+"px,"+t+"px,0)"),this.forRepaintDummy=e.offsetWidth,E(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),E(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){E(e,"transition",""),E(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},o))}}}var _e=[],$e={initializeByDefault:!0},Be={mount:function(t){for(var e in $e)!$e.hasOwnProperty(e)||e in t||(t[e]=$e[e]);_e.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),_e.push(t)},pluginEvent:function(t,r,o){var e=this,a=(this.eventCanceled=!1,o.cancel=function(){e.eventCanceled=!0},t+"Global");_e.forEach(function(e){r[e.pluginName]&&(r[e.pluginName][a]&&r[e.pluginName][a](oe({sortable:r},o)),r.options[e.pluginName])&&r[e.pluginName][t]&&r[e.pluginName][t](oe({sortable:r},o))})},initializePlugins:function(r,o,a,e){for(var t in _e.forEach(function(e){var t=e.pluginName;(r.options[t]||e.initializeByDefault)&&((e=new e(r,o,r.options)).sortable=r,e.options=r.options,r[t]=e,i(a,e.defaults))}),r.options){var n;r.options.hasOwnProperty(t)&&void 0!==(n=this.modifyOption(r,t,r.options[t]))&&(r.options[t]=n)}},getEventProperties:function(t,r){var o={};return _e.forEach(function(e){"function"==typeof e.eventProperties&&i(o,e.eventProperties.call(r[e.pluginName],t))}),o},modifyOption:function(t,r,o){var a;return _e.forEach(function(e){t[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[r]&&(a=e.optionListeners[r].call(t[e.pluginName],o))}),a}};function Ae(e){var t=e.sortable,r=e.rootEl,o=e.name,a=e.targetEl,n=e.cloneEl,i=e.toEl,s=e.fromEl,l=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,p=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,e=e.extraEventProperties;if(t=t||r&&r[$]){var m,u,v=t.options,f="on"+o.charAt(0).toUpperCase()+o.substr(1),y=(!window.CustomEvent||de||ce?(m=document.createEvent("Event")).initEvent(o,!0,!0):m=new CustomEvent(o,{bubbles:!0,cancelable:!0}),m.to=i||r,m.from=s||r,m.item=a||r,m.clone=n,m.oldIndex=l,m.newIndex=d,m.oldDraggableIndex=c,m.newDraggableIndex=p,m.originalEvent=h,m.pullMode=g?g.lastPutMode:void 0,oe(oe({},e),Be.getEventProperties(o,t)));for(u in y)m[u]=y[u];r&&r.dispatchEvent(m),v[f]&&v[f].call(t,m)}}function B(e,t){var r=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=ne(o,Ue);Be.pluginEvent.bind(z)(e,t,oe({dragEl:U,parentEl:R,ghostEl:F,rootEl:H,nextEl:Ve,lastDownEl:We,cloneEl:s,cloneHidden:Ge,dragStarted:at,putSortable:j,activeSortable:z.active,originalEvent:r,oldIndex:Ze,oldDraggableIndex:Je,newIndex:q,newDraggableIndex:Xe,hideGhostForTarget:He,unhideGhostForTarget:qe,cloneNowHidden:function(){Ge=!0},cloneNowShown:function(){Ge=!1},dispatchSortableEvent:function(e){A({sortable:t,name:e,originalEvent:r})}},o))}var Ue=["evt"];function A(e){Ae(oe({putSortable:j,cloneEl:s,targetEl:U,rootEl:H,oldIndex:Ze,oldDraggableIndex:Je,newIndex:q,newDraggableIndex:Xe},e))}function Re(e,t){var r,o=E(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),n=ke(e,0,t),e=ke(e,1,t),t=n&&E(n),i=e&&E(e),s=t&&parseInt(t.marginLeft)+parseInt(t.marginRight)+M(n).width,l=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+M(e).width;return"flex"===o.display?"column"===o.flexDirection||"column-reverse"===o.flexDirection?"vertical":"horizontal":"grid"===o.display?o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":n&&t.float&&"none"!==t.float?(r="left"===t.float?"left":"right",!e||"both"!==i.clear&&i.clear!==r?"horizontal":"vertical"):n&&("block"===t.display||"flex"===t.display||"table"===t.display||"grid"===t.display||a<=s&&"none"===o[yt]||e&&"none"===o[yt]&&a<s+l)?"vertical":"horizontal"}function Fe(e){function s(n,i){return function(e,t,r,o){var a=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;return!(null!=n||!i&&!a)||null!=n&&!1!==n&&(i&&"clone"===n?n:"function"==typeof n?s(n(e,t,r,o),i)(e,t,r,o):(a=(i?e:t).options.group.name,!0===n||"string"==typeof n&&n===a||n.join&&-1<n.indexOf(a)))}}var t={},r=e.group;r&&"object"==ae(r)||(r={name:r}),t.name=r.name,t.checkPull=s(r.pull,!0),t.checkPut=s(r.put),t.revertClone=r.revertClone,e.group=t}function He(){!wt&&F&&E(F,"display","none")}function qe(){!wt&&F&&E(F,"display","")}function je(e){if(U){e=e.touches?e.touches[0]:e;a=e.clientX,n=e.clientY,ct.some(function(e){var t,r,o=e[$].options.emptyInsertThreshold;if(o&&!Te(e))return r=M(e),t=a>=r.left-o&&a<=r.right+o,r=n>=r.top-o&&n<=r.bottom+o,t&&r?i=e:void 0});var t=i;if(t){var r,o={};for(r in e)e.hasOwnProperty(r)&&(o[r]=e[r]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[$]._onDragOver(o)}}var a,n,i}function ze(e){U&&U.parentNode[$]._isOutsideThisEl(e.target)}var U,R,F,H,Ve,We,s,Ge,Ze,q,Je,Xe,Ye,j,Ke,Qe,et,tt,rt,ot,at,nt,it,st,c,lt=!1,dt=!1,ct=[],pt=!1,ht=!1,gt=[],mt=!1,ut=[],vt="undefined"!=typeof document,ft=ge,yt=ce||de?"cssFloat":"float",bt=vt&&!me&&!ge&&"draggable"in document.createElement("div"),wt=function(){var e;if(vt)return!de&&((e=document.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}();vt&&!me&&document.addEventListener("click",function(e){if(dt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),dt=!1},!0);function z(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=i({},t),e[$]=this;var r,o,a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Re(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==z.supportPointer&&"PointerEvent"in window&&!he,emptyInsertThreshold:5};for(r in Be.initializePlugins(this,e,a),a)r in t||(t[r]=a[r]);for(o in Fe(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&bt,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?l(e,"pointerdown",this._onTapStart):(l(e,"mousedown",this._onTapStart),l(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(e,"dragover",this),l(e,"dragenter",this)),ct.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),i(this,Me())}function xt(e,t,r,o,a,n,i,s){var l,d,c=e[$],p=c.options.onMove;return!window.CustomEvent||de||ce?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=r,l.draggedRect=o,l.related=a||t,l.relatedRect=n||M(t),l.willInsertAfter=s,l.originalEvent=i,e.dispatchEvent(l),d=p?p.call(c,l,i):d}function Ct(e){e.draggable=!1}function kt(){mt=!1}function Tt(e){return setTimeout(e,0)}function St(e){return clearTimeout(e)}z.prototype={constructor:z,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(nt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(t){if(t.cancelable){for(var r=this,o=this.el,e=this.options,a=e.preventOnFilter,n=t.type,i=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(i||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,d=e.filter,c=o,p=(ut.length=0,c.getElementsByTagName("input")),h=p.length;h--;){var g=p[h];g.checked&&ut.push(g)}if(!U&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||e.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!he||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=L(s,e.draggable,o,!1))&&s.animated||We===s)){if(Ze=_(s),Je=_(s,e.draggable),"function"==typeof d){if(d.call(this,t,s,this))return A({sortable:r,rootEl:l,name:"filter",targetEl:s,toEl:o,fromEl:o}),B("filter",r,{evt:t}),void(a&&t.cancelable&&t.preventDefault())}else if(d=d&&d.split(",").some(function(e){if(e=L(l,e.trim(),o,!1))return A({sortable:r,rootEl:e,name:"filter",targetEl:s,fromEl:o,toEl:o}),B("filter",r,{evt:t}),!0}))return void(a&&t.cancelable&&t.preventDefault());e.handle&&!L(l,e.handle,o,!1)||this._prepareDragStart(t,i,s)}}},_prepareDragStart:function(e,t,r){var o,a=this,n=a.el,i=a.options,s=n.ownerDocument;r&&!U&&r.parentNode===n&&(o=M(r),H=n,R=(U=r).parentNode,Ve=U.nextSibling,We=r,Ye=i.group,Ke={target:z.dragged=U,clientX:(t||e).clientX,clientY:(t||e).clientY},rt=Ke.clientX-o.left,ot=Ke.clientY-o.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",n=function(){B("delayEnded",a,{evt:e}),z.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!pe&&a.nativeDraggable&&(U.draggable=!0),a._triggerDragStart(e,t),A({sortable:a,name:"choose",originalEvent:e}),O(U,i.chosenClass,!0))},i.ignore.split(",").forEach(function(e){we(U,e.trim(),Ct)}),l(s,"dragover",je),l(s,"mousemove",je),l(s,"touchmove",je),l(s,"mouseup",a._onDrop),l(s,"touchend",a._onDrop),l(s,"touchcancel",a._onDrop),pe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),B("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(ce||de)?n():z.eventCanceled?this._onDrop():(l(s,"mouseup",a._disableDelayedDrag),l(s,"touchend",a._disableDelayedDrag),l(s,"touchcancel",a._disableDelayedDrag),l(s,"mousemove",a._delayedDragTouchMoveHandler),l(s,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&l(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,i.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Ct(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;n(e,"mouseup",this._disableDelayedDrag),n(e,"touchend",this._disableDelayedDrag),n(e,"touchcancel",this._disableDelayedDrag),n(e,"mousemove",this._delayedDragTouchMoveHandler),n(e,"touchmove",this._delayedDragTouchMoveHandler),n(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):l(document,t?"touchmove":"mousemove",this._onTouchMove):(l(U,"dragend",this),l(H,"dragstart",this._onDragStart));try{document.selection?Tt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var r;lt=!1,H&&U?(B("dragStarted",this,{evt:t}),this.nativeDraggable&&l(document,"dragover",ze),r=this.options,e||O(U,r.dragClass,!1),O(U,r.ghostClass,!0),z.active=this,e&&this._appendGhost(),A({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(Qe){this._lastX=Qe.clientX,this._lastY=Qe.clientY,He();for(var e=document.elementFromPoint(Qe.clientX,Qe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Qe.clientX,Qe.clientY))!==t;)t=e;if(U.parentNode[$]._isOutsideThisEl(e),t)do{if(t[$])if(t[$]._onDragOver({clientX:Qe.clientX,clientY:Qe.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}while(t=(e=t).parentNode);qe()}},_onTouchMove:function(e){if(Ke){var t=this.options,r=t.fallbackTolerance,t=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=F&&be(F,!0),n=F&&a&&a.a,i=F&&a&&a.d,s=ft&&c&&Se(c),n=(o.clientX-Ke.clientX+t.x)/(n||1)+(s?s[0]-gt[0]:0)/(n||1),t=(o.clientY-Ke.clientY+t.y)/(i||1)+(s?s[1]-gt[1]:0)/(i||1);if(!z.active&&!lt){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}F&&(a?(a.e+=n-(et||0),a.f+=t-(tt||0)):a={a:1,b:0,c:0,d:1,e:n,f:t},s="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")"),E(F,"webkitTransform",s),E(F,"mozTransform",s),E(F,"msTransform",s),E(F,"transform",s),et=n,tt=t,Qe=o),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!F){var e=this.options.fallbackOnBody?document.body:H,t=M(U,!0,ft,!0,e),r=this.options;if(ft){for(c=e;"static"===E(c,"position")&&"none"===E(c,"transform")&&c!==document;)c=c.parentNode;c!==document.body&&c!==document.documentElement?(c===document&&(c=xe()),t.top+=c.scrollTop,t.left+=c.scrollLeft):c=xe(),gt=Se(c)}O(F=U.cloneNode(!0),r.ghostClass,!1),O(F,r.fallbackClass,!0),O(F,r.dragClass,!0),E(F,"transition",""),E(F,"transform",""),E(F,"box-sizing","border-box"),E(F,"margin",0),E(F,"top",t.top),E(F,"left",t.left),E(F,"width",t.width),E(F,"height",t.height),E(F,"opacity","0.8"),E(F,"position",ft?"absolute":"fixed"),E(F,"zIndex","100000"),E(F,"pointerEvents","none"),z.ghost=F,e.appendChild(F),E(F,"transform-origin",rt/parseInt(F.style.width)*100+"% "+ot/parseInt(F.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,o=e.dataTransfer,a=r.options;B("dragStart",this,{evt:e}),z.eventCanceled?this._onDrop():(B("setupClone",this),z.eventCanceled||((s=Le(U)).removeAttribute("id"),s.draggable=!1,s.style["will-change"]="",this._hideClone(),O(s,this.options.chosenClass,!1),z.clone=s),r.cloneId=Tt(function(){B("clone",r),z.eventCanceled||(r.options.removeCloneOnHide||H.insertBefore(s,U),r._hideClone(),A({sortable:r,name:"clone"}))}),t||O(U,a.dragClass,!0),t?(dt=!0,r._loopId=setInterval(r._emulateDragOver,50)):(n(document,"mouseup",r._onDrop),n(document,"touchend",r._onDrop),n(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",a.setData)&&a.setData.call(r,o,U),l(document,"drop",r),E(U,"transform","translateZ(0)")),lt=!0,r._dragStartId=Tt(r._dragStarted.bind(r,t,e)),l(document,"selectstart",r),at=!0,he&&E(document.body,"user-select","none"))},_onDragOver:function(r){var o,a,n,i=this.el,s=r.target,t=this.options,e=t.group,l=z.active,d=Ye===e,c=t.sort,p=j||l,h=this,g=!1;if(!mt){if(void 0!==r.preventDefault&&r.cancelable&&r.preventDefault(),s=L(s,t.draggable,i,!0),N("dragOver"),z.eventCanceled)return g;if(U.contains(r.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return D(!1);if(dt=!1,l&&!t.disabled&&(d?c||(a=R!==H):j===this||(this.lastPutMode=Ye.checkPull(this,l,U,r))&&e.checkPut(this,l,U,r))){if(n="vertical"===this._getDirection(r,s),o=M(U),N("dragOverValid"),z.eventCanceled)return g;if(a)return R=H,I(),this._hideClone(),N("revert"),z.eventCanceled||(Ve?H.insertBefore(U,Ve):H.appendChild(U)),D(!0);e=Te(i,t.draggable);if(!e||function(e,t,r){r=M(Te(r.el,r.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(r,n,this)&&!e.animated){if(e===U)return D(!1);if((s=e&&i===r.target?e:s)&&(f=M(s)),!1!==xt(H,i,U,o,s,f,r,!!s))return I(),e&&e.nextSibling?i.insertBefore(U,e.nextSibling):i.appendChild(U),R=i,P(),D(!0)}else if(e&&function(e,t,r){r=M(ke(r.el,0,r.options,!0));return t?e.clientX<r.left-10||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-10||e.clientY<r.bottom&&e.clientX<r.left}(r,n,this)){e=ke(i,0,t,!0);if(e===U)return D(!1);if(f=M(s=e),!1!==xt(H,i,U,o,s,f,r,!1))return I(),i.insertBefore(U,e),R=i,P(),D(!0)}else if(s.parentNode===i){var m,u,v,f=M(s),e=U.parentNode!==i,y=(k=U.animated&&U.toRect||o,y=s.animated&&s.toRect||f,x=(S=n)?k.left:k.top,b=S?k.right:k.bottom,k=S?k.width:k.height,T=S?y.left:y.top,w=S?y.right:y.bottom,S=S?y.width:y.height,!(x===T||b===w||x+k/2===T+S/2)),b=n?"top":"left",w=Ce(s,"top","top")||Ce(U,"top","top"),x=w?w.scrollTop:void 0;if(nt!==s&&(u=f[b],pt=!1,ht=!y&&t.invertSwap||e),0!==(m=function(e,t,r,o,a,n,i,s){var e=o?e.clientY:e.clientX,l=o?r.height:r.width,d=o?r.top:r.left,o=o?r.bottom:r.right,r=!1;if(!i)if(s&&st<l*a){if(pt=!pt&&(1===it?d+l*n/2<e:e<o-l*n/2)?!0:pt)r=!0;else if(1===it?e<d+st:o-st<e)return-it}else if(d+l*(1-a)/2<e&&e<o-l*(1-a)/2)return function(e){return _(U)<_(e)?1:-1}(t);if((r=r||i)&&(e<d+l*n/2||o-l*n/2<e))return d+l/2<e?1:-1;return 0}(r,s,f,n,y?1:t.swapThreshold,null==t.invertedSwapThreshold?t.swapThreshold:t.invertedSwapThreshold,ht,nt===s)))for(var C=_(U);(v=R.children[C-=m])&&("none"===E(v,"display")||v===F););if(0===m||v===s)return D(!1);it=m;var k=(nt=s).nextElementSibling,T=!1,S=xt(H,i,U,o,s,f,r,T=1===m);if(!1!==S)return 1!==S&&-1!==S||(T=1===S),mt=!0,setTimeout(kt,30),I(),T&&!k?i.appendChild(U):s.parentNode.insertBefore(U,T?k:s),w&&Pe(w,0,x-w.scrollTop),R=U.parentNode,void 0===u||ht||(st=Math.abs(u-M(s)[b])),P(),D(!0)}if(i.contains(U))return D(!1)}return!1}function N(e,t){B(e,h,oe({evt:r,isOwner:d,axis:n?"vertical":"horizontal",revert:a,dragRect:o,targetRect:f,canSort:c,fromSortable:p,target:s,completed:D,onMove:function(e,t){return xt(H,i,U,o,e,M(e),r,t)},changed:P},t))}function I(){N("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function D(e){return N("dragOverCompleted",{insertion:e}),e&&(d?l._hideClone():l._showClone(h),h!==p&&(O(U,(j||l).options.ghostClass,!1),O(U,t.ghostClass,!0)),j!==h&&h!==z.active?j=h:h===z.active&&(j=j&&null),p===h&&(h._ignoreWhileAnimating=s),h.animateAll(function(){N("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==p)&&(p.animateAll(),p._ignoreWhileAnimating=null),(s===U&&!U.animated||s===i&&!s.animated)&&(nt=null),t.dragoverBubble||r.rootEl||s===document||(U.parentNode[$]._isOutsideThisEl(r.target),e)||je(r),!t.dragoverBubble&&r.stopPropagation&&r.stopPropagation(),g=!0}function P(){q=_(U),Xe=_(U,t.draggable),A({sortable:h,name:"change",toEl:i,newIndex:q,newDraggableIndex:Xe,originalEvent:r})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){n(document,"mousemove",this._onTouchMove),n(document,"touchmove",this._onTouchMove),n(document,"pointermove",this._onTouchMove),n(document,"dragover",je),n(document,"mousemove",je),n(document,"touchmove",je)},_offUpEvents:function(){var e=this.el.ownerDocument;n(e,"mouseup",this._onDrop),n(e,"touchend",this._onDrop),n(e,"pointerup",this._onDrop),n(e,"touchcancel",this._onDrop),n(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;q=_(U),Xe=_(U,r.draggable),B("drop",this,{evt:e}),R=U&&U.parentNode,q=_(U),Xe=_(U,r.draggable),z.eventCanceled||(pt=ht=lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),St(this.cloneId),St(this._dragStartId),this.nativeDraggable&&(n(document,"drop",this),n(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),he&&E(document.body,"user-select",""),E(U,"transform",""),e&&(at&&(e.cancelable&&e.preventDefault(),r.dropBubble||e.stopPropagation()),F&&F.parentNode&&F.parentNode.removeChild(F),(H===R||j&&"clone"!==j.lastPutMode)&&s&&s.parentNode&&s.parentNode.removeChild(s),U)&&(this.nativeDraggable&&n(U,"dragend",this),Ct(U),U.style["will-change"]="",at&&!lt&&O(U,(j||this).options.ghostClass,!1),O(U,this.options.chosenClass,!1),A({sortable:this,name:"unchoose",toEl:R,newIndex:null,newDraggableIndex:null,originalEvent:e}),H!==R?(0<=q&&(A({rootEl:R,name:"add",toEl:R,fromEl:H,originalEvent:e}),A({sortable:this,name:"remove",toEl:R,originalEvent:e}),A({rootEl:R,name:"sort",toEl:R,fromEl:H,originalEvent:e}),A({sortable:this,name:"sort",toEl:R,originalEvent:e})),j&&j.save()):q!==Ze&&0<=q&&(A({sortable:this,name:"update",toEl:R,originalEvent:e}),A({sortable:this,name:"sort",toEl:R,originalEvent:e})),z.active)&&(null!=q&&-1!==q||(q=Ze,Xe=Je),A({sortable:this,name:"end",toEl:R,originalEvent:e}),this.save())),this._nulling()},_nulling:function(){B("nulling",this),H=U=R=F=Ve=s=We=Ge=Ke=Qe=at=q=Xe=Ze=Je=nt=it=j=Ye=z.dragged=z.ghost=z.clone=z.active=null,ut.forEach(function(e){e.checked=!0}),ut.length=et=tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":var t;U&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable)&&t.preventDefault();break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,o=0,a=r.length,n=this.options;o<a;o++)L(e=r[o],n.draggable,this.el,!1)&&t.push(e.getAttribute(n.dataIdAttr)||function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,o=0;for(;r--;)o+=t.charCodeAt(r);return o.toString(36)}(e));return t},sort:function(e,t){var r={},o=this.el;this.toArray().forEach(function(e,t){t=o.children[t];L(t,this.options.draggable,o,!1)&&(r[e]=t)},this),t&&this.captureAnimationState(),e.forEach(function(e){r[e]&&(o.removeChild(r[e]),o.appendChild(r[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return L(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var o=Be.modifyOption(this,e,t);r[e]=void 0!==o?o:t,"group"===e&&Fe(r)},destroy:function(){B("destroy",this);var e=this.el;e[$]=null,n(e,"mousedown",this._onTapStart),n(e,"touchstart",this._onTapStart),n(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(n(e,"dragover",this),n(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ct.splice(ct.indexOf(this.el),1),this.el=e=null},_hideClone:function(){Ge||(B("hideClone",this),z.eventCanceled)||(E(s,"display","none"),this.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s),Ge=!0)},_showClone:function(e){"clone"!==e.lastPutMode?this._hideClone():Ge&&(B("showClone",this),z.eventCanceled||(U.parentNode!=H||this.options.group.revertClone?Ve?H.insertBefore(s,Ve):H.appendChild(s):H.insertBefore(s,U),this.options.group.revertClone&&this.animate(U,s),E(s,"display",""),Ge=!1))}},vt&&l(document,"touchmove",function(e){(z.active||lt)&&e.cancelable&&e.preventDefault()}),z.utils={on:l,off:n,css:E,find:we,is:function(e,t){return!!L(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:De,closest:L,toggleClass:O,clone:Le,index:_,nextTick:Tt,cancelNextTick:St,detectDirection:Re,getChild:ke},z.get=function(e){return e[$]},z.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];(t=t[0].constructor===Array?t[0]:t).forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(z.utils=oe(oe({},z.utils),e.utils)),Be.mount(e)})},z.create=function(e,t){return new z(e,t)};var Nt,It,Dt,Pt,Lt,Ot,D=[],Et=!(z.version="1.15.0");function Mt(){D.forEach(function(e){clearInterval(e.pid)}),D=[]}function _t(){clearInterval(Ot)}function $t(e){var t=e.originalEvent,r=e.putSortable,o=e.dragEl,a=e.activeSortable,n=e.dispatchSortableEvent,i=e.hideGhostForTarget,e=e.unhideGhostForTarget;t&&(a=r||a,i(),i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(i.clientX,i.clientY),e(),a)&&!a.el.contains(t)&&(n("spill"),this.onSpill({dragEl:o,putSortable:r}))}var Bt,At=De(function(r,e,t,o){if(e.scroll){var a,n=(r.touches?r.touches[0]:r).clientX,i=(r.touches?r.touches[0]:r).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,d=xe(),c=!1,p=0,h=Nt=It!==t&&(It=t,Mt(),Nt=e.scroll,a=e.scrollFn,!0===Nt)?Ne(t,!0):Nt;do{var g=h,m=M(g),u=m.top,v=m.bottom,f=m.left,y=m.right,b=m.width,m=m.height,w=void 0,x=void 0,C=g.scrollWidth,k=g.scrollHeight,T=E(g),S=g.scrollLeft,N=g.scrollTop,x=g===d?(w=b<C&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),m<k&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(w=b<C&&("auto"===T.overflowX||"scroll"===T.overflowX),m<k&&("auto"===T.overflowY||"scroll"===T.overflowY)),T=w&&(Math.abs(y-n)<=s&&S+b<C)-(Math.abs(f-n)<=s&&!!S),w=x&&(Math.abs(v-i)<=s&&N+m<k)-(Math.abs(u-i)<=s&&!!N);if(!D[p])for(var I=0;I<=p;I++)D[I]||(D[I]={});D[p].vx==T&&D[p].vy==w&&D[p].el===g||(D[p].el=g,D[p].vx=T,D[p].vy=w,clearInterval(D[p].pid),0==T&&0==w)||(c=!0,D[p].pid=setInterval(function(){o&&0===this.layer&&z.active._onTouchMove(Lt);var e=D[this.layer].vy?D[this.layer].vy*l:0,t=D[this.layer].vx?D[this.layer].vx*l:0;"function"==typeof a&&"continue"!==a.call(z.dragged.parentNode[$],t,e,r,Lt,D[this.layer].el)||Pe(D[this.layer].el,t,e)}.bind({layer:p}),24)),p++}while(e.bubbleScroll&&h!==d&&(h=Ne(h,!1)));Et=c}},30);function Ut(){}function Rt(){}Ut.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex;this.startIndex=e},onSpill:function(e){var t=e.dragEl,e=e.putSortable,r=(this.sortable.captureAnimationState(),e&&e.captureAnimationState(),ke(this.sortable.el,this.startIndex,this.options));r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),e&&e.animateAll()},drop:$t},i(Ut,{pluginName:"revertOnSpill"}),Rt.prototype={onSpill:function(e){var t=e.dragEl,e=e.putSortable||this.sortable;e.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),e.animateAll()},drop:$t},i(Rt,{pluginName:"removeOnSpill"});var Ft,Ht,f,qt,jt,y=[],b=[],zt=!1,w=!1,Vt=!1;function Wt(r,o){b.forEach(function(e,t){t=o.children[e.sortableIndex+(r?Number(t):0)];t?o.insertBefore(e,t):o.appendChild(e)})}function Gt(){y.forEach(function(e){e!==f&&e.parentNode&&e.parentNode.removeChild(e)})}z.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){e=e.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):e.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){e=e.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?n(document,"dragover",this._handleAutoScroll):(n(document,"pointermove",this._handleFallbackAutoScroll),n(document,"touchmove",this._handleFallbackAutoScroll),n(document,"mousemove",this._handleFallbackAutoScroll)),_t(),Mt(),clearTimeout(fe),fe=void 0},nulling:function(){Lt=It=Nt=Et=Ot=Dt=Pt=null,D.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(t,r){var o,a=this,n=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,e=document.elementFromPoint(n,i);Lt=t,r||this.options.forceAutoScrollFallback||ce||de||he?(At(t,this.options,e,r),o=Ne(e,!0),!Et||Ot&&n===Dt&&i===Pt||(Ot&&_t(),Ot=setInterval(function(){var e=Ne(document.elementFromPoint(n,i),!0);e!==o&&(o=e,Mt()),At(t,a.options,e,r)},10),Dt=n,Pt=i)):this.options.bubbleScroll&&Ne(e,!0)!==xe()?At(t,this.options,Ne(e,!1),!1):Mt()}},i(e,{pluginName:"scroll",initializeByDefault:!0})}),z.mount(Rt,Ut),z.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){e=e.dragEl;Bt=e},dragOverValid:function(e){var t,r=e.completed,o=e.target,a=e.onMove,n=e.activeSortable,i=e.changed,e=e.cancel;n.options.swap&&(n=this.sortable.el,t=this.options,o&&o!==n&&(n=Bt,Bt=!1!==a(o)?(O(o,t.swapClass,!0),o):null,n)&&n!==Bt&&O(n,t.swapClass,!1),i(),r(!0),e())},drop:function(e){var t,r,o,a=e.activeSortable,n=e.putSortable,e=e.dragEl,i=n||this.sortable,s=this.options;Bt&&O(Bt,s.swapClass,!1),Bt&&(s.swap||n&&n.options.swap)&&e!==Bt&&(i.captureAnimationState(),i!==a&&a.captureAnimationState(),s=Bt,e=(n=e).parentNode,o=s.parentNode,e&&o&&!e.isEqualNode(s)&&!o.isEqualNode(n)&&(t=_(n),r=_(s),e.isEqualNode(o)&&t<r&&r++,e.insertBefore(s,e.children[t]),o.insertBefore(n,o.children[r])),i.animateAll(),i!==a)&&a.animateAll()},nulling:function(){Bt=null}},i(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Bt}}})}),z.mount(new function(){function e(o){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?l(document,"pointerup",this._deselectMultiDrag):(l(document,"mouseup",this._deselectMultiDrag),l(document,"touchend",this._deselectMultiDrag))),l(document,"keydown",this._checkKeyDown),l(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(e,t){var r="";y.length&&Ht===o?y.forEach(function(e,t){r+=(t?", ":"")+e.textContent}):r=t.textContent,e.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){e=e.dragEl;f=e},delayEnded:function(){this.isMultiDrag=~y.indexOf(f)},setupClone:function(e){var t=e.sortable,e=e.cancel;if(this.isMultiDrag){for(var r=0;r<y.length;r++)b.push(Le(y[r])),b[r].sortableIndex=y[r].sortableIndex,b[r].draggable=!1,b[r].style["will-change"]="",O(b[r],this.options.selectedClass,!1),y[r]===f&&O(b[r],this.options.chosenClass,!1);t._hideClone(),e()}},clone:function(e){var t=e.sortable,r=e.rootEl,o=e.dispatchSortableEvent,e=e.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&y.length&&Ht===t&&(Wt(!0,r),o("clone"),e())},showClone:function(e){var t=e.cloneNowShown,r=e.rootEl,e=e.cancel;this.isMultiDrag&&(Wt(!1,r),b.forEach(function(e){E(e,"display","")}),t(),jt=!1,e())},hideClone:function(e){var t=this,r=(e.sortable,e.cloneNowHidden),e=e.cancel;this.isMultiDrag&&(b.forEach(function(e){E(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)}),r(),jt=!0,e())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&Ht&&Ht.multiDrag._deselectMultiDrag(),y.forEach(function(e){e.sortableIndex=_(e)}),y=y.sort(function(e,t){return e.sortableIndex-t.sortableIndex}),Vt=!0},dragStarted:function(e){var t,r=this,e=e.sortable;this.isMultiDrag&&(this.options.sort&&(e.captureAnimationState(),this.options.animation)&&(y.forEach(function(e){e!==f&&E(e,"position","absolute")}),t=M(f,!1,!0,!0),y.forEach(function(e){e!==f&&Oe(e,t)}),zt=w=!0),e.animateAll(function(){zt=w=!1,r.options.animation&&y.forEach(function(e){Ee(e)}),r.options.sort&&Gt()}))},dragOver:function(e){var t=e.target,r=e.completed,e=e.cancel;w&&~y.indexOf(t)&&(r(!1),e())},revert:function(e){var r,o,t=e.fromSortable,a=e.rootEl,n=e.sortable,i=e.dragRect;1<y.length&&(y.forEach(function(e){n.addAnimationState({target:e,rect:w?M(e):i}),Ee(e),e.fromRect=i,t.removeAnimationState(e)}),w=!1,r=!this.options.removeCloneOnHide,o=a,y.forEach(function(e,t){t=o.children[e.sortableIndex+(r?Number(t):0)];t?o.insertBefore(e,t):o.appendChild(e)}))},dragOverCompleted:function(e){var t,r=e.sortable,o=e.isOwner,a=e.insertion,n=e.activeSortable,i=e.parentEl,e=e.putSortable,s=this.options;a&&(o&&n._hideClone(),zt=!1,s.animation&&1<y.length&&(w||!o&&!n.options.sort&&!e)&&(t=M(f,!1,!0,!0),y.forEach(function(e){e!==f&&(Oe(e,t),i.appendChild(e))}),w=!0),o||(w||Gt(),1<y.length?(a=jt,n._showClone(r),n.options.animation&&!jt&&a&&b.forEach(function(e){n.addAnimationState({target:e,rect:qt}),e.fromRect=qt,e.thisAnimationDuration=null})):n._showClone(r)))},dragOverAnimationCapture:function(e){var t=e.dragRect,r=e.isOwner,e=e.activeSortable;y.forEach(function(e){e.thisAnimationDuration=null}),e.options.animation&&!r&&e.multiDrag.isMultiDrag&&(qt=i({},t),r=be(f,!0),qt.top-=r.f,qt.left-=r.e)},dragOverAnimationComplete:function(){w&&(w=!1,Gt())},drop:function(e){var t=e.originalEvent,r=e.rootEl,o=e.parentEl,a=e.sortable,n=e.dispatchSortableEvent,i=e.oldIndex,e=e.putSortable,s=e||this.sortable;if(t){var l,d,c,p=this.options,h=o.children;if(!Vt)if(p.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),O(f,p.selectedClass,!~y.indexOf(f)),~y.indexOf(f))y.splice(y.indexOf(f),1),Ft=null,Ae({sortable:a,rootEl:r,name:"deselect",targetEl:f,originalEvent:t});else{if(y.push(f),Ae({sortable:a,rootEl:r,name:"select",targetEl:f,originalEvent:t}),t.shiftKey&&Ft&&a.el.contains(Ft)){var g=_(Ft),m=_(f);if(~g&&~m&&g!==m)for(var u,v=g<m?(u=g,m):(u=m,g+1);u<v;u++)~y.indexOf(h[u])||(O(h[u],p.selectedClass,!0),y.push(h[u]),Ae({sortable:a,rootEl:r,name:"select",targetEl:h[u],originalEvent:t}))}else Ft=f;Ht=s}Vt&&this.isMultiDrag&&(w=!1,(o[$].options.sort||o!==r)&&1<y.length&&(l=M(f),d=_(f,":not(."+this.options.selectedClass+")"),!zt&&p.animation&&(f.thisAnimationDuration=null),s.captureAnimationState(),zt||(p.animation&&(f.fromRect=l,y.forEach(function(e){var t;e.thisAnimationDuration=null,e!==f&&(t=w?M(e):l,e.fromRect=t,s.addAnimationState({target:e,rect:t}))})),Gt(),y.forEach(function(e){h[d]?o.insertBefore(e,h[d]):o.appendChild(e),d++}),i===_(f)&&(c=!1,y.forEach(function(e){e.sortableIndex!==_(e)&&(c=!0)}),c)&&n("update")),y.forEach(function(e){Ee(e)}),s.animateAll()),Ht=s),(r===o||e&&"clone"!==e.lastPutMode)&&b.forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}},nullingGlobal:function(){this.isMultiDrag=Vt=!1,b.length=0},destroyGlobal:function(){this._deselectMultiDrag(),n(document,"pointerup",this._deselectMultiDrag),n(document,"mouseup",this._deselectMultiDrag),n(document,"touchend",this._deselectMultiDrag),n(document,"keydown",this._checkKeyDown),n(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Vt&&Vt||Ht!==this.sortable||e&&L(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;y.length;){var t=y[0];O(t,this.options.selectedClass,!1),y.shift(),Ae({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[$];t&&t.options.multiDrag&&!~y.indexOf(e)&&(Ht&&Ht!==t&&(Ht.multiDrag._deselectMultiDrag(),Ht=t),O(e,t.options.selectedClass,!0),y.push(e))},deselect:function(e){var t=e.parentNode[$],r=y.indexOf(e);t&&t.options.multiDrag&&~r&&(O(e,t.options.selectedClass,!1),y.splice(r,1))}},eventProperties:function(){var r=this,o=[],a=[];return y.forEach(function(e){var t;o.push({multiDragElement:e,index:e.sortableIndex}),t=w&&e!==f?-1:w?_(e,":not(."+r.options.selectedClass+")"):_(e),a.push({multiDragElement:e,index:t})}),{items:ie(y),clones:[].concat(b),oldIndicies:o,newIndicies:a}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":1<e.length&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})});const V="undefined"!=typeof window?window:null,Zt=null===V,Jt=Zt?void 0:V.document,Xt="addEventListener",Yt="removeEventListener",Kt="getBoundingClientRect",Qt="horizontal",er=()=>!1,tr=Zt?"calc":["","-webkit-","-moz-","-o-"].filter(e=>{var t=Jt.createElement("div");return t.style.cssText=`width:${e}calc(9px)`,!!t.style.length}).shift()+"calc",rr=e=>"string"==typeof e||e instanceof String,or=e=>{if(rr(e)){var t=Jt.querySelector(e);if(t)return t;throw new Error(`Selector ${e} did not match a DOM element`)}return e},W=(e,t,r)=>{e=e[t];return void 0!==e?e:r},ar=(e,t,r,o)=>{if(t){if("end"===o)return 0;if("center"===o)return e/2}else if(r){if("start"===o)return 0;if("center"===o)return e/2}return e},nr=(e,t)=>{var r=Jt.createElement("div");return r.className="gutter gutter-"+t,r},ir=(e,t,r)=>{var o={};return rr(t)?o[e]=t:o[e]=tr+`(${t}% - ${r}px)`,o},sr=(e,t)=>({[e]:t+"px"}),lr=(e,a={})=>{if(Zt)return{};let l=e,d,t,r,o,s,i;Array.from&&(l=Array.from(l));const c=or(l[0]).parentNode;e=getComputedStyle?getComputedStyle(c):null;const p=e?e.flexDirection:null;let h=W(a,"sizes")||l.map(()=>100/l.length);const n=W(a,"minSize",100),g=Array.isArray(n)?n:l.map(()=>n),m=W(a,"maxSize",1/0),u=Array.isArray(m)?m:l.map(()=>m),v=W(a,"expandToMin",!1),f=W(a,"gutterSize",10),y=W(a,"gutterAlign","center"),b=W(a,"snapOffset",30),w=Array.isArray(b)?b:l.map(()=>b),x=W(a,"dragInterval",1),C=W(a,"direction",Qt),k=W(a,"cursor",C===Qt?"col-resize":"row-resize"),T=W(a,"gutter",nr),S=W(a,"elementStyle",ir),N=W(a,"gutterStyle",sr);function I(t,e,r,o){const a=S(d,e,r,o);Object.keys(a).forEach(e=>{t.style[e]=a[e]})}function D(){return i.map(e=>e.size)}function P(e){return("touches"in e?e.touches[0]:e)[t]}function L(e){var t=i[this.a],r=i[this.b],o=t.size+r.size;t.size=e/this.size*o,r.size=o-e/this.size*o,I(t.element,t.size,this._b,t.i),I(r.element,r.size,this._c,r.i)}function O(){var e=i[this.a].element,t=i[this.b].element,e=e[Kt](),t=t[Kt]();this.size=e[d]+t[d]+this._b+this._c,this.start=e[r],this.end=e[o]}function E(o){const a=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;let r=e[s];return 0===r?null:(C===Qt?r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r)}(c);if(null===a)return o;if(g.reduce((e,t)=>e+t,0)>a)return o;let n=0;const i=[];var e=o.map((e,t)=>{var e=a*e/100,r=ar(f,0===t,t===o.length-1,y),t=g[t]+r;return e<t?(n+=t-e,i.push(0),t):(i.push(e-t),e)});return 0===n?o:e.map((e,t)=>{let r=e;return 0<n&&0<i[t]-n&&(t=Math.min(n,i[t]-n),n-=t,r=e-t),r/a*100})}function M(e){var t,r,o;"button"in e&&0!==e.button||(t=this,r=i[t.a].element,o=i[t.b].element,t.dragging||W(a,"onDragStart",er)(D()),e.preventDefault(),t.dragging=!0,t.move=function(e){let t;var r=i[this.a],o=i[this.b];this.dragging&&(t=P(e)-this.start+(this._b-this.dragOffset),(t=1<x?Math.round(t/x)*x:t)<=r.minSize+r.snapOffset+this._b?t=r.minSize+this._b:t>=this.size-(o.minSize+o.snapOffset+this._c)&&(t=this.size-(o.minSize+this._c)),t>=r.maxSize-r.snapOffset+this._b?t=r.maxSize+this._b:t<=this.size-(o.maxSize-o.snapOffset+this._c)&&(t=this.size-(o.maxSize+this._c)),L.call(this,t),W(a,"onDrag",er)(D()))}.bind(t),t.stop=function(){var e=this,t=i[e.a].element,r=i[e.b].element;e.dragging&&W(a,"onDragEnd",er)(D()),e.dragging=!1,V[Yt]("mouseup",e.stop),V[Yt]("touchend",e.stop),V[Yt]("touchcancel",e.stop),V[Yt]("mousemove",e.move),V[Yt]("touchmove",e.move),e.stop=null,e.move=null,t[Yt]("selectstart",er),t[Yt]("dragstart",er),r[Yt]("selectstart",er),r[Yt]("dragstart",er),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",Jt.body.style.cursor=""}.bind(t),V[Xt]("mouseup",t.stop),V[Xt]("touchend",t.stop),V[Xt]("touchcancel",t.stop),V[Xt]("mousemove",t.move),V[Xt]("touchmove",t.move),r[Xt]("selectstart",er),r[Xt]("dragstart",er),o[Xt]("selectstart",er),o[Xt]("dragstart",er),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",t.gutter.style.cursor=k,t.parent.style.cursor=k,Jt.body.style.cursor=k,O.call(t),t.dragOffset=P(e)-t.end)}C===Qt?(d="width",t="clientX",r="left",o="right",s="clientWidth"):"vertical"===C&&(d="height",t="clientY",r="top",o="bottom",s="clientHeight"),h=E(h);const _=[];function $(e){var t=e.i===_.length,r=t?_[e.i-1]:_[e.i],t=(O.call(r),t?r.size-e.minSize-r._c:e.minSize+r._b);L.call(r,t)}return(i=l.map((e,t)=>{e={element:or(e),size:h[t],minSize:g[t],maxSize:u[t],snapOffset:w[t],i:t};let r;if(0<t&&((r={a:t-1,b:t,dragging:!1,direction:C,parent:c})._b=ar(f,t-1==0,!1,y),r._c=ar(f,!1,t===l.length-1,y),"row-reverse"!==p&&"column-reverse"!==p||(o=r.a,r.a=r.b,r.b=o)),0<t){var o=T(t,C,e.element);{var a=o;var n=f;var i=t;const s=N(d,n,i);Object.keys(s).forEach(e=>{a.style[e]=s[e]})}r._a=M.bind(r),o[Xt]("mousedown",r._a),o[Xt]("touchstart",r._a),c.insertBefore(o,e.element),r.gutter=o}return I(e.element,e.size,ar(f,0===t,t===l.length-1,y),t),0<t&&_.push(r),e})).forEach(e=>{var t=e.element[Kt]()[d];t<e.minSize&&(v?$(e):e.minSize=t)}),{setSizes:function(e){const n=E(e);n.forEach((e,t)=>{var r,o,a;0<t&&(r=_[t-1],o=i[r.a],a=i[r.b],o.size=n[t-1],a.size=e,I(o.element,o.size,r._b,o.i),I(a.element,a.size,r._c,a.i))})},getSizes:D,collapse(e){$(i[e])},destroy:function(r,o){_.forEach(t=>{var e;!0!==o?t.parent.removeChild(t.gutter):(t.gutter[Yt]("mousedown",t._a),t.gutter[Yt]("touchstart",t._a)),!0!==r&&(e=S(d,t.a.size,t._b),Object.keys(e).forEach(e=>{i[t.a].element.style[e]="",i[t.b].element.style[e]=""}))})},parent:c,pairs:_}};function v(e){switch(e=Array.isArray(e)?e[0]:e){case"VersionInfo":case"ExportButton":return"flex py-3 px-3 items-center gap-3 rounded-md hover:bg-gray-500/10 transition-colors duration-200 text-white cursor-pointer text-sm";case"column":return"flex flex-col gap-3.5 flex-1";case"h2":return'text-lg font-normal">IN_BOUND</h2><ul class="flex flex-col gap-3.5 mb-4';case"h3":return"m-0 cursor-pointer tracking-tight leading-8 text-gray-900 dark:text-gray-100 text-lg font-bold";case"ul":return"gap-3.5";case"card":return" cursor-default flex flex-col gap-1 bg-gray-50 dark:bg-white/5 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900 text-left border shadow border-gray-300 dark:border-gray-700 hover:shadow-lg transition duration-300 ease-in-out tw-border-2 tw-border-blue-500 tw-rounded-xl";case"p":return"m-0 cursor-pointer font-light text-gray-500";case"paginationText":return"text-sm text-gray-700 dark:text-gray-400";case"paginationNumber":return"font-semibold text-gray-900 dark:text-white";case"paginationButtonGroup":return"inline-flex xs:mt-0";case"paginationButton":return"px-1 py-1 font-small bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:text-white";case"saveSearchChips":return"px-2 py-1 rounded font-small bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:text-white";case"continueButton":return" font-medium bg-gray-100 hover:bg-gray-200 dark:bg-gray-600 dark:border-gray-600 dark:hover:bg-gray-800 bg-gray disabled:text-gray-300 disabled:hover:bg-transparent rounded-l-md px-4";case"continueActionSelect":return"bg-gray-100 border-0 p-1 border-l text-xs rounded-r-md block w-2 dark:bg-gray-600 border-gray-200 dark:border-gray-600 dark:hover:bg-gray-800 dark:placeholder-gray-400 dark:text-white hover:bg-gray-200 focus:ring-0 focus:border-gray-200 pr-6";case"action":return"p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400 md:invisible md:group-hover:visible";case"tag":return"inline-flex flex-col w-full items-start py-1 px-2 mr-2 mb-2 text-sm font-medium text-white rounded bg-gray-600 whitespace-nowrap";case"languageSelectWrapper":return"flex my-2 gap-3  lg:max-w-3xl md:last:mb-6  pt-0 stretch justify-around text-xs items-end lg:-mb-4 pb-9 mb-0  sm:flex-col  ";case"select":return"bg-gray-100 p-1 px-2 border-0 text-xs rounded block w-full dark:bg-gray-600 dark:border-gray-600 dark:hover:bg-gray-800 dark:placeholder-gray-400 dark:text-white hover:bg-gray-200 focus:ring-0";case"select-v2":return"bg-gray-100 p-1 px-2 border-0 text-xs w-full dark:bg-gray-600 dark:border-gray-600 dark:hover:bg-gray-800 dark:placeholder-gray-400 dark:text-white hover:bg-gray-200 focus:ring-0";case"selectLabel":return"block text-xs font-thin"}}function x(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function dr(e){return(e=new Date(e))&&"Invalid Date"!=e?e.toISOString().split("T")[0]+" "+e.toTimeString().split(" ")[0]:""}function cr(e){if(!(e=new Date(e))||"Invalid Date"==e)return"";var t=new Date,r=Math.max(0,t-e),o=[{name:"year",value:31556952e3},{name:"month",value:2629746e3},{name:"week",value:6048e5},{name:"day",value:864e5},{name:"hour",value:36e5},{name:"minute",value:6e4},{name:"second",value:1e3}];for(let e=0;e<o.length;e++){var a,n=o[e];if(r>=n.value)return(a=Math.floor(r/n.value))+` ${1<a?n.name+"s":n.name} ago`}return"just now"}function pr(e,t,r,o){if(t!==u.OWN){t=r[e];if(t){let e=document.getElementById("reportPromptModal");e||((e=document.createElement("div")).id="reportPromptModal",e.addEventListener("submit",o),document.body.appendChild(e)),e.innerHTML=`
      <div class="fixed inset-0 text-center transition-opacity z-50">
        <div class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full">
            <div
              class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
              role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">

                <div id="reportPromptIntroText">
                  <p class="mb-6">
                    Thanks for helping us improve.<br><br>

                    We need you to answer a few questions so we can better understand what's going on with this Prompt.<br><br>

                    You'll also have the option to add more info in your own words and add more details to the report.<br><br>

                    We take reports seriously.<br><br>

                    If we find a rule violation, we'll either remove the Prompt immediately or ask them to revise, or lock or suspend the account.
                  </p>

                  <div class="mt-2">
                    <label for="FeedbackTypeNo" class="block">What would you like to report?</label>
                    <select data-prompt-id="${t.ID}" id="FeedbackTypeNo" name="FeedbackTypeNo" class="mt-2 mb-3 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full" required>
                      <option value="${a.GENERIC_LEGAL_CONCERN}">
                      Legal concerns
                      </option>
                      <optgroup label="Result concerns">                        
                        <option value="${a.NOT_MULTILINGUAL}">
                          Result in wrong language
                        </option>
                        <option value="${a.NOT_GENERIC}">
                          Result on wrong topic/keywords
                        </option>                        
                        <option value="${a.GENERIC_CONCERN}">
                          Prompt not working as expected
                        </option>
                      </optgroup>                  
                      <option value="${a.SPAM}">Spam</option>
                    </select>
                  </div>
                </div>

                <div class="reportPromptFeedbackContainer hidden overflow-y-auto" id="reportPromptFeedbackForm"></div>
              </div>

              <div class="bg-gray-200 dark:bg-gray-700 px-4 py-3 text-right">
                <button type="button" class="bg-gray-600 hover:bg-gray-800 mr-2 px-4 py-2 rounded text-white"
                        onclick="IN_BOUND.hideModal('reportPromptModal')"> Cancel
                </button>
                <button type="button" id="reportPromptSubmitButton" class="bg-green-600 hover:bg-green-700 mr-2 px-4 py-2 rounded text-white">Start Report
                </button>
              </div>
            </div>
          </div>
        </div>

      </div>`,e.querySelector("#reportPromptSubmitButton").addEventListener("click",e=>{document.getElementById("reportPromptIntroText").style="display: none;";var t=document.getElementById("FeedbackTypeNo"),r=document.getElementById("reportPromptFeedbackForm");r.innerHTML=((e,t)=>{const r=[a.GENERIC_CONCERN,a.GENERIC_LEGAL_CONCERN].includes(e);return`
    <p class="mb-6">
      Since we are not affiliated with OpenAI or ChatGPT,
      we are not responsible for the output of ChatGPT.<br><br>

      ${e===a.GENERIC_CONCERN?`
          But we can try to help you with results.<br><br>

          We can do this by looking at the prompt reported,
          and the output generated.
        `:"But we will take your report about the prompt and evaluate it."}
    </p>

    <form>
      <input type="hidden" name="PromptID" value="${t}" />

      ${e!==a.GENERIC_CONCERN?`<input type="hidden" name="FeedbackTypeNo" value="${e}" />`:""}

      <label>Contact Email${!r?' <span class="text-sm text-gray-500">(optional)</span>':""}</label>
      <input name="FeedbackContact" 
        ${r?" required ":""} type="email"
        title="Email address to contact you in case we need more information"
        class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3"
        placeholder="example@example.com" />

      <label>Feedback${!r?' <span class="text-sm text-gray-500">(optional)</span>':""}</label>
      <textarea name="FeedbackText" 
        ${r?" required ":""}
        title="Short description of the issue"
        class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 140px;"
        placeholder="Please describe the issue you are having with this prompt.${e===a.GENERIC_CONCERN?" Please include your full history of the prompt including the original prompt used.":""}"></textarea>

      ${e===a.GENERIC_CONCERN?`
            <label class="block">Are you a customer paying for IN_BOUND support? Would you like to hire us to improve your prompt and create a private prompt specifically for you?</label>
            <select name="FeedbackTypeNo" class="mt-2 mb-3 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full" required>
              <option value="${a.PROMPT_SUPPORT_FREE}">I want free support</option>
              <option value="${a.PROMPT_SUPPORT_WANT_PAID}">I want to pay for support</option>
              <option value="${a.PROMPT_SUPPORT_PAID}">I am already paying for support</option>
            </select>
          `:""}
    </form>
  `})(+t.value,t.dataset.promptId),r.classList.remove("hidden"),e.target.innerText="Send Report",e.target.addEventListener("click",()=>{document.querySelector("#reportPromptModal .reportPromptFeedbackContainer:not(.hidden) form").requestSubmit()})},{once:!0}),e.style="display: block;",document.addEventListener("keydown",e=>{"Escape"===e.key&&hr("reportPromptModal")})}}}const C=function(e){switch(e=Array.isArray(e)?e[0]:e){case"Logo-dark":return`<?xml version="1.0" encoding="utf-8"?>
      <!-- Generator: Adobe Illustrator 25.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
      <svg version="1.1" class="logo-bg" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
         viewBox="0 0 940.4 196.4" style="enable-background:new 0 0 940.4 196.4;" xml:space="preserve">
      <style type="text/css">
        .st0{enable-background:new    ;}
        .st1{fill:#1E303A;}
        .st2{fill:none;stroke:#1E303A;stroke-width:2;stroke-miterlimit:10;}
        .st3{fill:#505D69;stroke:#505D69;stroke-width:4;stroke-miterlimit:10;}
        .st4{fill:#FFFFFF;}
      </style>
      <g class="st0">
        <path class="st1" d="M247.6,63.1L271,126l23.1-61l11.2,0.1l23.3,60.9l23.4-62.9h11.4l-29.1,76.6h-10.9l-23.6-62.3l-23.7,62.3h-10.9
          l-29-76.6H247.6z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M247.6,63.1L271,126l23.1-61l11.2,0.1l23.3,60.9l23.4-62.9h11.4l-29.1,76.6h-10.9l-23.6-62.3l-23.7,62.3h-10.9
          l-29-76.6H247.6z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M442.5,63.1c4.8,0,8.9,1.7,12.4,5.1c3.4,3.4,5.1,7.4,5.1,12.2v42c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5.1-12.4,5.1h-46.7c-4.8,0-8.9-1.7-12.3-5.1c-3.4-3.4-5.1-7.4-5.1-12.2v-42c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H442.5z M391.6,75.2c-1.7,1.8-2.6,4-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6c1.7,1.7,4,2.6,6.6,2.6H440
          c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5V81.8c0-2.6-0.9-4.8-2.7-6.6c-1.8-1.8-4-2.7-6.7-2.7h-41.7
          C395.6,72.6,393.4,73.4,391.6,75.2z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M442.5,63.1c4.8,0,8.9,1.7,12.4,5.1c3.4,3.4,5.1,7.4,5.1,12.2v42c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5.1-12.4,5.1h-46.7c-4.8,0-8.9-1.7-12.3-5.1c-3.4-3.4-5.1-7.4-5.1-12.2v-42c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H442.5z M391.6,75.2c-1.7,1.8-2.6,4-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6c1.7,1.7,4,2.6,6.6,2.6H440
          c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5V81.8c0-2.6-0.9-4.8-2.7-6.6c-1.8-1.8-4-2.7-6.7-2.7h-41.7
          C395.6,72.6,393.4,73.4,391.6,75.2z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M537.3,63.1c5.2,0,9.4,1.1,12.6,3.4c3.3,2.3,4.9,5.7,4.9,10.2v12.8c0,4.8-0.9,8-2.6,9.6
          c-1.7,1.6-4.5,2.4-8.2,2.4c3.7,0.9,6.5,2.5,8.2,4.6c1.7,2.1,2.6,5.5,2.6,10.2v23.3h-11.1v-25.1c0-4.5-3.1-6.7-9.3-6.7h-45.5v31.8
          h-10.7V63.1H537.3z M488.9,98.3h45.5c6.2,0,9.3-2.2,9.3-6.7V78.8c0-4.5-3.1-6.7-9.3-6.7h-45.5V98.3z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M537.3,63.1c5.2,0,9.4,1.1,12.6,3.4c3.3,2.3,4.9,5.7,4.9,10.2v12.8c0,4.8-0.9,8-2.6,9.6
          c-1.7,1.6-4.5,2.4-8.2,2.4c3.7,0.9,6.5,2.5,8.2,4.6c1.7,2.1,2.6,5.5,2.6,10.2v23.3h-11.1v-25.1c0-4.5-3.1-6.7-9.3-6.7h-45.5v31.8
          h-10.7V63.1H537.3z M488.9,98.3h45.5c6.2,0,9.3-2.2,9.3-6.7V78.8c0-4.5-3.1-6.7-9.3-6.7h-45.5V98.3z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M583.9,63.1v38.9l47.4-38.9h15.8l-44,36.3l44,40.2H631l-36.6-33.3l-10.5,8.7v24.6h-10.7V63.1H583.9z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M583.9,63.1v38.9l47.4-38.9h15.8l-44,36.3l44,40.2H631l-36.6-33.3l-10.5,8.7v24.6h-10.7V63.1H583.9z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M734.8,63.1v9.4h-54.7c-2.7,0-4.9,0.9-6.6,2.6c-1.7,1.7-2.6,3.9-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6
          c1.7,1.7,4,2.6,6.6,2.6h40.1c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5v-16.6h-21.2V95h31.9v27.5c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5-12.4,5h-45.1c-4.8,0-8.9-1.7-12.3-5c-3.4-3.4-5.1-7.4-5.1-12.2V80.4c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H734.8z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M768.8,63.1h44.9c4.8,0,8.9,1.7,12.3,5.1c3.4,3.4,5.1,7.4,5.1,12.2v12.8c0,4.8-1.7,8.8-5.1,12.2s-7.5,5-12.3,5
          h-44.9v29.2h-10.6v-29.2V63.1H768.8z M768.8,101h42.4c2.7,0,4.9-0.9,6.7-2.6c1.8-1.7,2.7-3.9,2.7-6.5v-10c0-2.6-0.9-4.8-2.7-6.6
          c-1.8-1.8-4-2.7-6.7-2.7h-42.4V101z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M922.4,63.1v9.4h-31.6v67.1h-10.7V72.6h-31.6v-9.4H922.4z"/>
      </g>
      <path class="st3" d="M22,2h152.4c11,0,20,9,20,20v152.4c0,11-9,20-20,20H22c-11,0-20-9-20-20V22C2,11,11,2,22,2z"/>
      <path class="st4" d="M118.8,131.2l-13.1-16.4L87.8,92.6l0,0l-32-40.1c-0.9-1.2-2.4-1.9-3.9-1.9l0,0H33.1c-2.8,0-5,2.2-5.1,4.9
        c0,1,0.3,1.9,0.8,2.7L70.4,143c1.2,2.5,4.2,3.5,6.7,2.3c0,0,0,0,0,0c0.6-0.3,1.2-0.8,1.7-1.3l12.8-15.6l-6.4-8l-9.2,11.2L41.2,60.6
        h8.3l40,50l12.3,15.4l0,0l14,17.5c0.5,0.7,1.2,1.3,2,1.7c2.5,1.2,5.5,0.1,6.7-2.4c0,0,0,0,0,0l42.7-84.7c0.4-0.8,0.6-1.6,0.6-2.5
        c0-2.8-2.2-5-5-5h-18l0,0c-1.5,0-2.9,0.7-3.9,1.8l-37,45.1l6.4,8l36.8-44.9h7.6L118.8,131.2L118.8,131.2z"/>
      </svg>
      `;case"Logo-light":return`<?xml version="1.0" encoding="utf-8"?>
      <!-- Generator: Adobe Illustrator 25.2.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
      <svg class="logo-bg" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
         viewBox="0 0 959.5 196.4" style="enable-background:new 0 0 959.5 196.4;" xml:space="preserve">
      <style type="text/css">
        .st0{enable-background:new    ;}
        .st1{fill:#FFFFFF;}
        .st2{fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}
        .st3{fill:none;stroke:#FFFFFF;stroke-width:4;stroke-miterlimit:10;}
      </style>
      <g class="st0">
        <path class="st1" d="M260.2,63.1l23.3,62.9l23.1-61l11.2,0.1l23.3,60.9l23.4-62.9H376L347,139.7H336l-23.6-62.3l-23.7,62.3h-10.9
          l-29-76.6H260.2z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M260.2,63.1l23.3,62.9l23.1-61l11.2,0.1l23.3,60.9l23.4-62.9H376L347,139.7H336l-23.6-62.3l-23.7,62.3h-10.9
          l-29-76.6H260.2z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M455,63.1c4.8,0,8.9,1.7,12.4,5.1c3.4,3.4,5.1,7.4,5.1,12.2v42c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5.1-12.4,5.1h-46.7c-4.8,0-8.9-1.7-12.3-5.1c-3.4-3.4-5.1-7.4-5.1-12.2v-42c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H455z M404.2,75.2c-1.7,1.8-2.6,4-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6c1.7,1.7,4,2.6,6.6,2.6h41.7
          c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5V81.8c0-2.6-0.9-4.8-2.7-6.6c-1.8-1.8-4-2.7-6.7-2.7h-41.7
          C408.1,72.6,405.9,73.4,404.2,75.2z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M455,63.1c4.8,0,8.9,1.7,12.4,5.1c3.4,3.4,5.1,7.4,5.1,12.2v42c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5.1-12.4,5.1h-46.7c-4.8,0-8.9-1.7-12.3-5.1c-3.4-3.4-5.1-7.4-5.1-12.2v-42c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H455z M404.2,75.2c-1.7,1.8-2.6,4-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6c1.7,1.7,4,2.6,6.6,2.6h41.7
          c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5V81.8c0-2.6-0.9-4.8-2.7-6.6c-1.8-1.8-4-2.7-6.7-2.7h-41.7
          C408.1,72.6,405.9,73.4,404.2,75.2z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M549.8,63.1c5.2,0,9.4,1.1,12.6,3.4c3.3,2.3,4.9,5.7,4.9,10.2v12.8c0,4.8-0.9,8-2.6,9.6
          c-1.7,1.6-4.5,2.4-8.2,2.4c3.7,0.9,6.5,2.5,8.2,4.6c1.7,2.1,2.6,5.5,2.6,10.2v23.3h-11.1v-25.1c0-4.5-3.1-6.7-9.3-6.7h-45.5v31.8
          h-10.7V63.1H549.8z M501.4,98.3h45.5c6.2,0,9.3-2.2,9.3-6.7V78.8c0-4.5-3.1-6.7-9.3-6.7h-45.5V98.3z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M549.8,63.1c5.2,0,9.4,1.1,12.6,3.4c3.3,2.3,4.9,5.7,4.9,10.2v12.8c0,4.8-0.9,8-2.6,9.6
          c-1.7,1.6-4.5,2.4-8.2,2.4c3.7,0.9,6.5,2.5,8.2,4.6c1.7,2.1,2.6,5.5,2.6,10.2v23.3h-11.1v-25.1c0-4.5-3.1-6.7-9.3-6.7h-45.5v31.8
          h-10.7V63.1H549.8z M501.4,98.3h45.5c6.2,0,9.3-2.2,9.3-6.7V78.8c0-4.5-3.1-6.7-9.3-6.7h-45.5V98.3z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M596.4,63.1v38.9l47.4-38.9h15.8l-44,36.3l44,40.2h-16.1l-36.6-33.3l-10.5,8.7v24.6h-10.7V63.1H596.4z"/>
      </g>
      <g class="st0">
        <path class="st2" d="M596.4,63.1v38.9l47.4-38.9h15.8l-44,36.3l44,40.2h-16.1l-36.6-33.3l-10.5,8.7v24.6h-10.7V63.1H596.4z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M753.9,63.1v9.4h-54.7c-2.7,0-4.9,0.9-6.6,2.6c-1.7,1.7-2.6,3.9-2.6,6.6V121c0,2.7,0.9,4.9,2.6,6.6
          c1.7,1.7,4,2.6,6.6,2.6h40.1c2.7,0,4.9-0.9,6.7-2.6c1.8-1.8,2.7-3.9,2.7-6.5v-16.6h-21.2V95h31.9v27.5c0,4.8-1.7,8.8-5.1,12.2
          c-3.4,3.4-7.6,5-12.4,5h-45.1c-4.8,0-8.9-1.7-12.3-5c-3.4-3.4-5.1-7.4-5.1-12.2V80.4c0-4.8,1.7-8.8,5.1-12.2
          c3.4-3.4,7.5-5.1,12.3-5.1H753.9z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M787.9,63.1h44.9c4.8,0,8.9,1.7,12.3,5.1c3.4,3.4,5.1,7.4,5.1,12.2v12.8c0,4.8-1.7,8.8-5.1,12.2s-7.5,5-12.3,5
          h-44.9v29.2h-10.6v-29.2V63.1H787.9z M787.9,101h42.4c2.7,0,4.9-0.9,6.7-2.6c1.8-1.7,2.7-3.9,2.7-6.5v-10c0-2.6-0.9-4.8-2.7-6.6
          c-1.8-1.8-4-2.7-6.7-2.7h-42.4V101z"/>
      </g>
      <g class="st0">
        <path class="st1" d="M941.4,63.1v9.4h-31.6v67.1h-10.7V72.6h-31.6v-9.4H941.4z"/>
      </g>
      <path class="st3" d="M22,2h152.4c11,0,20,9,20,20v152.4c0,11-9,20-20,20H22c-11,0-20-9-20-20V22C2,11,11,2,22,2z"/>
      <path class="st1" d="M118.8,131.2l-13.1-16.3L87.8,92.6h0.1L55.8,52.5c-1-1.2-2.4-1.9-3.9-1.9l0,0H33.1c-2.8,0-5,2.2-5.1,4.9
        c0,1,0.3,1.9,0.8,2.7L70.4,143c1.2,2.5,4.2,3.5,6.7,2.3c0,0,0,0,0,0c0.6-0.3,1.2-0.8,1.7-1.3l12.8-15.6l-6.4-8L76,131.6L41.2,60.7
        h8.3l40,50l12.4,15.4l0,0l13.9,17.5c0.5,0.7,1.2,1.3,2,1.7c2.5,1.2,5.5,0.1,6.7-2.4c0,0,0,0,0,0l42.7-84.7c1.4-2.4,0.6-5.4-1.8-6.8
        c-0.8-0.4-1.7-0.7-2.6-0.7h-18l0,0c-1.5,0-2.9,0.7-3.9,1.8l-37,45.1l6.4,8L147,60.7h7.6l-36,70.6L118.8,131.2z"/>
      </svg>
      `;case"Rocket":return'<svg fill="#f1c40f" height="1rem" width="1rem" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-25.91 -25.91 310.92 310.92" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_iconCarrier"> <g> <g> <g> <path d="M256.468,2.637c-1.907-1.907-4.575-2.855-7.25-2.593L228.027,2.14c-33.604,3.324-65.259,18.304-89.135,42.18 l-0.365,0.365l-5.298-2.038c-23.593-9.073-50.386-3.388-68.262,14.486l-54.008,54.008c-0.096,0.091-0.188,0.184-0.279,0.279 l-8.044,8.043c-3.515,3.515-3.515,9.213,0,12.728c3.516,3.515,9.213,3.515,12.729,0l4.051-4.051l32.714,12.582 c0.372,0.618,0.813,1.206,1.347,1.739l3.65,3.65l-10.583,10.583c-3.49,3.49-3.51,9.129-0.071,12.649 c-17.598,19.116-23.107,33.004-32.352,56.335c-1.229,3.099-2.53,6.384-3.942,9.889c-1.543,3.823-0.657,8.178,2.257,11.095 c1.965,1.966,4.584,3.011,7.255,3.011c1.291,0,2.595-0.244,3.842-0.746c3.509-1.414,6.793-2.715,9.892-3.943 c23.33-9.246,37.219-14.755,56.336-32.353c1.748,1.707,4.015,2.564,6.285,2.564c2.304,0,4.606-0.879,6.364-2.636l10.582-10.582 l3.649,3.649c0.525,0.524,1.112,0.968,1.738,1.344l12.583,32.718l-4.051,4.051c-3.515,3.515-3.515,9.213,0,12.728 c1.758,1.758,4.061,2.636,6.364,2.636c2.303,0,4.606-0.879,6.364-2.636l8.043-8.043c0.096-0.091,0.188-0.185,0.279-0.28 l54.01-54.009c17.874-17.875,23.56-44.669,14.485-68.261l-2.037-5.298l0.365-0.365c23.876-23.876,38.856-55.532,42.18-89.135 l2.096-21.191C259.325,7.204,258.374,4.543,256.468,2.637z M33.343,114.214l44.353-44.352 c12.291-12.291,30.45-16.558,46.85-11.196l-65.453,65.452L33.343,114.214z M33.537,225.569 c7.256-18.099,12.332-28.892,25.667-43.484l17.816,17.816C62.428,213.236,51.633,218.313,33.537,225.569z M96.044,193.469 L65.635,163.06l4.219-4.219l30.409,30.409L96.044,193.469z M123.005,186.536L72.568,136.1l59.424-59.423l50.436,50.436 L123.005,186.536z M189.242,181.409l-44.352,44.352l-9.904-25.751l65.451-65.451 C205.801,150.958,201.534,169.117,189.242,181.409z M239.052,29.306c-2.915,29.473-16.054,57.237-36.996,78.179l-6.9,6.9 L144.72,63.949l6.901-6.901c20.94-20.941,48.705-34.08,78.178-36.995l10.27-1.016L239.052,29.306z"></path> <path d="M195.926,40.017c-6.187,0-12.003,2.409-16.378,6.784c-9.03,9.03-9.03,23.725,0,32.755 c4.375,4.375,10.191,6.784,16.378,6.784s12.003-2.409,16.378-6.784c9.03-9.03,9.03-23.725,0-32.755 C207.929,42.426,202.113,40.017,195.926,40.017z M199.575,66.828c-0.975,0.975-2.271,1.512-3.649,1.512 c-1.378,0-2.675-0.537-3.649-1.512c-2.013-2.013-2.013-5.287,0-7.3c0.975-0.975,2.271-1.512,3.649-1.512 c1.378,0,2.675,0.537,3.649,1.512C201.588,61.541,201.588,64.816,199.575,66.828z"></path> </g> </g> </g> </g></svg>';case"Export":return'<svg fill="#FFC300" height="1rem" width="1rem" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 29.978 29.978" xml:space="preserve" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M25.462,19.105v6.848H4.515v-6.848H0.489v8.861c0,1.111,0.9,2.012,2.016,2.012h24.967c1.115,0,2.016-0.9,2.016-2.012 v-8.861H25.462z"></path> <path d="M14.62,18.426l-5.764-6.965c0,0-0.877-0.828,0.074-0.828s3.248,0,3.248,0s0-0.557,0-1.416c0-2.449,0-6.906,0-8.723 c0,0-0.129-0.494,0.615-0.494c0.75,0,4.035,0,4.572,0c0.536,0,0.524,0.416,0.524,0.416c0,1.762,0,6.373,0,8.742 c0,0.768,0,1.266,0,1.266s1.842,0,2.998,0c1.154,0,0.285,0.867,0.285,0.867s-4.904,6.51-5.588,7.193 C15.092,18.979,14.62,18.426,14.62,18.426z"></path> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </g> </g></svg>';case"PromptBubble":return'<img class="logo-bg" src="" />';case"Save":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none">
      <path d="M16 8.98987V20.3499C16 21.7999 14.96 22.4099 13.69 21.7099L9.76001 19.5199C9.34001 19.2899 8.65999 19.2899 8.23999 19.5199L4.31 21.7099C3.04 22.4099 2 21.7999 2 20.3499V8.98987C2 7.27987 3.39999 5.87988 5.10999 5.87988H12.89C14.6 5.87988 16 7.27987 16 8.98987Z" stroke="#FFC300" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M22 5.10999V16.47C22 17.92 20.96 18.53 19.69 17.83L16 15.77V8.98999C16 7.27999 14.6 5.88 12.89 5.88H8V5.10999C8 3.39999 9.39999 2 11.11 2H18.89C20.6 2 22 3.39999 22 5.10999Z" stroke="#FFC300" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M7 12H11" stroke="#FFC300" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M9 14V10" stroke="#FFC300" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`;case"Cross":return'<svg stroke="gray" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';case"Cross-Round":return`<svg xmlns="http://www.w3.org/2000/svg" fill="gray" class="h-5 w-5" viewBox="0 0 32 32" version="1.1">
      <path d="M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048zM9.76 20.256q0 0.832 0.576 1.408t1.44 0.608 1.408-0.608l2.816-2.816 2.816 2.816q0.576 0.608 1.408 0.608t1.44-0.608 0.576-1.408-0.576-1.408l-2.848-2.848 2.848-2.816q0.576-0.576 0.576-1.408t-0.576-1.408-1.44-0.608-1.408 0.608l-2.816 2.816-2.816-2.816q-0.576-0.608-1.408-0.608t-1.44 0.608-0.576 1.408 0.576 1.408l2.848 2.816-2.848 2.848q-0.576 0.576-0.576 1.408z"/>
      </svg>`;case"Cross_Round_h4":return`<svg xmlns="http://www.w3.org/2000/svg" fill="gray" class="h-4 w-4" viewBox="0 0 32 32" version="1.1">
      <path d="M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048zM9.76 20.256q0 0.832 0.576 1.408t1.44 0.608 1.408-0.608l2.816-2.816 2.816 2.816q0.576 0.608 1.408 0.608t1.44-0.608 0.576-1.408-0.576-1.408l-2.848-2.848 2.848-2.816q0.576-0.576 0.576-1.408t-0.576-1.408-1.44-0.608-1.408 0.608l-2.816 2.816-2.816-2.816q-0.576-0.608-1.408-0.608t-1.44 0.608-0.576 1.408 0.576 1.408l2.848 2.816-2.848 2.848q-0.576 0.576-0.576 1.408z"/>
      </svg>`;case"trash":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none">
      <path d="M5.16565 10.1534C5.07629 8.99181 5.99473 8 7.15975 8H16.8402C18.0053 8 18.9237 8.9918 18.8344 10.1534L18.142 19.1534C18.0619 20.1954 17.193 21 16.1479 21H7.85206C6.80699 21 5.93811 20.1954 5.85795 19.1534L5.16565 10.1534Z" stroke="gray" stroke-width="2"/>
      <path d="M19.5 5H4.5" stroke="gray" stroke-width="2" stroke-linecap="round"/>
      <path d="M10 3C10 2.44772 10.4477 2 11 2H13C13.5523 2 14 2.44772 14 3V5H10V3Z" stroke="gray" stroke-width="2"/>
      </svg>`;case"info":return`<svg xmlns="http://www.w3.org/2000/svg" fill="gray" class="h-5 w-5" viewBox="0 0 1920 1920">
          <path d="M960 0c530.193 0 960 429.807 960 960s-429.807 960-960 960S0 1490.193 0 960 429.807 0 960 0Zm0 101.053c-474.384 0-858.947 384.563-858.947 858.947S485.616 1818.947 960 1818.947 1818.947 1434.384 1818.947 960 1434.384 101.053 960 101.053Zm-42.074 626.795c-85.075 39.632-157.432 107.975-229.844 207.898-10.327 14.249-10.744 22.907-.135 30.565 7.458 5.384 11.792 3.662 22.656-7.928 1.453-1.562 1.453-1.562 2.94-3.174 9.391-10.17 16.956-18.8 33.115-37.565 53.392-62.005 79.472-87.526 120.003-110.867 35.075-20.198 65.9 9.485 60.03 47.471-1.647 10.664-4.483 18.534-11.791 35.432-2.907 6.722-4.133 9.646-5.496 13.23-13.173 34.63-24.269 63.518-47.519 123.85l-1.112 2.886c-7.03 18.242-7.03 18.242-14.053 36.48-30.45 79.138-48.927 127.666-67.991 178.988l-1.118 3.008a10180.575 10180.575 0 0 0-10.189 27.469c-21.844 59.238-34.337 97.729-43.838 138.668-1.484 6.37-1.484 6.37-2.988 12.845-5.353 23.158-8.218 38.081-9.82 53.42-2.77 26.522-.543 48.24 7.792 66.493 9.432 20.655 29.697 35.43 52.819 38.786 38.518 5.592 75.683 5.194 107.515-2.048 17.914-4.073 35.638-9.405 53.03-15.942 50.352-18.932 98.861-48.472 145.846-87.52 41.11-34.26 80.008-76 120.788-127.872 3.555-4.492 3.555-4.492 7.098-8.976 12.318-15.707 18.352-25.908 20.605-36.683 2.45-11.698-7.439-23.554-15.343-19.587-3.907 1.96-7.993 6.018-14.22 13.872-4.454 5.715-6.875 8.77-9.298 11.514-9.671 10.95-19.883 22.157-30.947 33.998-18.241 19.513-36.775 38.608-63.656 65.789-13.69 13.844-30.908 25.947-49.42 35.046-29.63 14.559-56.358-3.792-53.148-36.635 2.118-21.681 7.37-44.096 15.224-65.767 17.156-47.367 31.183-85.659 62.216-170.048 13.459-36.6 19.27-52.41 26.528-72.201 21.518-58.652 38.696-105.868 55.04-151.425 20.19-56.275 31.596-98.224 36.877-141.543 3.987-32.673-5.103-63.922-25.834-85.405-22.986-23.816-55.68-34.787-96.399-34.305-45.053.535-97.607 15.256-145.963 37.783Zm308.381-388.422c-80.963-31.5-178.114 22.616-194.382 108.33-11.795 62.124 11.412 115.76 58.78 138.225 93.898 44.531 206.587-26.823 206.592-130.826.005-57.855-24.705-97.718-70.99-115.729Z" fill-rule="evenodd"/>
        </svg>`;case"CrossOrange":return'<svg stroke="#E06C2B" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>';case"Edit":return`<svg xmlns="http://www.w3.org/2000/svg" fill="gray" class="h-4 w-4" viewBox="0 0 32 32" version="1.1">
      <path d="M7.263 19.051l-1.656 5.797c-0.030 0.102-0.048 0.22-0.048 0.342 0 0.691 0.559 1.251 1.25 1.252h0c0.126-0 0.248-0.019 0.363-0.053l-0.009 0.002 5.622-1.656c0.206-0.063 0.383-0.17 0.527-0.311l-0 0 17.568-17.394c0.229-0.227 0.371-0.541 0.371-0.889 0-0.345-0.14-0.657-0.365-0.883l-4.141-4.142c-0.227-0.226-0.539-0.366-0.885-0.366s-0.658 0.14-0.885 0.366v0l-17.394 17.394c-0.146 0.146-0.256 0.329-0.316 0.532l-0.002 0.009zM25.859 3.768l2.369 2.369-2.369 2.346-2.37-2.345zM9.578 20.049l12.144-12.144 2.361 2.336-12.307 12.184-3.141 0.924zM30 12.75c-0.69 0-1.25 0.56-1.25 1.25v14.75h-25.5v-25.5h14.75c0.69 0 1.25-0.56 1.25-1.25s-0.56-1.25-1.25-1.25v0h-16c-0.69 0-1.25 0.56-1.25 1.25v0 28c0 0.69 0.56 1.25 1.25 1.25h28c0.69-0.001 1.249-0.56 1.25-1.25v-16c-0-0.69-0.56-1.25-1.25-1.25h-0z"/>
      </svg>`;case"EditOrange":return'<svg stroke="#E06C2B" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>';case"ThumbUp":return'<svg stroke="#2ecc71" fill="none" stroke-width="2" viewBox="0 0 24 24" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path xmlns="http://www.w3.org/2000/svg" d="M4.42602 12.9469L10.1622 19.1217C11.1546 20.1899 12.8454 20.1899 13.8378 19.1217L19.574 12.9469C21.4753 10.9002 21.4753 7.58179 19.574 5.53505C17.6726 3.48832 14.5899 3.48832 12.6885 5.53505V5.53505C12.3168 5.93527 11.6832 5.93527 11.3115 5.53505V5.53505C9.4101 3.48832 6.32738 3.48832 4.42602 5.53505C2.52466 7.58178 2.52466 10.9002 4.42602 12.9469Z"  stroke-width="2"/></svg>';case"ThumbDown":return'<svg stroke="#e74c3c" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>';case"Report":return'<svg stroke="#f39c12" fill="none" stroke-width="1.5" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>';case"Plus":return'<svg stroke="#f39c12" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>';case"Globe":return'<svg fill="none" stroke="gray" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="h-4 w-4" height="1em" width="1em"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"></path></svg>';case"Lock":return'<svg fill="none" stroke="gray" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="h-4 w-4" height="1em" width="1em"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"></path></svg>';case"Eye":return'<svg fill="none" stroke="#8e44ad" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="h-4 w-4" height="1em" width="1em"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>';case"Quote":return'<svg stroke="#FFC300" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>';case"Link":return'<svg fill="none" stroke="gray" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="h-4 w-4" height="1em" width="1em" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2" ><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>';case"Community":return'<svg fill="none" stroke="#e67e22" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="h-4 w-4"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"></path></svg>';case"star-gray":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none">
      <g id="Interface / Star">
      <path id="Vector" d="M2.33496 10.3368C2.02171 10.0471 2.19187 9.52339 2.61557 9.47316L8.61914 8.76107C8.79182 8.74059 8.94181 8.63215 9.01465 8.47425L11.5469 2.98446C11.7256 2.59703 12.2764 2.59695 12.4551 2.98439L14.9873 8.47413C15.0601 8.63204 15.2092 8.74077 15.3818 8.76124L21.3857 9.47316C21.8094 9.52339 21.9791 10.0472 21.6659 10.3369L17.2278 14.4419C17.1001 14.56 17.0433 14.7357 17.0771 14.9063L18.255 20.8359C18.3382 21.2544 17.8928 21.5787 17.5205 21.3703L12.2451 18.4166C12.0934 18.3317 11.9091 18.3321 11.7573 18.417L6.48144 21.3695C6.10913 21.5779 5.66294 21.2544 5.74609 20.8359L6.92414 14.9066C6.95803 14.7361 6.90134 14.5599 6.77367 14.4419L2.33496 10.3368Z" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      </svg>`;case"star-yellow":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none">
      <g id="Interface / Star">
      <path id="Vector" d="M2.33496 10.3368C2.02171 10.0471 2.19187 9.52339 2.61557 9.47316L8.61914 8.76107C8.79182 8.74059 8.94181 8.63215 9.01465 8.47425L11.5469 2.98446C11.7256 2.59703 12.2764 2.59695 12.4551 2.98439L14.9873 8.47413C15.0601 8.63204 15.2092 8.74077 15.3818 8.76124L21.3857 9.47316C21.8094 9.52339 21.9791 10.0472 21.6659 10.3369L17.2278 14.4419C17.1001 14.56 17.0433 14.7357 17.0771 14.9063L18.255 20.8359C18.3382 21.2544 17.8928 21.5787 17.5205 21.3703L12.2451 18.4166C12.0934 18.3317 11.9091 18.3321 11.7573 18.417L6.48144 21.3695C6.10913 21.5779 5.66294 21.2544 5.74609 20.8359L6.92414 14.9066C6.95803 14.7361 6.90134 14.5599 6.77367 14.4419L2.33496 10.3368Z" stroke="#FFC300" fill="#FFC300" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      </svg>
      `;case"grid":return'<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 -5 20 20" id="meteor-icon-kit__solid-grip-lines" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 8.5C0 7.6716 0.67157 7 1.5 7H18.5C19.3284 7 20 7.6716 20 8.5C20 9.3284 19.3284 10 18.5 10H1.5C0.67157 10 0 9.3284 0 8.5zM0 1.5C0 0.67157 0.67157 0 1.5 0H18.5C19.3284 0 20 0.67157 20 1.5C20 2.32843 19.3284 3 18.5 3H1.5C0.67157 3 0 2.32843 0 1.5z" fill="gray"/></svg>';case"grid-yellow":return'<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 -5 20 20" id="meteor-icon-kit__solid-grip-lines" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 8.5C0 7.6716 0.67157 7 1.5 7H18.5C19.3284 7 20 7.6716 20 8.5C20 9.3284 19.3284 10 18.5 10H1.5C0.67157 10 0 9.3284 0 8.5zM0 1.5C0 0.67157 0.67157 0 1.5 0H18.5C19.3284 0 20 0.67157 20 1.5C20 2.32843 19.3284 3 18.5 3H1.5C0.67157 3 0 2.32843 0 1.5z" fill="#FFC300"/></svg>';case"list":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="h-4 w-4" viewBox="0 0 24 24" version="1.1">
      <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Design" transform="translate(-528.000000, -192.000000)" fill-rule="nonzero">
              <g id="distribute_spacing_vertical_line" transform="translate(528.000000, 192.000000)">
                  <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero">
  
  </path>
                  <path d="M20,19 C20.5523,19 21,19.4477 21,20 C21,20.5523 20.5523,21 20,21 L4,21 C3.44772,21 3,20.5523 3,20 C3,19.4477 3.44772,19 4,19 L20,19 Z M17,8 C18.1046,8 19,8.89543 19,10 L19,14 C19,15.1046 18.1046,16 17,16 L7,16 C5.89543,16 5,15.1046 5,14 L5,10 C5,8.89543 5.89543,8 7,8 L17,8 Z M17,10 L7,10 L7,14 L17,14 L17,10 Z M20,3 C20.5523,3 21,3.44772 21,4 C21,4.51283143 20.613973,4.93550653 20.1166239,4.9932722 L20,5 L4,5 C3.44772,5 3,4.55228 3,4 C3,3.48716857 3.38604429,3.06449347 3.88337975,3.0067278 L4,3 L20,3 Z" id="形状" fill="gray">
  
  </path>
              </g>
          </g>
      </g>
  </svg>`;case"list-yellow":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="h-4 w-4" viewBox="0 0 24 24" version="1.1">
      <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g id="Design" transform="translate(-528.000000, -192.000000)" fill-rule="nonzero">
              <g id="distribute_spacing_vertical_line" transform="translate(528.000000, 192.000000)">
                  <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z" id="MingCute" fill-rule="nonzero">
  
  </path>
                  <path d="M20,19 C20.5523,19 21,19.4477 21,20 C21,20.5523 20.5523,21 20,21 L4,21 C3.44772,21 3,20.5523 3,20 C3,19.4477 3.44772,19 4,19 L20,19 Z M17,8 C18.1046,8 19,8.89543 19,10 L19,14 C19,15.1046 18.1046,16 17,16 L7,16 C5.89543,16 5,15.1046 5,14 L5,10 C5,8.89543 5.89543,8 7,8 L17,8 Z M17,10 L7,10 L7,14 L17,14 L17,10 Z M20,3 C20.5523,3 21,3.44772 21,4 C21,4.51283143 20.613973,4.93550653 20.1166239,4.9932722 L20,5 L4,5 C3.44772,5 3,4.55228 3,4 C3,3.48716857 3.38604429,3.06449347 3.88337975,3.0067278 L4,3 L20,3 Z" id="形状" fill="#FFC300">
  
  </path>
              </g>
          </g>
      </g>
  </svg>`;case"next":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" class="h-4 w-4 " version="1.1" id="Layer_1" width="800px" height="800px" viewBox="0 0 8 8" enable-background="new 0 0 8 8" xml:space="preserve">
      <rect x="2.95" y="1.921" transform="matrix(-0.7071 -0.7071 0.7071 -0.7071 7.6689 8.4842)" width="5.283" height="1.466"/>
      <rect x="0.024" y="3.157" width="6.375" height="1.683"/>
      <rect x="2.956" y="4.615" transform="matrix(-0.7069 0.7073 -0.7073 -0.7069 13.3369 5.1684)" width="5.284" height="1.465"/>
      </svg>`;case"previous":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" class="h-4 w-4 " version="1.1" id="Layer_1"  viewBox="0 0 8 8" enable-background="new 0 0 8 8" xml:space="preserve">
      <rect x="-0.226" y="4.614" transform="matrix(0.7071 0.7071 -0.7071 0.7071 4.4884 -0.1417)" width="5.283" height="1.466"/>
      <rect x="1.607" y="3.161" width="6.375" height="1.683"/>
      <rect x="-0.233" y="1.921" transform="matrix(0.7069 -0.7073 0.7073 0.7069 -1.1708 2.4817)" width="5.284" height="1.465"/>
      </svg>`;case"setting":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12 8.00002C9.79085 8.00002 7.99999 9.79088 7.99999 12C7.99999 14.2092 9.79085 16 12 16C14.2091 16 16 14.2092 16 12C16 9.79088 14.2091 8.00002 12 8.00002ZM9.99999 12C9.99999 10.8955 10.8954 10 12 10C13.1046 10 14 10.8955 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 9.99999 13.1046 9.99999 12Z" fill="gray"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12 8.00002C9.79085 8.00002 7.99999 9.79088 7.99999 12C7.99999 14.2092 9.79085 16 12 16C14.2091 16 16 14.2092 16 12C16 9.79088 14.2091 8.00002 12 8.00002ZM9.99999 12C9.99999 10.8955 10.8954 10 12 10C13.1046 10 14 10.8955 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 9.99999 13.1046 9.99999 12Z" fill="gray"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.7673 1.01709C10.9925 0.999829 11.2454 0.99993 11.4516 1.00001L12.5484 1.00001C12.7546 0.99993 13.0075 0.999829 13.2327 1.01709C13.4989 1.03749 13.8678 1.08936 14.2634 1.26937C14.7635 1.49689 15.1915 1.85736 15.5007 2.31147C15.7454 2.67075 15.8592 3.0255 15.9246 3.2843C15.9799 3.50334 16.0228 3.75249 16.0577 3.9557L16.1993 4.77635L16.2021 4.77788C16.2369 4.79712 16.2715 4.81659 16.306 4.8363L16.3086 4.83774L17.2455 4.49865C17.4356 4.42978 17.6693 4.34509 17.8835 4.28543C18.1371 4.2148 18.4954 4.13889 18.9216 4.17026C19.4614 4.20998 19.9803 4.39497 20.4235 4.70563C20.7734 4.95095 21.0029 5.23636 21.1546 5.4515C21.2829 5.63326 21.4103 5.84671 21.514 6.02029L22.0158 6.86003C22.1256 7.04345 22.2594 7.26713 22.3627 7.47527C22.4843 7.7203 22.6328 8.07474 22.6777 8.52067C22.7341 9.08222 22.6311 9.64831 22.3803 10.1539C22.1811 10.5554 21.9171 10.8347 21.7169 11.0212C21.5469 11.1795 21.3428 11.3417 21.1755 11.4746L20.5 12L21.1755 12.5254C21.3428 12.6584 21.5469 12.8205 21.7169 12.9789C21.9171 13.1653 22.1811 13.4446 22.3802 13.8461C22.631 14.3517 22.7341 14.9178 22.6776 15.4794C22.6328 15.9253 22.4842 16.2797 22.3626 16.5248C22.2593 16.7329 22.1255 16.9566 22.0158 17.14L21.5138 17.9799C21.4102 18.1535 21.2828 18.3668 21.1546 18.5485C21.0028 18.7637 20.7734 19.0491 20.4234 19.2944C19.9803 19.6051 19.4613 19.7901 18.9216 19.8298C18.4954 19.8612 18.1371 19.7852 17.8835 19.7146C17.6692 19.6549 17.4355 19.5703 17.2454 19.5014L16.3085 19.1623L16.306 19.1638C16.2715 19.1835 16.2369 19.2029 16.2021 19.2222L16.1993 19.2237L16.0577 20.0443C16.0228 20.2475 15.9799 20.4967 15.9246 20.7157C15.8592 20.9745 15.7454 21.3293 15.5007 21.6886C15.1915 22.1427 14.7635 22.5032 14.2634 22.7307C13.8678 22.9107 13.4989 22.9626 13.2327 22.983C13.0074 23.0002 12.7546 23.0001 12.5484 23H11.4516C11.2454 23.0001 10.9925 23.0002 10.7673 22.983C10.5011 22.9626 10.1322 22.9107 9.73655 22.7307C9.23648 22.5032 8.80849 22.1427 8.49926 21.6886C8.25461 21.3293 8.14077 20.9745 8.07542 20.7157C8.02011 20.4967 7.97723 20.2475 7.94225 20.0443L7.80068 19.2237L7.79791 19.2222C7.7631 19.2029 7.72845 19.1835 7.69396 19.1637L7.69142 19.1623L6.75458 19.5014C6.5645 19.5702 6.33078 19.6549 6.11651 19.7146C5.86288 19.7852 5.50463 19.8611 5.07841 19.8298C4.53866 19.7901 4.01971 19.6051 3.57654 19.2944C3.2266 19.0491 2.99714 18.7637 2.84539 18.5485C2.71718 18.3668 2.58974 18.1534 2.4861 17.9798L1.98418 17.14C1.87447 16.9566 1.74067 16.7329 1.63737 16.5248C1.51575 16.2797 1.36719 15.9253 1.32235 15.4794C1.26588 14.9178 1.36897 14.3517 1.61976 13.8461C1.81892 13.4446 2.08289 13.1653 2.28308 12.9789C2.45312 12.8205 2.65717 12.6584 2.82449 12.5254L3.47844 12.0054V11.9947L2.82445 11.4746C2.65712 11.3417 2.45308 11.1795 2.28304 11.0212C2.08285 10.8347 1.81888 10.5554 1.61972 10.1539C1.36893 9.64832 1.26584 9.08224 1.3223 8.52069C1.36714 8.07476 1.51571 7.72032 1.63732 7.47528C1.74062 7.26715 1.87443 7.04347 1.98414 6.86005L2.48605 6.02026C2.58969 5.84669 2.71714 5.63326 2.84534 5.45151C2.9971 5.23637 3.22655 4.95096 3.5765 4.70565C4.01966 4.39498 4.53862 4.20999 5.07837 4.17027C5.50458 4.1389 5.86284 4.21481 6.11646 4.28544C6.33072 4.34511 6.56444 4.4298 6.75451 4.49867L7.69141 4.83775L7.69394 4.8363C7.72844 4.8166 7.7631 4.79712 7.79791 4.77788L7.80068 4.77635L7.94225 3.95571C7.97723 3.7525 8.02011 3.50334 8.07542 3.2843C8.14077 3.0255 8.25461 2.67075 8.49926 2.31147C8.80849 1.85736 9.23648 1.49689 9.73655 1.26937C10.1322 1.08936 10.5011 1.03749 10.7673 1.01709ZM14.0938 4.3363C14.011 3.85634 13.9696 3.61637 13.8476 3.43717C13.7445 3.2858 13.6019 3.16564 13.4352 3.0898C13.2378 3.00002 12.9943 3.00002 12.5073 3.00002H11.4927C11.0057 3.00002 10.7621 3.00002 10.5648 3.0898C10.3981 3.16564 10.2555 3.2858 10.1524 3.43717C10.0304 3.61637 9.98895 3.85634 9.90615 4.3363L9.75012 5.24064C9.69445 5.56333 9.66662 5.72467 9.60765 5.84869C9.54975 5.97047 9.50241 6.03703 9.40636 6.13166C9.30853 6.22804 9.12753 6.3281 8.76554 6.52822C8.73884 6.54298 8.71227 6.55791 8.68582 6.57302C8.33956 6.77078 8.16643 6.86966 8.03785 6.90314C7.91158 6.93602 7.83293 6.94279 7.70289 6.93196C7.57049 6.92094 7.42216 6.86726 7.12551 6.7599L6.11194 6.39308C5.66271 6.2305 5.43809 6.14921 5.22515 6.16488C5.04524 6.17811 4.87225 6.23978 4.72453 6.34333C4.5497 6.46589 4.42715 6.67094 4.18206 7.08103L3.72269 7.84965C3.46394 8.2826 3.33456 8.49907 3.31227 8.72078C3.29345 8.90796 3.32781 9.09665 3.41141 9.26519C3.51042 9.4648 3.7078 9.62177 4.10256 9.9357L4.82745 10.5122C5.07927 10.7124 5.20518 10.8126 5.28411 10.9199C5.36944 11.036 5.40583 11.1114 5.44354 11.2504C5.47844 11.379 5.47844 11.586 5.47844 12C5.47844 12.414 5.47844 12.621 5.44354 12.7497C5.40582 12.8887 5.36944 12.9641 5.28413 13.0801C5.20518 13.1875 5.07927 13.2876 4.82743 13.4879L4.10261 14.0643C3.70785 14.3783 3.51047 14.5352 3.41145 14.7349C3.32785 14.9034 3.29349 15.0921 3.31231 15.2793C3.33461 15.501 3.46398 15.7174 3.72273 16.1504L4.1821 16.919C4.4272 17.3291 4.54974 17.5342 4.72457 17.6567C4.8723 17.7603 5.04528 17.8219 5.2252 17.8352C5.43813 17.8508 5.66275 17.7695 6.11199 17.607L7.12553 17.2402C7.42216 17.1328 7.5705 17.0791 7.7029 17.0681C7.83294 17.0573 7.91159 17.064 8.03786 17.0969C8.16644 17.1304 8.33956 17.2293 8.68582 17.427C8.71228 17.4421 8.73885 17.4571 8.76554 17.4718C9.12753 17.6719 9.30853 17.772 9.40635 17.8684C9.50241 17.963 9.54975 18.0296 9.60765 18.1514C9.66662 18.2754 9.69445 18.4367 9.75012 18.7594L9.90615 19.6637C9.98895 20.1437 10.0304 20.3837 10.1524 20.5629C10.2555 20.7142 10.3981 20.8344 10.5648 20.9102C10.7621 21 11.0057 21 11.4927 21H12.5073C12.9943 21 13.2378 21 13.4352 20.9102C13.6019 20.8344 13.7445 20.7142 13.8476 20.5629C13.9696 20.3837 14.011 20.1437 14.0938 19.6637L14.2499 18.7594C14.3055 18.4367 14.3334 18.2754 14.3923 18.1514C14.4502 18.0296 14.4976 17.963 14.5936 17.8684C14.6915 17.772 14.8725 17.6719 15.2344 17.4718C15.2611 17.4571 15.2877 17.4421 15.3141 17.427C15.6604 17.2293 15.8335 17.1304 15.9621 17.0969C16.0884 17.064 16.167 17.0573 16.2971 17.0681C16.4295 17.0791 16.5778 17.1328 16.8744 17.2402L17.888 17.607C18.3372 17.7696 18.5619 17.8509 18.7748 17.8352C18.9547 17.8219 19.1277 17.7603 19.2754 17.6567C19.4502 17.5342 19.5728 17.3291 19.8179 16.919L20.2773 16.1504C20.536 15.7175 20.6654 15.501 20.6877 15.2793C20.7065 15.0921 20.6721 14.9034 20.5885 14.7349C20.4895 14.5353 20.2921 14.3783 19.8974 14.0643L19.1726 13.4879C18.9207 13.2876 18.7948 13.1875 18.7159 13.0801C18.6306 12.9641 18.5942 12.8887 18.5564 12.7497C18.5215 12.6211 18.5215 12.414 18.5215 12C18.5215 11.586 18.5215 11.379 18.5564 11.2504C18.5942 11.1114 18.6306 11.036 18.7159 10.9199C18.7948 10.8126 18.9207 10.7124 19.1725 10.5122L19.8974 9.9357C20.2922 9.62176 20.4896 9.46479 20.5886 9.26517C20.6722 9.09664 20.7065 8.90795 20.6877 8.72076C20.6654 8.49906 20.5361 8.28259 20.2773 7.84964L19.8179 7.08102C19.5728 6.67093 19.4503 6.46588 19.2755 6.34332C19.1277 6.23977 18.9548 6.1781 18.7748 6.16486C18.5619 6.14919 18.3373 6.23048 17.888 6.39307L16.8745 6.75989C16.5778 6.86725 16.4295 6.92093 16.2971 6.93195C16.167 6.94278 16.0884 6.93601 15.9621 6.90313C15.8335 6.86965 15.6604 6.77077 15.3142 6.57302C15.2877 6.55791 15.2611 6.54298 15.2345 6.52822C14.8725 6.3281 14.6915 6.22804 14.5936 6.13166C14.4976 6.03703 14.4502 5.97047 14.3923 5.84869C14.3334 5.72467 14.3055 5.56332 14.2499 5.24064L14.0938 4.3363Z" fill="gray"/>
      </svg>`;case"add":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 "  viewBox="0 0 22 22" fill="none">
      <path d="M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="12" cy="12" r="9" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`;case"add-5":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 "  viewBox="0 0 22 22" fill="none">
      <path d="M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="12" cy="12" r="9" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`;case"add-white":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 "  viewBox="0 0 22 22" fill="none">
      <path d="M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="12" cy="12" r="9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`;case"add-go":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 "  viewBox="0 0 22 22" fill="none">
      <path d="M7 12L12 12M12 12L17 12M12 12V7M12 12L12 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <circle cx="12" cy="12" r="9" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`;case"pin-yellow":return`<svg xmlns="http://www.w3.org/2000/svg" fill="#FFC300" class="h-4 w-4 " viewBox="0 0 16 16"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>

      <g>
      
      <polygon points="13 8 11 6 11 3 12 3 12 1 4 1 4 3 5 3 5 6 3 8 3 10 7.3 10 7.3 16 8.7 16 8.7 10 13 10 13 8"/>
      
      </g>
      
      </svg>`;case"pin-gray":return`<svg xmlns="http://www.w3.org/2000/svg" transform="rotate(-45)" class="h-4 w-4 " viewBox="0 0 15 15" fill="none">
      <path d="M0.5 14.5L5 10M0.5 5.5L9.5 14.5M8.5 0.5L14.5 6.5M1.5 6.5L9.5 1.5M8.5 13.5L13.5 5.5" stroke="gray"/>
      </svg>`;case"fork":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" class="h-4 w-4 " viewBox="0 0 36 36" version="1.1" preserveAspectRatio="xMidYMid meet">
      <path d="M24,10V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V22a2,2,0,0,0,2,2h4V12a2,2,0,0,1,2-2Z" class="clr-i-solid clr-i-solid-path-1"/><path d="M30,12H14a2,2,0,0,0-2,2V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V14A2,2,0,0,0,30,12ZM28,23H23v5H21V23H16V21h5V16h2v5h5Z" class="clr-i-solid clr-i-solid-path-2"/>
      <rect x="0" y="0" width="36" height="36" fill-opacity="0"/>
  </svg>`;case"fork-yellow":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#FFC300" class="h-4 w-4 " viewBox="0 0 36 36" version="1.1" preserveAspectRatio="xMidYMid meet">
      <path d="M24,10V6a2,2,0,0,0-2-2H6A2,2,0,0,0,4,6V22a2,2,0,0,0,2,2h4V12a2,2,0,0,1,2-2Z" class="clr-i-solid clr-i-solid-path-1"/><path d="M30,12H14a2,2,0,0,0-2,2V30a2,2,0,0,0,2,2H30a2,2,0,0,0,2-2V14A2,2,0,0,0,30,12ZM28,23H23v5H21V23H16V21h5V16h2v5h5Z" class="clr-i-solid clr-i-solid-path-2"/>
      <rect x="0" y="0" width="36" height="36" fill-opacity="0"/>
  </svg>`;case"import":return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-square w-4 h-4 "><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M12 8v8"/><path d="m8 12 4 4 4-4"/></svg>';case"import-h5":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 " viewBox="0 0 24 24" fill="none">
      <path d="M12.44 14.75H3.75C3.34 14.75 3 14.41 3 14C3 13.59 3.34 13.25 3.75 13.25H12.44L10.72 11.53C10.43 11.24 10.43 10.76 10.72 10.47C11.01 10.18 11.49 10.18 11.78 10.47L14.78 13.47C14.85 13.54 14.9 13.62 14.94 13.71C15.02 13.89 15.02 14.1 14.94 14.28C14.9 14.37 14.85 14.45 14.78 14.52L11.78 17.52C11.63 17.67 11.44 17.74 11.25 17.74C11.06 17.74 10.87 17.67 10.72 17.52C10.43 17.23 10.43 16.75 10.72 16.46L12.44 14.74V14.75ZM21 9.5V18C21 19.52 19.77 20.75 18.25 20.75H10.75C9.23 20.75 8 19.52 8 18V17C8 16.59 8.34 16.25 8.75 16.25C9.16 16.25 9.5 16.59 9.5 17V18C9.5 18.69 10.06 19.25 10.75 19.25H18.25C18.94 19.25 19.5 18.69 19.5 18V10.25H14.75C14.34 10.25 14 9.91 14 9.5V4.75H10.75C10.06 4.75 9.5 5.31 9.5 6V11C9.5 11.41 9.16 11.75 8.75 11.75C8.34 11.75 8 11.41 8 11V6C8 4.48 9.23 3.25 10.75 3.25H14.75C14.95 3.25 15.14 3.33 15.28 3.47L20.78 8.97C20.92 9.11 21 9.3 21 9.5ZM15.5 8.75H18.44L15.5 5.81V8.75Z" fill="gray"/>
      </svg>`;case"import-yellow":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 "  viewBox="0 0 16 16">
      <path fill="#FFC300" fill-rule="evenodd" d="M14,9 C14.5523,9 15,9.44772 15,10 L15,13 C15,14.1046 14.1046,15 13,15 L3,15 C1.89543,15 1,14.1046 1,13 L1,10 C1,9.44772 1.44772,9 2,9 C2.55228,9 3,9.44771 3,10 L3,13 L13,13 L13,10 C13,9.44771 13.4477,9 14,9 Z M8,1 C8.55228,1 9,1.44772 9,2 L9,6.58579 L10.2929,5.29289 C10.6834,4.90237 11.3166,4.90237 11.7071,5.29289 C12.0976,5.68342 12.0976,6.31658 11.7071,6.70711 L8,10.4142 L4.29289,6.70711 C3.90237,6.31658 3.90237,5.68342 4.29289,5.29289 C4.68342,4.90237 5.31658,4.90237 5.70711,5.29289 L7,6.58579 L7,2 C7,1.44772 7.44772,1 8,1 Z"/>
    </svg>`;case"export":return`<svg xmlns="http://www.w3.org/2000/svg" fill="gray" class="h-4 w-4 " viewBox="0 0 256 256" id="Flat">
   <path d="M71.51465,88.48535a12.0001,12.0001,0,0,1,16.9707-16.9707L116,99.0293V24a12,12,0,0,1,24,0V99.0293l27.51465-27.51465a12.0001,12.0001,0,0,1,16.9707,16.9707l-48,48c-.01855.01856-.03906.03369-.05762.05225q-.394.38892-.82128.7417c-.14112.11621-.29.21728-.43555.32617-.168.12549-.33252.25586-.50733.37305-.17138.11425-.34912.21386-.5249.31836-.16015.09619-.31738.19677-.48291.28564-.17822.09521-.36133.17578-.543.26172-.17334.08154-.34326.168-.521.2417-.17676.07324-.35742.13183-.53711.19629-.18946.06836-.377.14111-.57129.20019-.17969.0542-.36182.09375-.543.13965-.19824.04981-.394.10547-.59619.14551-.2085.041-.41944.06592-.62988.09619-.17676.02539-.35108.05908-.53077.07666C128.79,139.979,128.395,140,128,140s-.79-.021-1.18359-.05957c-.17969-.01758-.354-.05127-.53077-.07666-.21044-.03027-.42138-.05518-.62988-.09619-.20215-.04-.39795-.0957-.59619-.14551-.18115-.0459-.36328-.08545-.543-.13965-.19433-.05908-.38232-.13183-.57226-.20019-.1792-.06446-.35938-.12305-.53614-.19629-.17773-.07373-.34814-.16016-.52148-.24219-.18164-.08545-.36475-.166-.54248-.26123-.16553-.08887-.32276-.18945-.48291-.28564-.17578-.1045-.35352-.20411-.5249-.31836-.17481-.11719-.33936-.24756-.50733-.37305-.14551-.10889-.29443-.21-.43555-.32617q-.42846-.35157-.82128-.7417c-.01856-.01856-.03907-.03369-.05762-.05225ZM204,168a16,16,0,1,0-16,16A16.01833,16.01833,0,0,0,204,168Zm20-52H184.56836a12,12,0,1,0,0,24H220v56H36V140H71.43164a12,12,0,1,0,0-24H32a20.02229,20.02229,0,0,0-20,20v64a20.02229,20.02229,0,0,0,20,20H224a20.02229,20.02229,0,0,0,20-20V136A20.02229,20.02229,0,0,0,224,116Z"/>
 </svg>`;case"go-back":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 16 16">
      <path fill="gray" fill-rule="evenodd" d="M4.297105,3.29289 L0.59,7 L4.297105,10.7071 C4.687635,11.0976 5.320795,11.0976 5.711315,10.7071 C6.101845,10.3166 6.101845,9.68342 5.711315,9.29289 L4.418425,8 L11.504215,8 C12.332615,8 13.004215,8.67157 13.004215,9.5 C13.004215,10.3284 12.332615,11 11.504215,11 L10.004215,11 C9.451935,11 9.004215,11.4477 9.004215,12 C9.004215,12.5523 9.451935,13 10.004215,13 L11.504215,13 C13.437215,13 15.004215,11.433 15.004215,9.5 C15.004215,7.567 13.437215,6 11.504215,6 L4.418425,6 L5.711315,4.70711 C6.101845,4.31658 6.101845,3.68342 5.711315,3.29289 C5.320795,2.90237 4.687635,2.90237 4.297105,3.29289 Z"/>
    </svg>`;case"copy":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <g id="Edit / Copy">
      <path id="Vector" d="M9 9V6.2002C9 5.08009 9 4.51962 9.21799 4.0918C9.40973 3.71547 9.71547 3.40973 10.0918 3.21799C10.5196 3 11.0801 3 12.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07967 21.0002 6.19978V11.7998C21.0002 12.9199 21.0002 13.48 20.7822 13.9078C20.5905 14.2841 20.2839 14.5905 19.9076 14.7822C19.4802 15 18.921 15 17.8031 15H15M9 9H6.2002C5.08009 9 4.51962 9 4.0918 9.21799C3.71547 9.40973 3.40973 9.71547 3.21799 10.0918C3 10.5196 3 11.0801 3 12.2002V17.8002C3 18.9203 3 19.4801 3.21799 19.9079C3.40973 20.2842 3.71547 20.5905 4.0918 20.7822C4.5192 21 5.07899 21 6.19691 21H11.8036C12.9215 21 13.4805 21 13.9079 20.7822C14.2842 20.5905 14.5905 20.2839 14.7822 19.9076C15 19.4802 15 18.921 15 17.8031V15M9 9H11.8002C12.9203 9 13.4801 9 13.9079 9.21799C14.2842 9.40973 14.5905 9.71547 14.7822 10.0918C15 10.5192 15 11.079 15 12.1969L15 15" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      </svg>`;case"horizontal-menu":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M4 12C4 11.4477 4.44772 11 5 11C5.55228 11 6 11.4477 6 12C6 12.5523 5.55228 13 5 13C4.44772 13 4 12.5523 4 12ZM5 15C6.65685 15 8 13.6569 8 12C8 10.3431 6.65685 9 5 9C3.34315 9 2 10.3431 2 12C2 13.6569 3.34315 15 5 15ZM12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12ZM19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11ZM22 12C22 13.6569 20.6569 15 19 15C17.3431 15 16 13.6569 16 12C16 10.3431 17.3431 9 19 9C20.6569 9 22 10.3431 22 12Z" fill="gray"/>
      </svg>`;case"drag-hand":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " fill="gray" width="800px" height="800px" viewBox="0 0 24 24"><script xmlns=""/>
      <path d="M6,7 L3.70710678,7 L3.85355339,7.14644661 C4.04881554,7.34170876 4.04881554,7.65829124 3.85355339,7.85355339 C3.65829124,8.04881554 3.34170876,8.04881554 3.14644661,7.85355339 L2.14644661,6.85355339 C1.95118446,6.65829124 1.95118446,6.34170876 2.14644661,6.14644661 L3.14644661,5.14644661 C3.34170876,4.95118446 3.65829124,4.95118446 3.85355339,5.14644661 C4.04881554,5.34170876 4.04881554,5.65829124 3.85355339,5.85355339 L3.70710678,6 L6,6 L6,3.70710678 L5.85355339,3.85355339 C5.65829124,4.04881554 5.34170876,4.04881554 5.14644661,3.85355339 C4.95118446,3.65829124 4.95118446,3.34170876 5.14644661,3.14644661 L6.14644661,2.14644661 C6.34170876,1.95118446 6.65829124,1.95118446 6.85355339,2.14644661 L7.85355339,3.14644661 C8.04881554,3.34170876 8.04881554,3.65829124 7.85355339,3.85355339 C7.65829124,4.04881554 7.34170876,4.04881554 7.14644661,3.85355339 L7,3.70710678 L7,6 L9.29289322,6 L9.14644661,5.85355339 C8.95118446,5.65829124 8.95118446,5.34170876 9.14644661,5.14644661 C9.34170876,4.95118446 9.65829124,4.95118446 9.85355339,5.14644661 L10.8535534,6.14644661 C11.0488155,6.34170876 11.0488155,6.65829124 10.8535534,6.85355339 L9.85355339,7.85355339 C9.65829124,8.04881554 9.34170876,8.04881554 9.14644661,7.85355339 C8.95118446,7.65829124 8.95118446,7.34170876 9.14644661,7.14644661 L9.29289322,7 L7,7 L7,9.29289322 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 C8.04881554,9.34170876 8.04881554,9.65829124 7.85355339,9.85355339 L6.85355339,10.8535534 C6.65829124,11.0488155 6.34170876,11.0488155 6.14644661,10.8535534 L5.14644661,9.85355339 C4.95118446,9.65829124 4.95118446,9.34170876 5.14644661,9.14644661 C5.34170876,8.95118446 5.65829124,8.95118446 5.85355339,9.14644661 L6,9.29289322 L6,7 Z M14,9.5 L14,12.0474376 C14,12.3783481 13.8839855,12.698786 13.6721417,12.9529985 C13.1720143,13.5531514 12.2800608,13.6342381 11.6799078,13.1341106 L10.7560738,12.3642489 C10.4736449,12.1288916 10.11764,12 9.75,12 C9.48363526,12 9.24082605,12.1526146 9.12532205,12.3926334 L9.08962348,12.4668155 C8.95447865,12.7476481 8.99541029,13.0814869 9.19439734,13.321352 L13.607865,18.6414804 C14.3217788,19.502054 15.3818498,20 16.5,20 C18.9852814,20 21,17.9852814 21,15.5 L21,11.5 C21,11.2238576 20.7761424,11 20.5,11 C20.2238576,11 20,11.2238576 20,11.5 L20,12.5 C20,12.7761424 19.7761424,13 19.5,13 C19.2238576,13 19,12.7761424 19,12.5 L19,10.5 C19,10.2238576 18.7761424,10 18.5,10 C18.2238576,10 18,10.2238576 18,10.5 L18,12.5 C18,12.7761424 17.7761424,13 17.5,13 C17.2238576,13 17,12.7761424 17,12.5 L17,9.5 C17,9.22385763 16.7761424,9 16.5,9 C16.2238576,9 16,9.22385763 16,9.5 L16,12.5 C16,12.7761424 15.7761424,13 15.5,13 C15.2238576,13 15,12.7761424 15,12.5 L15,5.5 C15,5.22385763 14.7761424,5 14.5,5 C14.2238576,5 14,5.22385763 14,5.5 L14,9.5 Z M13,9.49999997 L13,5.5 C13,4.67157288 13.6715729,4 14.5,4 C15.3284271,4 16,4.67157288 16,5.5 L16,8.08535285 C16.1563895,8.03007711 16.3246823,8 16.5,8 C17.191734,8 17.7741062,8.46823386 17.9474595,9.10504462 C18.1184541,9.03725677 18.3048761,9 18.5,9 C19.191734,9 19.7741062,9.46823386 19.9474595,10.1050446 C20.1184541,10.0372568 20.3048761,10 20.5,10 C21.3284271,10 22,10.6715729 22,11.5 L22,15.5 C22,18.5375661 19.5375661,21 16.5,21 C15.0842933,21 13.7421216,20.3695431 12.8382246,19.279958 L8.42475695,13.9598296 C7.97611908,13.4190278 7.88383427,12.6663521 8.18853292,12.0331845 L8.2242315,11.9590024 C8.50634865,11.3727595 9.09940726,11 9.75,11 C10.3515765,11 10.9341143,11.2109078 11.3962582,11.5960277 L12.3200922,12.3658894 C12.4959683,12.5124527 12.7573571,12.4886901 12.9039205,12.3128141 C12.9660017,12.2383166 13,12.1444116 13,12.0474376 L13,9.5 Z"/>
    </svg>`;case"drag-lines":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 drag-icon cursor-move " fill="gray" viewBox="0 0 48 48"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>
      
      <g id="Layer_2" data-name="Layer 2">
        <g id="invisible_box" data-name="invisible box">
          <rect width="48" height="48" fill="none"/>
        </g>
        <g id="icons_Q2" data-name="icons Q2">
          <g>
            <path d="M46,20a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2H2a2,2,0,0,1,2-2H44a2,2,0,0,1,2,2Z"/>
            <path d="M46,28a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2H2a2,2,0,0,1,2-2H44a2,2,0,0,1,2,2Z"/>
          </g>
        </g>
      </g>
    </svg>`;case"drag-prompt":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 drag-icon-prompt cursor-grab " fill="gray" viewBox="0 0 48 48"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>
      
      <g id="Layer_2" data-name="Layer 2">
        <g id="invisible_box" data-name="invisible box">
          <rect width="48" height="48" fill="none"/>
        </g>
        <g id="icons_Q2" data-name="icons Q2">
          <g>
            <path d="M46,20a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2H2a2,2,0,0,1,2-2H44a2,2,0,0,1,2,2Z"/>
            <path d="M46,28a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2H2a2,2,0,0,1,2-2H44a2,2,0,0,1,2,2Z"/>
          </g>
        </g>
      </g>
    </svg>`;case"no-txt-logo-light":return'<svg id="Layer_1" style="width:5em; margin-left:25%;"  data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198.6 198.6"><defs><style>.cls-1{fill:#505d69;stroke:#505d69;stroke-miterlimit:10;stroke-width:4px;}.cls-2{fill:#fff;}</style></defs><rect class="cls-1" x="3.35" y="3.11" width="192.39" height="192.39" rx="20"/><path class="cls-2" d="M120.14,132.35,107.07,116,89.16,93.72l0,0L57.14,53.6a5,5,0,0,0-3.91-1.88v0H34.45a5,5,0,0,0-4.3,7.67L71.79,144.1a5,5,0,0,0,6.71,2.3,5,5,0,0,0,1.67-1.32L93,129.5l-6.43-8-9.16,11.18L42.51,61.76h8.33l40,49.95,12.35,15.38,0,0,14,17.47a5,5,0,0,0,2,1.72,5,5,0,0,0,6.69-2.4l42.68-84.71a5,5,0,0,0,.64-2.46,5,5,0,0,0-5-5h-18v0a5,5,0,0,0-3.87,1.83l-37,45.11,6.42,8,36.8-44.88h7.65l-36,70.59Z"/></svg>';case"no-txt-logo-dark":return'<svg id="Layer_1" style="width:5em; margin-left:25%;" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200.7 200.7"><defs><style>.cls-1{fill:none;stroke:#fff;stroke-miterlimit:10;stroke-width:4px;}.cls-2{fill:#fff;}</style></defs><rect class="cls-1" x="4.3" y="4.51" width="192.39" height="192.39" rx="20"/><path class="cls-2" d="M121.08,133.74,108,117.41,90.1,95.12l.05,0L58.09,55a5,5,0,0,0-3.92-1.88v0H35.39a5,5,0,0,0-4.29,7.67L72.73,145.5a5,5,0,0,0,6.71,2.3,4.85,4.85,0,0,0,1.67-1.32L93.89,130.9l-6.42-8L78.3,134.09,43.45,63.16h8.34l39.95,50,12.36,15.37,0,0L118,146a4.94,4.94,0,0,0,2,1.71,5,5,0,0,0,6.68-2.39l42.68-84.71a5,5,0,0,0-4.39-7.5h-18v0a5,5,0,0,0-3.87,1.83l-37,45.11,6.42,8,36.8-44.88h7.65l-36,70.59Z"/></svg>';case"reload":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" class="h-4 w-4 " version="1.1" id="Capa_1" viewBox="0 0 489.533 489.533" xml:space="preserve"><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-custom-link"/><link xmlns="" type="text/css" rel="stylesheet" id="dark-mode-general-link"/><style xmlns="" lang="en" type="text/css" id="dark-mode-custom-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-style"/><style xmlns="" lang="en" type="text/css" id="dark-mode-native-sheet"/>
      <g>
        <path d="M268.175,488.161c98.2-11,176.9-89.5,188.1-187.7c14.7-128.4-85.1-237.7-210.2-239.1v-57.6c0-3.2-4-4.9-6.7-2.9   l-118.6,87.1c-2,1.5-2,4.4,0,5.9l118.6,87.1c2.7,2,6.7,0.2,6.7-2.9v-57.5c87.9,1.4,158.3,76.2,152.3,165.6   c-5.1,76.9-67.8,139.3-144.7,144.2c-81.5,5.2-150.8-53-163.2-130c-2.3-14.3-14.8-24.7-29.2-24.7c-17.9,0-31.9,15.9-29.1,33.6   C49.575,418.961,150.875,501.261,268.175,488.161z"/>
      </g>
      </svg>`;case"menu-vertical":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4ZM15 5C15 6.65685 13.6569 8 12 8C10.3431 8 9 6.65685 9 5C9 3.34315 10.3431 2 12 2C13.6569 2 15 3.34315 15 5ZM12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12ZM11 19C11 18.4477 11.4477 18 12 18C12.5523 18 13 18.4477 13 19C13 19.5523 12.5523 20 12 20C11.4477 20 11 19.5523 11 19ZM12 22C13.6569 22 15 20.6569 15 19C15 17.3431 13.6569 16 12 16C10.3431 16 9 17.3431 9 19C9 20.6569 10.3431 22 12 22Z" fill="gray"/>
      </svg>`;case"document":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.29289 1.29289C9.48043 1.10536 9.73478 1 10 1H18C19.6569 1 21 2.34315 21 4V20C21 21.6569 19.6569 23 18 23H6C4.34315 23 3 21.6569 3 20V8C3 7.73478 3.10536 7.48043 3.29289 7.29289L9.29289 1.29289ZM18 3H11V8C11 8.55228 10.5523 9 10 9H5V20C5 20.5523 5.44772 21 6 21H18C18.5523 21 19 20.5523 19 20V4C19 3.44772 18.5523 3 18 3ZM6.41421 7H9V4.41421L6.41421 7ZM7 13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13C17 13.5523 16.5523 14 16 14H8C7.44772 14 7 13.5523 7 13ZM7 17C7 16.4477 7.44772 16 8 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H8C7.44772 18 7 17.5523 7 17Z" fill="gray"/>
      </svg>`;case"html-doc":return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="gray" class="h-4 w-4 " version="1.1" id="Capa_1" viewBox="0 0 511 511" xml:space="preserve">
      <g>
        <path d="M498.962,102.751c-0.018-0.182-0.049-0.359-0.08-0.537c-0.011-0.063-0.016-0.128-0.029-0.191   c-0.042-0.21-0.096-0.416-0.156-0.619c-0.009-0.03-0.014-0.061-0.023-0.091c-0.063-0.207-0.138-0.409-0.218-0.608   c-0.011-0.027-0.019-0.055-0.03-0.081c-0.078-0.189-0.168-0.372-0.261-0.552c-0.019-0.037-0.034-0.075-0.054-0.112   c-0.09-0.167-0.189-0.327-0.291-0.486c-0.031-0.048-0.057-0.098-0.088-0.145c-0.101-0.151-0.212-0.295-0.324-0.438   c-0.039-0.05-0.073-0.102-0.113-0.151c-0.156-0.189-0.32-0.372-0.493-0.545L400.804,2.198c-0.173-0.173-0.355-0.338-0.545-0.493   c-0.049-0.04-0.101-0.074-0.151-0.113c-0.143-0.112-0.287-0.223-0.438-0.324c-0.047-0.032-0.097-0.058-0.145-0.088   c-0.159-0.101-0.319-0.201-0.486-0.291c-0.036-0.02-0.075-0.035-0.112-0.054c-0.181-0.093-0.364-0.183-0.552-0.261   c-0.027-0.011-0.054-0.019-0.081-0.03c-0.199-0.08-0.401-0.155-0.608-0.218c-0.03-0.009-0.061-0.015-0.091-0.023   c-0.203-0.059-0.409-0.114-0.619-0.156c-0.063-0.013-0.128-0.018-0.191-0.029c-0.177-0.031-0.355-0.062-0.537-0.08   C396.001,0.013,395.751,0,395.5,0h-224C149.72,0,132,17.72,132,39.5V80H43.5C26.131,80,12,94.131,12,111.5v80   c0,17.369,14.131,31.5,31.5,31.5H132v248.5c0,21.78,17.72,39.5,39.5,39.5h288c21.78,0,39.5-17.72,39.5-39.5v-368   C499,103.249,498.987,102.999,498.962,102.751z M403,25.606L473.394,96H427.5C413.991,96,403,85.009,403,71.5V25.606z M27,191.5   v-80c0-9.098,7.402-16.5,16.5-16.5h304c9.098,0,16.5,7.402,16.5,16.5v80c0,9.098-7.402,16.5-16.5,16.5H139.519   c-0.007,0-0.013-0.001-0.019-0.001S139.487,208,139.481,208H43.5C34.402,208,27,200.598,27,191.5z M459.5,496h-288   c-13.509,0-24.5-10.991-24.5-24.5V223h200.5c17.369,0,31.5-14.131,31.5-31.5v-80c0-17.369-14.131-31.5-31.5-31.5H147V39.5   c0-13.509,10.991-24.5,24.5-24.5H388v56.5c0,21.78,17.72,39.5,39.5,39.5H484v360.5C484,485.009,473.009,496,459.5,496z"/>
        <path d="M115.5,112c-4.142,0-7.5,3.358-7.5,7.5V152H67v-32.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v64   c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V167h41v16.5c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-64   C123,115.358,119.642,112,115.5,112z"/>
        <path d="M211.5,191c4.142,0,7.5-3.358,7.5-7.5v-36.923l10.069,16.782c1.355,2.259,3.797,3.641,6.431,3.641h8   c2.634,0,5.076-1.382,6.431-3.641L260,146.577V183.5c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-64   c0-3.371-2.249-6.328-5.498-7.228c-3.249-0.9-6.698,0.478-8.433,3.369L239.5,151.589l-21.569-35.948   c-1.734-2.891-5.186-4.267-8.433-3.369c-3.249,0.9-5.498,3.857-5.498,7.228v64C204,187.642,207.358,191,211.5,191z"/>
        <path d="M139.5,127H156v56.5c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5V127h16.5c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5   h-48c-4.142,0-7.5,3.358-7.5,7.5S135.358,127,139.5,127z"/>
        <path d="M299.5,191h40c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5H307v-56.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v64   C292,187.642,295.358,191,299.5,191z"/>
        <path d="M341.872,280.385c-3.929-1.309-8.177,0.814-9.487,4.744l-48,144c-1.31,3.929,0.814,8.177,4.744,9.487   c0.787,0.262,1.586,0.387,2.373,0.387c3.14,0,6.066-1.988,7.114-5.13l48-144C347.925,285.942,345.801,281.695,341.872,280.385z"/>
        <path d="M272.803,298.197c-2.929-2.929-7.678-2.929-10.606,0l-56,56c-2.929,2.929-2.929,7.678,0,10.606l56,56   c1.464,1.464,3.384,2.197,5.303,2.197s3.839-0.732,5.303-2.197c2.929-2.929,2.929-7.678,0-10.606L222.106,359.5l50.697-50.697   C275.732,305.875,275.732,301.125,272.803,298.197z"/>
        <path d="M368.803,298.197c-2.929-2.929-7.678-2.929-10.606,0c-2.929,2.929-2.929,7.678,0,10.606l50.697,50.697l-50.697,50.697   c-2.929,2.929-2.929,7.678,0,10.606c1.464,1.464,3.384,2.197,5.303,2.197s3.839-0.732,5.303-2.197l56-56   c2.929-2.929,2.929-7.678,0-10.606L368.803,298.197z"/>
      </g>
      </svg>
      `;case"save":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.85665 2.30447C8.2922 2.16896 10.3981 2 12 2C13.6019 2 15.7078 2.16896 17.1433 2.30447C18.4976 2.4323 19.549 3.51015 19.6498 4.85178C19.7924 6.74918 20 9.90785 20 12.2367C20 14.022 19.8781 16.2915 19.7575 18.1035C19.697 19.0119 19.6365 19.8097 19.5911 20.3806C19.5685 20.6661 19.5496 20.8949 19.5363 21.0526L19.5209 21.234L19.5154 21.2966L19.5153 21.2976C19.5153 21.2977 19.5153 21.2977 18.7441 21.2308L19.5153 21.2976C19.4927 21.5553 19.3412 21.7845 19.1122 21.9075C18.8831 22.0305 18.6072 22.0309 18.3779 21.9085L12.1221 18.5713C12.0458 18.5307 11.9542 18.5307 11.8779 18.5713L5.62213 21.9085C5.39277 22.0309 5.11687 22.0305 4.88784 21.9075C4.65881 21.7845 4.50732 21.5554 4.48466 21.2977L5.25591 21.2308C4.48466 21.2977 4.48467 21.2978 4.48466 21.2977L4.47913 21.234L4.46371 21.0526C4.45045 20.8949 4.43154 20.6661 4.40885 20.3806C4.3635 19.8097 4.30303 19.0119 4.24255 18.1035C4.12191 16.2915 4 14.022 4 12.2367C4 9.90785 4.20763 6.74918 4.3502 4.85178C4.45102 3.51015 5.50236 2.4323 6.85665 2.30447ZM5.93179 19.9971L11.1455 17.2159C11.6791 16.9312 12.3209 16.9312 12.8545 17.2159L18.0682 19.9971C18.1101 19.4598 18.1613 18.7707 18.2124 18.0019C18.3327 16.1962 18.4516 13.9687 18.4516 12.2367C18.4516 9.97099 18.2482 6.86326 18.1057 4.96632C18.0606 4.366 17.5938 3.89237 16.9969 3.83603C15.5651 3.70088 13.5225 3.53846 12 3.53846C10.4775 3.53846 8.43487 3.70088 7.00309 3.83603C6.40624 3.89237 5.9394 4.366 5.89429 4.96632C5.75175 6.86326 5.54839 9.97099 5.54839 12.2367C5.54839 13.9687 5.66734 16.1962 5.78756 18.0019C5.83874 18.7707 5.88993 19.4598 5.93179 19.9971Z" fill="gray"/>
      </svg>`;case"empty_checkbox":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <g id="Interface / Checkbox_Unchecked">
      <path id="Vector" d="M4 7.2002V16.8002C4 17.9203 4 18.4801 4.21799 18.9079C4.40973 19.2842 4.71547 19.5905 5.0918 19.7822C5.5192 20 6.07899 20 7.19691 20H16.8031C17.921 20 18.48 20 18.9074 19.7822C19.2837 19.5905 19.5905 19.2842 19.7822 18.9079C20 18.4805 20 17.9215 20 16.8036V7.19691C20 6.07899 20 5.5192 19.7822 5.0918C19.5905 4.71547 19.2837 4.40973 18.9074 4.21799C18.4796 4 17.9203 4 16.8002 4H7.2002C6.08009 4 5.51962 4 5.0918 4.21799C4.71547 4.40973 4.40973 4.71547 4.21799 5.0918C4 5.51962 4 6.08009 4 7.2002Z" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      </svg>`;case"checked_checkbox":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M7 2C4.23858 2 2 4.23858 2 7V17C2 19.7614 4.23858 22 7 22H17C19.7614 22 22 19.7614 22 17V7C22 4.23858 19.7614 2 17 2H7ZM15.7295 10.6839C16.1073 10.281 16.0869 9.6482 15.684 9.27047C15.281 8.89274 14.6482 8.91315 14.2705 9.31606L11.1865 12.6056L9.66437 11.2526C9.25159 10.8857 8.61952 10.9229 8.2526 11.3356C7.88568 11.7484 7.92286 12.3805 8.33565 12.7474L10.5856 14.7474C10.9907 15.1075 11.6089 15.0793 11.9795 14.6839L15.7295 10.6839Z" fill="#FFC300"/>
      </svg>`;case"folder":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24">
        <title/>
        <g id="Complete">
        <g id="folder">
        <path d="M2,18.8V5.3A2.3,2.3,0,0,1,4.3,3H9.6a1.1,1.1,0,0,1,.8.4l2.8,3.2a1.1,1.1,0,0,0,.8.4h5.6A2.2,2.2,0,0,1,22,9.2v9.7A2.2,2.2,0,0,1,19.8,21H4.2A2.2,2.2,0,0,1,2,18.8Z" fill="none" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
        </g>
        </g>
      </svg>`;case"eye_off":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <g id="Edit / Hide">
      <path id="Vector" d="M3.99989 4L19.9999 20M16.4999 16.7559C15.1473 17.4845 13.6185 17.9999 11.9999 17.9999C8.46924 17.9999 5.36624 15.5478 3.5868 13.7788C3.1171 13.3119 2.88229 13.0784 2.7328 12.6201C2.62619 12.2933 2.62616 11.7066 2.7328 11.3797C2.88233 10.9215 3.11763 10.6875 3.58827 10.2197C4.48515 9.32821 5.71801 8.26359 7.17219 7.42676M19.4999 14.6335C19.8329 14.3405 20.138 14.0523 20.4117 13.7803L20.4146 13.7772C20.8832 13.3114 21.1182 13.0779 21.2674 12.6206C21.374 12.2938 21.3738 11.7068 21.2672 11.38C21.1178 10.9219 20.8827 10.6877 20.4133 10.2211C18.6338 8.45208 15.5305 6 11.9999 6C11.6624 6 11.3288 6.02241 10.9999 6.06448M13.3228 13.5C12.9702 13.8112 12.5071 14 11.9999 14C10.8953 14 9.99989 13.1046 9.99989 12C9.99989 11.4605 10.2135 10.9711 10.5608 10.6113" stroke="gray" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      </svg>`;case"eye":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 " viewBox="0 0 24 24" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.30147 15.5771C4.77832 14.2684 3.6904 12.7726 3.18002 12C3.6904 11.2274 4.77832 9.73158 6.30147 8.42294C7.87402 7.07185 9.81574 6 12 6C14.1843 6 16.1261 7.07185 17.6986 8.42294C19.2218 9.73158 20.3097 11.2274 20.8201 12C20.3097 12.7726 19.2218 14.2684 17.6986 15.5771C16.1261 16.9282 14.1843 18 12 18C9.81574 18 7.87402 16.9282 6.30147 15.5771ZM12 4C9.14754 4 6.75717 5.39462 4.99812 6.90595C3.23268 8.42276 2.00757 10.1376 1.46387 10.9698C1.05306 11.5985 1.05306 12.4015 1.46387 13.0302C2.00757 13.8624 3.23268 15.5772 4.99812 17.0941C6.75717 18.6054 9.14754 20 12 20C14.8525 20 17.2429 18.6054 19.002 17.0941C20.7674 15.5772 21.9925 13.8624 22.5362 13.0302C22.947 12.4015 22.947 11.5985 22.5362 10.9698C21.9925 10.1376 20.7674 8.42276 19.002 6.90595C17.2429 5.39462 14.8525 4 12 4ZM10 12C10 10.8954 10.8955 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8955 14 10 13.1046 10 12ZM12 8C9.7909 8 8.00004 9.79086 8.00004 12C8.00004 14.2091 9.7909 16 12 16C14.2092 16 16 14.2091 16 12C16 9.79086 14.2092 8 12 8Z" fill="gray"/>
      </svg>`}},hr=function(e){e=document.getElementById(e);e&&(e.style="display: none;")},gr={[S.INFO]:"bg-gray-500",[S.SUCCESS]:"bg-green-500",[S.UPDATE]:"bg-[#5436DA]"},mr=(e,t,r)=>{var o=e.find(e=>e.MessageStatusNo===h.ACTIVE&&e.MessageSeverityNo===S.MANDATORY_MUST_CONFIRM&&(!e.ExpiryTime||new Date(e.ExpiryTime)>new Date));if(o){var a=o,n=t;let e=document.getElementById("confirmMessageModal");e||((e=document.createElement("div")).id="confirmMessageModal",e.addEventListener("submit",async e=>{e.preventDefault();e=e.target.MessageID.value;await n(e)&&hr("confirmMessageModal")}),document.body.appendChild(e)),e.innerHTML=`
      <div class="fixed inset-0 text-center transition-opacity z-50">
        <div class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full">
            <form>
              <div
                class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-2xl sm:my-8 sm:w-full text-left transform transition-all prose dark:prose-invert"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

                <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4">

                  <h3 class="mt-1 mb-6">${a.MessageSubject}</h3>

                  <div class="mb-6 overflow-y-auto">${a.MessageBodyHTML}</div>

                  <label class="font-semibold">
                    <input name="MessageID" value="${a.MessageID}" type="checkbox" class="mr-2 dark:bg-gray-700" required> 
                    I read and accept these terms & conditions
                  </label>
                </div>

                <div class="bg-gray-200 dark:bg-gray-700 px-4 py-3 text-right">
                  <button type="submit" id="reportPromptSubmitButton" class="bg-green-600 hover:bg-green-700 mr-2 px-4 py-2 rounded text-white">Confirm
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>

      </div>`,e.style="display: block;"}else if(o=e.find(e=>e.MessageStatusNo===h.ACTIVE&&e.MessageSeverityNo!==S.MANDATORY_MUST_CONFIRM&&(!e.ExpiryTime||new Date(e.ExpiryTime)>new Date))){var i=o;var s=r;const l=gr[i.MessageSeverityNo],d=document.createElement("div");d.innerHTML=`
      <div class="fixed flex justify-center w-full top-2 px-2 z-50 pointer-events-none">
        <div class="${l} flex pointer-events-auto px-6 py-3 rounded-md text-white" role="alert" style="min-width: 30rem;">
          <div class="flex flex-col gap-2 w-full">

            <h4 class="w-full">${i.MessageSubject}</h4>

            <div class="prose w-full text-white">
              ${i.MessageBodyHTML}
            </div> 

            <div class="flex gap-4 mt-4" style="justify-content: end;">
              <button data-message-vote-type-no="${N.MESSAGE_LIKE}" title="I like this">${C("ThumbUp")}</button>
              <button data-message-vote-type-no="${N.MESSAGE_DISLIKE}" title="I don't like this">${C("ThumbDown")}</button>
            </div>

          </div>
        </div>
      </div>
    `,d.querySelectorAll("button").forEach(e=>{e.addEventListener("click",async e=>{await s(i.MessageID,+e.target.closest("button").dataset.messageVoteTypeNo)&&d.remove()})}),document.body.appendChild(d)}},ur={english:{tabsLabel:["All Shared","My Prompts"],topicLabel:"Topic",activityLabel:"Activity",sortLabel:"Sort by",feedLabel:"Feed type",search:"Search",newPromptLabel:"Add new prompt template",likeTitle:["Vote ","Vote for this prompt with thumbs up"],dislikeTitle:"Vote for this prompt with thumbs down",forkTitle:["Copy to My Prompts","Prompt already copied!"],labelsOverTextareaElems:["Output in","Tone","Writing Style"],titleOnTopIcons:["Setting","Add New Prompt Templates","Import Prompt Template","Expanded View","Collapsed View","View Favorites"],cardIconsTitle:["Add prompt to favorites","Remove prompt from favorites","Save it as My Prompts","Prompt already copied!","Pin this prompt","UnPin this prompt","Download prompt template"],plusOnTextarea:"Add to My Prompts",reportTitle:"Report this prompt",useTitle:"Usages",topicTitle:"Topic: ",activityTitle:"Activity: ",authorTitle:"Created by ",timeTitle:"Last updated on ",shareTitle:"Copy link to this prompt ",editPrmptTitle:"Edit this prompt",dltPrmptTitle:"Delete this prompt",publicTitle:"Public",ownTitle:"Private",textareaPlaceholderIdentifier:"Enter: ",inputform:{saveAsNew:"Save as New Template",title:{label:"Template Name",placeholder:"Keyword Stretegy"},teaser:{label:"Short Description",placeholder:"Create a keyword strategy and SEO cotent plan from 1 [KEYWORD]"},promptHint:{label:"Hint - What to enter in the input field",placeholder:"[KEYWORD] or [Your list of keywords]"},promptTemplate:{label:"Prompt Template",placeholer:"Prompt text including placeholders"},addPromptBtn:"Add New Prompt",topic:"Topic",activity:"Tags",share:"Add to shared prompts",author:{label:"Author Name",placeholder:"Author Name"},authorUrl:{label:"Author URL",placeholder:"https://www.example.com"},agreeText:"Please be mindful of what you share, and do not include any confidential information, as we are not responsible for any actions taken by others with the information you choose to share.",save:"Save Prompt",cancel:"Cancel"}},danish:{tabsLabel:["Delte prompts","Mine prompts"],topicLabel:"Emne",activityLabel:"Aktivitet",sortLabel:"Sortér efter",feedLabel:"Feed type",search:"Søg",newPromptLabel:"Tilføj nyt prompt-mal",likeTitle:["Stem ","Stem på dette prompt med en tommelfinger op"],dislikeTitle:"Stem på dette prompt med en tommelfinger nedad",forkTitle:["Kopier til mine meddelelser","Prompt er allerede kopieret!"],labelsOverTextareaElems:["Output ind","Tone","Skrivestil"],titleOnTopIcons:["Indstilling","Tilføj nye promptskabeloner","Importer promptskabelon","Udvidet visning","Skjult visning","Se favoritter"],cardIconsTitle:["Tilføj prompt til favoritter","Fjern prompt fra favoritter","Gem det som Mine prompter","Prompt er allerede kopieret!","Fastgør denne prompt","Fjern fastgør denne prompt","Download prompt skabelon"],plusOnTextarea:"Føj til mine meddelelser",reportTitle:"Rapporter dette prompt",useTitle:"Anvendelser",topicTitle:"Emne: ",activityTitle:"Aktivitet: ",authorTitle:"Oprettet af ",timeTitle:"Sidst opdateret den ",shareTitle:"Kopier link til dette prompt ",editPrmptTitle:"Rediger dette prompt",dltPrmptTitle:"Slet dette prompt",publicTitle:"Offentligt",ownTitle:"Privat",textareaPlaceholderIdentifier:"Indtast: ",inputform:{saveAsNew:"Gem som ny skabelon",title:{label:"Skabelonnavn",placeholder:"Nøgleord Strategi"},teaser:{label:"Kort beskrivelse",placeholder:"Opret en nøgleordsstrategi og SEO-indholdsplan fra 1 [NØGLEORD]"},promptHint:{label:"Hint - Hvad skal indtastes i inputfeltet",placeholder:"[NØGLEORD] eller [Din liste af nøgleord]"},promptTemplate:{label:"Prompt Skabelon",placeholer:"Prompt tekst inklusive pladsholdere"},addPromptBtn:"Tilføj ny prompt",topic:"Emne",activity:"Tags",share:"Tilføj til delte prompts",author:{label:"Forfatternavn",placeholder:"Forfatternavn"},authorUrl:{label:"Forfatter-URL",placeholder:"https://www.eksempel.com"},agreeText:"Vær opmærksom på, hvad du deler, og inkluder ikke fortrolige oplysninger, da vi ikke er ansvarlige for handlinger foretaget af andre med de oplysninger, du vælger at dele.",save:"Gem Prompt",cancel:"Annuller"}}},vr={session:"https://chat.openai.com/api/auth/session",chats:"https://chat.openai.com/backend-api/conversations",chat:"https://chat.openai.com/backend-api/conversation",share_create:"https://chat.openai.com/backend-api/share/create",share:"https://chat.openai.com/backend-api/share",instructions:"https://chat.openai.com/backend-api/user_system_messages"};var fr=[],yr={quadrants:{topRight:[],bottomRight:[],bottomLeft:[],topLeft:[]}};localStorage.alertQueue=JSON.stringify(fr),localStorage.notifyQueue=JSON.stringify(yr);const k={openAIaccessToken:{},actAs:function(i){return new Promise((o,a)=>{const n=new XMLHttpRequest;n.open("GET","https://raw.githubusercontent.com/KudoAI/chat-prompts/main/dist/personas.min.json",!0),n.send(),n.onload=()=>{if(200!==n.status)return a("🤖 chatgpt.js >> Request failed. Cannot retrieve prompts data.");var e=JSON.parse(n.responseText).personas;if(i){var t=e.find(e=>e.title.toLowerCase()===i.toLowerCase());if(!t)return a(`🤖 chatgpt.js >> Persona '${i}' was not found!`);k.send(t.prompt,"click"),console.info(`Loading ${i} persona...`),k.isIdle().then(()=>{console.info("Persona activated!")})}else{console.log("\n%c🤖 chatgpt.js personas\n","font-family: sans-serif ; font-size: xxx-large ; font-weight: bold");for(const r of e)console.log("%c"+r.title,"font-family: monospace ; font-size: larger ;")}return o()}})},activateDarkMode:function(){document.documentElement.classList.replace("light","dark"),document.documentElement.style.colorScheme="dark",localStorage.setItem("theme","dark")},activateLightMode:function(){document.documentElement.classList.replace("dark","light"),document.documentElement.style.colorScheme="light",localStorage.setItem("theme","light")},alert:function(e,t,r,o,a){const n=document.createElement("div"),i=(n.id=Math.floor(1e6*k.randomFloat())+Date.now(),n.classList.add("chatgpt-modal"),document.createElement("div"));var s=document.createElement("h2"),l=document.createElement("p");let d;document.querySelector("#chatgpt-alert-style")?d=document.querySelector("#chatgpt-alert-style"):((d=document.createElement("style")).id="chatgpt-alert-style",document.head.appendChild(d));var c=k.isDarkMode()?"dark":"light";d.innerText=".chatgpt-modal {position: fixed ; top: 0 ; left: 0 ; width: 100% ; height: 100% ;background-color: rgba(67, 70, 72, 0.75) ;display: flex ; justify-content: center ; align-items: center ; z-index: 9999 }.chatgpt-modal > div {"+`background-color: ${"dark"==c?"black":"white"} ;`+(a?`width: ${a}px`:"max-width: 458px ")+" ;padding: 20px ; margin: 12px 23px ; border-radius: 5px ; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) }.chatgpt-modal h2 { margin-bottom: 9px }"+`.chatgpt-modal a { color: ${"dark"==c?"#00cfff":"#1e9ebb"}}`+".modal-buttons { display: flex ; justify-content: flex-end ; margin: 20px -5px -3px 0 }.chatgpt-modal button {margin-left: 10px ; padding: 4px 18px ; border-radius: 15px ;"+`border: 1px solid ${"dark"==c?"white":"black"}}`+".primary-modal-btn {"+`border: 1px solid ${"dark"==c?"white":"black"} ;`+`background: ${"dark"==c?"white":"black"} ;`+`color: ${"dark"==c?"black":"white"}}`+".chatgpt-modal button:hover { background-color: #42B4BF ; border-color: #42B4BF ; color: black }.chatgpt-modal .checkbox-group { display: flex ; margin-top: -18px }.chatgpt-modal .checkbox-group label {font-size: .7rem ; margin: -.04rem 0 0px .3rem ;"+`color: ${"dark"==c?"#e1e1e1":"#1e1e1e"}}`+'.chatgpt-modal input[type="checkbox"] { transform: scale(0.7) ;'+`border: 1px solid ${"dark"==c?"white":"black"}}`+'.chatgpt-modal input[type="checkbox"]:checked {'+`border: 1px solid ${"dark"==c?"white":"black"} ;`+'background-color: black ; position: inherit }.chatgpt-modal input[type="checkbox"]:focus { outline: none ; box-shadow: none }',s.innerText=e||"",l.innerText=t||"",this.renderHTML(l);const p=document.createElement("div"),h=(p.classList.add("modal-buttons"),r&&(r=Array.isArray(r)?r:[r]).forEach(e=>{var t=document.createElement("button");t.textContent=e.name.replace(/[_-]\w/g,e=>e.slice(1).toUpperCase()).replace(/([A-Z])/g," $1").replace(/^\w/,e=>e.toUpperCase()),t.addEventListener("click",()=>{g(),e()}),p.insertBefore(t,p.firstChild)}),document.createElement("button"));h.textContent=r?"Dismiss":"OK",h.addEventListener("click",g),p.insertBefore(h,p.firstChild),p.lastChild.classList.add("primary-modal-btn");a=document.createElement("div");if(o){a.classList.add("checkbox-group");const u=o,v=document.createElement("input");v.type="checkbox",v.addEventListener("change",u);c=document.createElement("label");c.addEventListener("click",function(){v.checked=!v.checked,u()}),c.textContent=u.name.charAt(0).toUpperCase()+u.name.slice(1).replace(/([A-Z])/g,(e,t)=>" "+t.toLowerCase()).replace(/\b(\w+)nt\b/gi,"$1n't").trim(),a.appendChild(v),a.appendChild(c)}function g(){if(n.remove(),(fr=JSON.parse(localStorage.alertQueue)).shift(),localStorage.alertQueue=JSON.stringify(fr),n.removeEventListener("click",g),document.removeEventListener("keydown",m),h.removeEventListener("click",g),0<fr.length){const e=document.getElementById(fr[0]);setTimeout(()=>{e.style.display="flex"},500)}}function m(e){if([13,27].includes(e.keyCode))for(const r of fr){var t=document.getElementById(r);if(t&&"none"!==t.style.display)return void(27===e.keyCode?g():13===e.keyCode&&(t=t.querySelector(".modal-buttons").lastChild)&&(t.click(),e.preventDefault()))}}return[s,l,p,a].forEach(e=>{i.appendChild(e)}),n.appendChild(i),document.body.appendChild(n),(fr=JSON.parse(localStorage.alertQueue)).push(n.id),localStorage.alertQueue=JSON.stringify(fr),document.addEventListener("keydown",m),n.addEventListener("click",e=>{e.target===n&&g()}),n.style.display=1===fr.length?"":"none",n.id},askAndGetReply:async function(e){return k.send(e),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")},autoRefresh:{activate:function(e){if(this.isActive)console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Auto refresh already active!");else{const o=this;this.toggle.refreshFrame(),!function t(r){const e=Math.max(2,Math.floor(21*k.randomFloat()-10));o.isActive=setTimeout(()=>{const e=document.querySelector('script[src*="_ssgManifest.js"]');document.querySelector("#refresh-frame").src=e.src+"?"+Date.now(),console.log("↻ ChatGPT >> ["+o.nowTimeStamp()+"] ChatGPT session refreshed"),t(r)},1e3*(r+e))}(e?parseInt(e,10):30),console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Auto refresh activated"),navigator.userAgent.includes("Chrome")&&void 0!==document.hidden&&document.addEventListener("visibilitychange",this.toggle.beacons)}},deactivate:function(){this.isActive?(this.toggle.refreshFrame(),document.removeEventListener("visibilitychange",this.toggle.beacons),clearTimeout(this.isActive),this.isActive=null,console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Auto refresh de-activated")):console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Auto refresh already inactive!")},nowTimeStamp:function(){var e=new Date,t=e.getHours()%12||12;let r=e.getMinutes(),o=e.getSeconds();r<10&&(r="0"+r),o<10&&(o="0"+o);e=e.getHours()<12?"AM":"PM";return t+":"+r+":"+o+" "+e},toggle:{beacons:function(){k.autoRefresh.beaconID?(clearInterval(k.autoRefresh.beaconID),k.autoRefresh.beaconID=null,console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Beacons de-activated")):(k.autoRefresh.beaconID=setInterval(function(){navigator.sendBeacon("https://httpbin.org/post",new Uint8Array),console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Beacon sent")},9e4),console.log("↻ ChatGPT >> ["+k.autoRefresh.nowTimeStamp()+"] Beacons activated"))},refreshFrame:function(){let e=document.querySelector("#refresh-frame");e?e.remove():(e=Object.assign(document.createElement("iframe"),{id:"refresh-frame",style:"display: none"}),document.head.prepend(e))}}},clearChats:async function(e){var t=["api","dom"];if((e=(e||"dom").trim().toLowerCase())&&!t.includes(e))return console.log(`Method argument must be one of: [${t}]`);if("dom"===e){try{await k.getChatData()}catch{return}function r(){document.querySelector("div[id*=radix] button").click()}k.menu.open(),setTimeout(()=>{for(const e of document.querySelectorAll('a[role="menuitem"]')||[])if(/settings/i.test(e.text)){e.click();break}setTimeout(()=>{for(const e of document.querySelectorAll("[id*=radix] button"))if(/^clear/i.test(e.textContent)){e.click();break}setTimeout(()=>{document.querySelector("[id*=radix] button").click(),setTimeout(r,10)},10)},10)},10)}else return new Promise(t=>{k.getAccessToken().then(e=>{var o;o=e,new Promise((e,t)=>{const r=new XMLHttpRequest;r.open("PATCH",vr.chats,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+o),r.onload=()=>200!==r.status?t("🤖 chatgpt.js >> Request failed. Cannot clear chats."):(console.info("Chats successfully cleared"),e()),r.send(JSON.stringify({is_visible:!1}))}).then(()=>t())})})},code:{execute:async function(e){return e?"string"!=typeof e?console.error("Code argument must be a string!"):(k.send("Display the output as if you were terminal:\n\n"+e),console.info("Executing code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))):console.error("Code argument not supplied. Pass some code!")},extract:function(e){var t=e.match(/(?<=```.*\n)[\s\S]*?(?=```)/g);return t?t[t.length-1]:e},minify:async function(e){return e?"string"!=typeof e?console.error("Code argument must be a string!"):(k.send("Minify the following code:\n\n"+e),console.info("Minifying code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))):console.error("Code argument not supplied. Pass some code!")},obfuscate:async function(e){return e?"string"!=typeof e?console.error("Code argument must be a string!"):(k.send("Obfuscate the following code:\n\n"+e),console.info("Obfuscating code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))):console.error("Code argument not supplied. Pass some code!")},refactor:async function(e,t){if(!e)return console.error("Code (1st) argument not supplied. Pass some code!");for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string.`);return k.send("Refactor the following code for "+(t||"brevity")+":\n\n"+e),console.info("Refactoring code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))},review:async function(e){return e?"string"!=typeof e?console.error("Code argument must be a string!"):(k.send("Review the following code for me:\n\n"+e),console.info("Reviewing code..."),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")):console.error("Code argument not supplied. Pass some code!")},unminify:async function(e){return e?"string"!=typeof e?console.error("Code argument must be a string!"):(k.send("Unminify the following code.:\n\n"+e),console.info("Unminifying code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))):console.error("Code argument not supplied. Pass some code!")},write:async function(e,t){if(!e)return console.error("Prompt (1st) argument not supplied. Pass a prompt!");if(!t)return console.error("outputLang (2nd) argument not supplied. Pass a language!");for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string.`);return k.send(e+"\n\nWrite this as code in "+t),console.info("Writing code..."),await k.isIdle(),k.code.extract(await k.getChatData("active","msg","chatgpt","latest"))}},detectLanguage:async function(e){return e?"string"!=typeof e?console.error("Text argument must be a string!"):(k.send("Detect the language of the following text:\n\n"+e+"\n\nOnly respond with the name of the language"),console.info("Reviewing text..."),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")):console.error("Text argument not supplied. Pass some text!")},executeCode:function(){k.code.execute()},exportChat:async function(e,t){e=e?Number.isInteger(e)||/^\d+$/.test(e)?parseInt(e,10):e:"active",t=t.toLowerCase()||"html",console.info("Generating transcript...");let o="",r;if(/te?xt/.test(t)){var a=new Date,n=a.getDate().toString().padStart(2,"0"),i=(a.getMonth()+1).toString().padStart(2,"0"),s=a.getFullYear(),l=a.getHours().toString().padStart(2,"0"),a=a.getMinutes().toString().padStart(2,"0");if(r=`ChatGPT_${n}-${i}-${s}_${l}-${a}.txt`,"active"==e&&/\/\w{8}-(\w{4}-){3}\w{12}$/.test(window.location.href)){n=document.querySelectorAll("main > div > div > div > div > div > div[class*=group]");if(0===n.length)return console.error("Chat is empty!");const d=[];let r=!0;n.forEach(e=>{var t=r?"USER":"CHATGPT",e=(r=!r,Array.from(e.childNodes).map(e=>e.innerText).join("\n\n").replace("Copy code",""));d.push(t+": "+e)}),o=d.join("\n\n")}else for(const c of await k.getChatData(e,"msg","both","all"))o=(o+=`USER: ${c.user}

`)+`CHATGPT: ${c.chatgpt}

`}else{i=await(await fetch(await k.shareChat(e))).text(),s=(new DOMParser).parseFromString(i,"text/html");r=s.querySelector("title").textContent+".html",s.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{var t=e.getAttribute("href");t?.startsWith("/")&&e.setAttribute("href","https://chat.openai.com"+t)}),o=(new XMLSerializer).serializeToString(s)}if(console.info(`Exporting transcript as ${t.toUpperCase()}...`),"pdf"==t){o=o.replace(/<svg.*?<\/svg>/g,e=>{return`<img src="${"data:image/svg+xml,"+encodeURIComponent(e)}">`});const p=window.open("","","toolbar=0, location=0, menubar=0, height=600, width=800");p.document.write(o),setTimeout(()=>{p.print({toPDF:!0})},100)}else{"md"==t&&(l=/<!?.*(<h1(.|\n)*?href=".*?continue.*?".*?\/a>.*?)<[^/]/.exec(o)[1],o=l||o,r=r.replace(".html",".md"));a=new Blob([o],{type:"text/"+("html"==t?"html":"md"==t?"markdown":"plain")}),n=document.createElement("a"),e=URL.createObjectURL(a);n.href=e,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}},extractCode:function(){k.code.extract()},generateRandomIP:function(){var e=Array.from({length:4},()=>Math.floor(256*k.randomFloat())).join(".");return console.info("IP generated: "+e),e},get:function(e,t=""){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Invalid arguments. Both arguments must be strings.");if(!br.includes(e.toLowerCase()))throw new Error("Invalid targetType: "+e+". Valid values are: "+JSON.stringify(br));var r=[],o=new RegExp("^get(.*)"+e+"$","i");for(const n in k)"function"==typeof k[n]&&o.test(n)&&r.push(n.replace(o,"$1").toLowerCase());if(!r.includes(t.toLowerCase()))throw new Error("Invalid targetName: "+t+". "+(0<r.length?"Valid values are: "+JSON.stringify(r):"targetType "+e.toLowerCase()+" does not require additional options."));const a=("get"+t+e).toLowerCase();return this[Object.keys(this).find(function(e){return e.toLowerCase()===a})]()},getAccessToken:function(){return new Promise((e,t)=>{if(0<Object.keys(k.openAIaccessToken).length&&0<=Date.parse(k.openAIaccessToken.expireDate)-Date.parse(new Date))return e(k.openAIaccessToken.token);const r=new XMLHttpRequest;r.open("GET",vr.session,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=()=>200!==r.status?t("🤖 chatgpt.js >> Request failed. Cannot retrieve access token."):(console.info("Token expiration: "+new Date(JSON.parse(r.responseText).expires).toLocaleString().replace(","," at")),k.openAIaccessToken={token:JSON.parse(r.responseText).accessToken,expireDate:JSON.parse(r.responseText).expires},e(k.openAIaccessToken.token)),r.send()})},getAccountDetails:function(...i){var e=["email","id","image","name","picture"];for(const t of i=arguments[0]?Array.isArray(arguments[0])?arguments[0]:Array.from(arguments):e)if(!e.includes(t))return console.error("Invalid detail arg '"+t+"' supplied. Valid details are:\n                    ["+e+"]");return new Promise((o,a)=>{const n=new XMLHttpRequest;n.open("GET",vr.session,!0),n.setRequestHeader("Content-Type","application/json"),n.onload=()=>{if(200!==n.status)return a("🤖 chatgpt.js >> Request failed. Cannot retrieve account details.");var e=JSON.parse(n.responseText).user,t={};for(const r of i)t[r]=e[r];return o(t)},n.send()})},getChatBox:function(){return document.getElementById("prompt-textarea")},getChatData:function(c=1,o="all",g="all",m="all"){var e=["all","id","title","create_time","update_time","msg"],t=["all","both","user","chatgpt"];c=c?Number.isInteger(c)||/^\d+$/.test(c)?0===parseInt(c,10)?0:parseInt(c,10)-1:c:"active",o=["all",""].includes(o)?e.filter(e=>/^(?!all$|msg$).*/.test(e)):Array.isArray(o)?o:[o],g=g?t.includes(g)?g:"invalid":"all",m=Number.isInteger(m)||/^\d+$/.test(m)?0===parseInt(m,10)?0:parseInt(m,10)-1:["all","latest"].includes(m.toLowerCase())?m.toLowerCase():m?"invalid":"all";for(const r of o)if(!e.includes(r))return console.error("Invalid detail arg '"+r+"' passed. Valid details are:\n                    ["+e+"]");return"invalid"===g?console.error("Invalid sender arg passed. Valid senders are:\n                    ["+t+"]"):"invalid"===m?console.error("Invalid msgToGet arg passed. Valid msg's to get are:\n                    [ 'all' | 'latest' | index of msg to get ]"):new Promise(r=>{k.getAccessToken().then(e=>{var t;o.includes("msg")?(t=e,new Promise((c,p)=>{const h=new XMLHttpRequest;a(t,["id"]).then(e=>{h.open("GET",vr.chat+"/"+e.id,!0),h.setRequestHeader("Content-Type","application/json"),h.setRequestHeader("Authorization","Bearer "+t),h.onload=()=>{if(200!==h.status)return p("🤖 chatgpt.js >> Request failed. Cannot retrieve chat messages.");var t=JSON.parse(h.responseText).mapping,r=[],o=[],a=[];for(const e in t)"message"in t[e]&&"user"===t[e].message.author.role&&r.push({id:t[e].id,msg:t[e].message});if(r.sort((e,t)=>e.msg.create_time-t.msg.create_time),parseInt(m,10)+1>r.length)return p("🤖 chatgpt.js >> Message/response with index "+(m+1)+" is out of bounds. Only "+r.length+" messages/responses exist!");for(const n of r){let e=[];for(const i in t)"message"in t[i]&&"assistant"===t[i].message.author.role&&t[i].parent===n.id&&e.push(t[i].message);e.sort((e,t)=>e.create_time-t.create_time),e=1===(e=e.map(e=>e.content.parts[0])).length?e[0]:e,o.push(e)}if("user"===g)for(const s in r)a.push(r[s].msg.content.parts[0]);else if("chatgpt"===g)for(const l of o)a.push("latest"===m?o[o.length-1]:l);else{let e=0;for(const d in r)a.push({user:r[d].msg.content.parts[0],chatgpt:"latest"===m?o[e][o[e].length-1]:o[e]}),e++}return c("all"===m?a:"latest"===m?a[a.length-1]:a[m])},h.send()})}).then(e=>r(e))):a(e,o).then(e=>r(e))})});function a(e,l){const d=/\w{8}-(\w{4}-){3}\w{12}/;return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",vr.chats,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Bearer "+e),s.onload=()=>{if(200!==s.status)return i("🤖 chatgpt.js >> Request failed. Cannot retrieve chat details.");var r=JSON.parse(s.responseText).items;if(r.length<=0)return i("🤖 chatgpt.js >> Chat list is empty.");var o={};if(Number.isInteger(c)||"latest"==c||"active"==c&&!new RegExp("/"+d.source+"$").test(window.location.href)){if((c=Number.isInteger(c)?c:0)>r.length)return i("🤖 chatgpt.js >> Chat with index "+(c+1)+" is out of bounds. Only "+r.length+" chats exist!");for(const e of l)o[e]=r[c][e]}else{var a="active"==c||new RegExp("^"+d.source+"$").test(c)?"id":"title";"active"==c&&(c=d.exec(window.location.href)[0]);let e,t;for(e=0;e<r.length;e++)if(r[e][a]===c){t=!0;break}if(!t)return i("🤖 chatgpt.js >> No chat with "+a+" = "+c+" found.");for(const n of l)o[n]=r[e][n]}return t(o)},s.send()})}},getChatInput:function(){return k.getChatBox().value},getContinueGeneratingButton:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("continue"))return e},getLastPrompt:function(){return k.getChatData("active","msg","user","latest")},getLastResponse:function(){return k.getChatData("active","msg","chatgpt","latest")},getNewChatLink:function(){for(const e of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/(new|clear) chat/i.test(e.text))return e},getRegenerateButton:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("regenerate"))return e},getResponse:function(){return(window.location.href.startsWith("https://chat.openai.com/c/")?k.getResponseFromDOM:k.getResponseFromAPI).apply(null,arguments)},getResponseFromAPI:function(e,t){return k.response.getFromAPI(e,t)},getResponseFromDOM:function(e){return k.response.getFromDOM(e)},getSendButton:function(){return document.querySelector('form button[class*="bottom"]')},getStopGeneratingButton:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("stop"))return e},getUserLanguage:function(){return navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||""},history:{isOn:function(){for(const e of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/clear chat/i.test(e.text))return!1;return!0},isOff:function(){return!this.isOn()},activate:function(){this.isOff()?this.toggle():console.info("Chat history is already enabled!")},deactivate:function(){this.isOn()?this.toggle():console.info("Chat history is already disabled!")},toggle:function(){for(const e of document.querySelectorAll('nav[aria-label="Chat history"] button'))return void(/chat history/i.test(e.textContent)&&e.click())}},instructions:{add:function(o,a){var e;return o?"string"!=typeof o?console.error("Instruction must be a string"):(e=["user","chatgpt"],a?"string"!=typeof a?console.error("Target must be a string"):(a=a.toLowerCase(),e.includes(a)?(o=`

`+o,new Promise(r=>{k.getAccessToken().then(async e=>{var t=await this.fetchData();return"user"===a?t.about_user_message+=o:"chatgpt"===a&&(t.about_model_message+=o),await this.sendRequest("POST",e,t),r()})})):console.error(`Invalid target ${a}. Valid targets are [${e}]`)):console.error("Please provide a valid target!")):console.error("Please provide an instruction")},clear:function(o){var e=["user","chatgpt"];return o?"string"!=typeof o?console.error("Target must be a string"):(o=o.toLowerCase(),e.includes(o)?new Promise(r=>{k.getAccessToken().then(async e=>{var t=await this.fetchData();return"user"===o?t.about_user_message="":"chatgpt"===o&&(t.about_model_message=""),await this.sendRequest("POST",e,t),r()})}):console.error(`Invalid target ${o}. Valid targets are [${e}]`)):console.error("Please provide a valid target!")},fetchData:function(){return new Promise(t=>{k.getAccessToken().then(async e=>t(await this.sendRequest("GET",e)))})},sendRequest:function(a,e,n){for(let e=0;e<arguments.length-1;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string`);var t=["POST","GET"];return(a=(a||"").trim().toUpperCase())&&t.includes(a)?e?n&&"object"!=typeof n?console.error(`Invalid body data type. Got ${typeof n}, expected object`):new Promise((t,r)=>{const o=new XMLHttpRequest;o.open(a,vr.instructions,!0),o.setRequestHeader("Accept-Language","en-US"),o.setRequestHeader("Authorization","Bearer "+e),"POST"===a&&o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{var e=JSON.parse(o.responseText);return 422===o.status?r("🤖 chatgpt.js >> Character limit exceeded. Custom instructions can have a maximum length of 1500 characters."):403===o.status&&"content_policy"===e.detail.reason?r("🤖 chatgpt.js >> "+e.detail.description):200!==o.status?r("🤖 chatgpt.js >> Request failed. Cannot contact custom instructions endpoint."):(console.info("Custom instructions successfully contacted with method "+a),t(e||{}))},o.send(JSON.stringify(n)||"")}):console.error("Please provide a valid access token!"):console.error("Valid methods are "+t)},turnOff:function(){return new Promise(r=>{k.getAccessToken().then(async e=>{var t=await this.fetchData();return t.enabled=!1,await this.sendRequest("POST",e,t),r()})})},turnOn:function(){return new Promise(r=>{k.getAccessToken().then(async e=>{var t=await this.fetchData();return t.enabled=!0,await this.sendRequest("POST",e,t),r()})})},toggle:function(){return new Promise(t=>{this.fetchData().then(async e=>(await(e.enabled?this.turnOff():this.turnOn()),t()))})}},isDarkMode:function(){return document.documentElement.classList.contains("dark")},isFullScreen:function(){var e=navigator.userAgent;return e.includes("Chrome")?window.matchMedia("(display-mode: fullscreen)").matches:e.includes("Firefox")?window.fullScreen:/MSIE|rv:/.test(e)?document.msFullscreenElement:document.webkitIsFullScreen},isIdle:function(){return new Promise(e=>{const t=setInterval(()=>{k.getRegenerateButton()&&(clearInterval(t),e())},100)})},isLoaded:function(){return new Promise(e=>{const t=setInterval(()=>{document.querySelector('nav button[id*="menu"]')&&(clearInterval(t),e())},100)})},isLightMode:function(){return document.documentElement.classList.contains("light")},logout:function(){window.location.href="https://chat.openai.com/auth/logout"},menu:{elements:[],addedEvent:!1,append:function(e,t={}){var r=["button","dropdown"];if(!e||"string"!=typeof e)return console.error("🤖 chatgpt.js >> Please supply a valid string element name!");if(e=e.toLowerCase(),!r.includes(e))return console.error(`🤖 chatgpt.js >> Invalid element! Valid elements are [${r}]`);const o=document.createElement("dropdown"===e?"select":"button"===e?"a":e);if(o.id=Math.floor(1e6*k.randomFloat())+Date.now(),"button"===e){o.textContent=t?.label&&"string"==typeof t.label?t.label:"chatgpt.js button";r=document.createElement("img");r.src=t?.icon&&"string"==typeof t.icon?t.icon:"https://raw.githubusercontent.com/KudoAI/chatgpt.js/main/starters/chrome/extension/icons/icon128.png",r.width=18,o.insertBefore(r,o.firstChild),o.onclick=t?.onclick&&"function"==typeof t.onclick?t.onclick:function(){}}else if("dropdown"===e){if(t?.items&&Array.isArray(t.items)&&t.items.length||(t.items=[{text:"🤖 chatgpt.js option",value:"chatgpt.js option value"}]),!t.items.every(e=>"object"==typeof e))return console.error("'items' must be an array of objects!");o.style="background-color: #000; width: 100%; border: none;",t.items.forEach(e=>{var t=document.createElement("option");t.textContent=e?.text,t.value=e?.value,o.add(t)})}function a(){var e,t=document.querySelectorAll('a[role="menuitem"]');let r;for(e of t)if("Settings"===e.textContent){r=e.classList;break}const o=t[0].parentNode;k.menu.elements.forEach(e=>{if(e.setAttribute("class",r),!o.contains(e))try{o.insertBefore(e,o.firstChild)}catch(e){console.error(e)}})}this.elements.push(o);r=document.querySelector('nav button[id*="headless"]');return this.addedEvent||(r.addEventListener("click",()=>{setTimeout(a,25)}),this.addedEvent=!0),o.id},close:function(){if(!document.querySelector('[role="menu"]'))throw console.error("Menu already hidden!"),new Error;var e=document.querySelector('nav button[id*="headless"]');try{e.click()}catch(e){throw console.error("Headless menu not found"),new Error}},open:function(){if(document.querySelector('[role="menu"]'))throw console.error("Menu already open!"),new Error;var e=document.querySelector('nav button[id*="headless"]');try{e.click()}catch(e){throw console.error("Headless menu not found"),new Error}}},minify:function(){k.code.minify()},notify:function(e,t,r,o){r=r?+r:1.75;const a=document.createElement("div");a.id=Math.floor(1e6*k.randomFloat())+Date.now(),a.style.cssText=" background-color: black ; padding: 10px ; border-radius: 8px ;  opacity: 0 ; position: fixed ; z-index: 9999 ; font-size: 1.8rem ; color: white ;  -webkit-user-select: none ; -moz-user-select: none ; -ms-user-select: none ; user-select: none ; "+(o?"box-shadow: -8px 13px 25px 0 "+(/\b(shadow|on)\b/gi.test(o)?"gray":o):""),document.body.appendChild(a),a.isTop=!t||!/low|bottom/i.test(t),a.isRight=!t||!/left/i.test(t),a.quadrant=(a.isTop?"top":"bottom")+(a.isRight?"Right":"Left"),(yr=JSON.parse(localStorage.notifyQueue)).quadrants[a.quadrant].push(a.id),localStorage.notifyQueue=JSON.stringify(yr),a.style.top=a.isTop?23..toString()+"px":"",a.style.bottom=a.isTop?"":23..toString()+"px",a.style.right=a.isRight?27..toString()+"px":"",a.style.left=a.isRight?"":27..toString()+"px";o=yr.quadrants[a.quadrant];if(1<o.length)try{for(const l of o.slice(0,-1)){var n=document.getElementById(l),i=n.style.top?"top":"bottom",s=+/\d+/.exec(n.style[i])[0]+5+n.getBoundingClientRect().height;n.style[i]=s+"px"}}catch(e){}a.innerText=e,a.style.transition="none",a.style.opacity=1,a.hideTimer=setTimeout(()=>{a.style.transition="opacity "+.6.toString()+"s",a.style.opacity=0,a.hideTimer=null},1e3*(r<.6?0:r-.6)),a.destroyTimer=setTimeout(()=>{a.remove(),(yr=JSON.parse(localStorage.notifyQueue)).quadrants[a.quadrant].shift(),localStorage.notifyQueue=JSON.stringify(yr),a.destroyTimer=null},1e3*Math.max(.6,r))},obfuscate:function(){k.code.obfuscate()},printAllFunctions:function(){const t={cmdPrompt:["#ff00ff","#00ff00"],objName:["#0611e9","#f9ee16"],methodName:["#005aff","#ffa500"],entryType:["#467e06","#b981f9"],srcMethod:["#ff0000","#00ffff"]};Object.keys(t).forEach(e=>{t[e][1]=t[e][1]||"#"+(16777215^Number("0x1"+t[e][0].replace(/^#/,""))).toString(16).substring(1).toUpperCase()});var e=[];for(const l in this)if("function"==typeof this[l]){var r=!Object.keys(this).find(e=>Object.keys(this[e]).includes(this[l].name));e.push([r?"chatgpt":"other",l])}else if("object"==typeof this[l])for(const d in this[l])"function"==typeof this[l][d]&&e.push([l,d]);e.sort(function(e,t){return e[0].localeCompare(t[0])||e[1].localeCompare(t[1])});var o=window.matchMedia("(prefers-color-scheme: dark)").matches,a="font-family: monospace ; font-size: larger ; ";console.log("\n%c🤖 chatgpt.js methods\n","font-family: sans-serif ; font-size: xxx-large ; font-weight: bold");for(const c of e){var n=/chatgpt|other/.test(c[0]),i="chatgpt"===c[0]?this[c[1]].name:"other"!==c[0]?c[0]+"."+c[1]:Object.keys(this).find(e=>Object.keys(this[e]).includes(this[c[1]].name))+"."+this[c[1]].name,s="AsyncFunction"===this[c[1]]?.constructor.name;console.log("%c>> %c"+(n?"":c[0]+".%c")+c[1]+" - https://chatgptjs.org/userguide/"+/(?:.*\.)?(.*)/.exec(i)[1].toLowerCase()+(s?"-async":"")+"\n%c[%c"+("chatgpt"===c[0]&&c[1]===this[c[1]].name||!n?"Function":"Alias of")+"%c: %c"+i+"%c]",a+"font-weight: bold ; color:"+t.cmdPrompt[+o],a+"font-weight: bold ;color:"+t[n?"methodName":"objName"][+o],a+"font-weight: "+(n?"initial":"bold")+";color:"+(n?"initial":t.methodName[+o]),a+"font-weight: "+(n?"bold":"initial")+";color:"+(n?t.entryType[+o]:"initial"),a+"font-weight: "+(n?"initial":"bold")+";color:"+(n?"initial":t.entryType[+o]),a+(n?"font-style: italic":"font-weight: initial")+";color:"+(n?t.srcMethod[+o]:"initial"),a+(n?"font-weight: initial":"font-style: italic")+";color:"+(n?"initial":t.srcMethod[+o]),n?"":a+"color: initial ; font-weight: initial")}},randomFloat:function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/4294967295},refactor:function(){k.code.refactor()},regenerate:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("regenerate"))return void e.click()},renderHTML:function(e){var t=/<([a-z\d]+)\b([^>]*)>([\s\S]*?)<\/\1>/g,r=/(\S+)=['"]?((?:.(?!['"]?\s+(?:\S+)=|[>']))+.)['"]?/g,o=e.childNodes;this.renderHTML.preWrapSet||(e.style.whiteSpace="pre-wrap",this.renderHTML.preWrapSet=!0,setTimeout(()=>{this.renderHTML.preWrapSet=!1},100));for(const s of o)if(s.nodeType===Node.TEXT_NODE){var a=s.nodeValue,n=Array.from(a.matchAll(t));if(0<n.length){const l=n[0],[d,c,p,h]=l.slice(0,4),g=document.createElement(c);g.textContent=h;Array.from(p.matchAll(r)).forEach(e=>{var t=e[1],e=e[2].replace(/['"]/g,"");g.setAttribute(t,e)});var n=this.renderHTML(g),i=document.createTextNode(a.substring(0,l.index)),a=document.createTextNode(a.substring(l.index+d.length));e.replaceChild(i,s),e.insertBefore(n,i.nextSibling),e.insertBefore(a,n.nextSibling)}}else s.nodeType===Node.ELEMENT_NODE&&this.renderHTML(s);return e},resend:async function(){k.send(await k.getChatData("latest","msg","user","latest"))},response:{get:function(){return(window.location.href.startsWith("https://chat.openai.com/c/")?this.getFromDOM:this.getFromAPI).apply(null,arguments)},getFromAPI:function(e,t){return e=e||"latest",t=t||"latest",k.getChatData(e,"msg","chatgpt",t)},getFromDOM:function(e){var t=document.querySelectorAll("main > div > div > div > div > div[class*=group]"),r=e.toString().toLowerCase();return/last|final/.test(r)?t.length?t[t.length-1].textContent:"":(e=Number.isInteger(e)?e:/^\d+/.test(r)?/^\d+/.exec(r)[0]:(/^(1|one|fir)(st)?$/.test(r)?1:/^(2|tw(o|en|el(ve|f))|seco)(nd|t[yi])?(e?th)?$/.test(r)?2:/^(3|th(ree|ir?))(rd|teen|t[yi])?(e?th)?$/.test(r)?3:/^(4|fou?r)(teen|t[yi])?(e?th)?$/.test(r)?4:/^(5|fi(ve|f))(teen|t[yi])?(e?th)?$/.test(r)?5:/^(6|six)(teen|t[yi])?(e?th)?$/.test(r)?6:/^(7|seven)(teen|t[yi])?(e?th)?$/.test(r)?7:/^(8|eight?)(teen|t[yi])?(e?th)?$/.test(r)?8:/^(9|nine?)(teen|t[yi])?(e?th)?$/.test(r)?9:/^(10|ten)(th)?$/.test(r)?10:1)*(/(ty|ieth)$/.test(r)?10:1)+(/teen(th)?$/.test(r)?10:0),t.length?t[e-1].textContent:"")},getLast:function(){return k.getChatData("active","msg","chatgpt","latest")},regenerate:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("regenerate"))return void e.click()},stopGenerating:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("stop"))return void e.click()}},reviewCode:function(){k.code.review()},scrollToBottom:function(){try{document.querySelector('button[class*="cursor"][class*="bottom"]').click()}catch(e){console.error("",e)}},send:function(e,t=""){for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string!`);const r=document.querySelector("form textarea"),o=document.querySelector('form button[class*="bottom"]'),a=(r.value=e,r.dispatchEvent(new Event("input",{bubbles:!0})),setInterval(()=>{o.hasAttribute("disabled")||("click"==t.toLowerCase()?o.click():r.dispatchEvent(new KeyboardEvent("keydown",{keyCode:13,bubbles:!0})),clearInterval(a))},25))},sendInNewChat:function(e){if("string"!=typeof e)return console.error("Message must be a string!");for(const t of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/(new|clear) chat/i.test(t.text)){t.click();break}setTimeout(()=>{k.send(e)},500)},settings:{scheme:{isDark:function(){return document.documentElement.classList.contains("dark")},isLight:function(){return document.documentElement.classList.contains("light")},set:function(e){var t=["dark","light","system"];if(!e)return console.error("Please specify a scheme value!");if(!t.includes(e))return console.error(`Invalid scheme value. Valid values are [${t}]`);let r=e;"system"===e&&(r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),localStorage.setItem("theme",e),console.info(`Scheme set to ${e.toUpperCase()}.`),document.documentElement.classList.contains(r)||this.toggle()},toggle:function(){var[e,t]=this.isDark()?["dark","light"]:["light","dark"];document.documentElement.classList.replace(e,t),document.documentElement.style.colorScheme=t,localStorage.setItem("theme",t)}}},sentiment:async function(e,t){for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string.`);return k.send("What is the sentiment of the following text"+(t?` towards the entity ${t},`:"")+" from strongly negative to strongly positive?\n\n"+e),console.info("Analyzing sentiment..."),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")},setScheme:function(e){k.settings.scheme.set(e)},shareChat:function(i,s="clipboard"){var e=["alert","notify","notification","clipboard","copy"];return e.includes(s)?new Promise(r=>{k.getAccessToken().then(t=>{var a;a=t,new Promise((t,r)=>{const o=new XMLHttpRequest;k.getChatData(i).then(e=>{o.open("GET",vr.chat+"/"+e.id,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization","Bearer "+a),o.onload=()=>200!==o.status?r("🤖 chatgpt.js >> Request failed. Cannot retrieve chat node."):t(JSON.parse(o.responseText).current_node),o.send()})}).then(e=>{var a,n;a=t,n=e,new Promise((t,r)=>{const o=new XMLHttpRequest;k.getChatData(i).then(e=>{o.open("POST",vr.share_create,!0),o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Authorization","Bearer "+a),o.onload=()=>200!==o.status?r("🤖 chatgpt.js >> Request failed. Cannot initialize share chat."):t(JSON.parse(o.responseText)),o.send(JSON.stringify({current_node_id:n,conversation_id:e.id,is_anonymous:!0}))})}).then(e=>{var o,a;o=t,a=e,new Promise((e,t)=>{const r=new XMLHttpRequest;r.open("PATCH",vr.share+"/"+a.share_id,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","Bearer "+o),r.onload=()=>200!==r.status?t("🤖 chatgpt.js >> Request failed. Cannot share chat."):(console.info(`Chat shared at '${a.share_url}'`),e()),r.send(JSON.stringify({share_id:a.share_id,highlighted_message_id:a.highlighted_message_id,title:a.title,is_public:!0,is_visible:a.is_visible,is_anonymous:a.is_anonymous}))}).then(()=>{["copy","clipboard"].includes(s)?navigator.clipboard.writeText(e.share_url):k.alert("🚀 Share link created!",'"'+e.title+'" is available at: <a target="blank" rel="noopener" href="'+e.share_url+'" >'+e.share_url+"</a>",[function(){window.open(e.share_url,"_blank","noopener")},function(){navigator.clipboard.writeText(e.share_url)}]),r(e.share_url)})})})})}):console.error("Invalid method '"+s+"' passed. Valid methods are ["+e+"].")},sidebar:{elements:[],observer:{},activateObserver:function(){var e,t=document.querySelector('nav[aria-label="Chat history"]').querySelector("a");if(k.history.isOff())try{t.parentNode.nextElementSibling.style.display="none"}catch(e){}if(this.observer instanceof MutationObserver)try{this.observer.disconnect()}catch(e){}if(!this.elements.length)return console.error("🤖 chatgpt.js >> No elements to append!");let r;for(e of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/.*chat/.exec(e.text)[0]){r=e.classList,e.parentNode.style.margin="2px 0";break}this.elements.forEach(e=>{e.setAttribute("class",r),e.style.maxHeight=e.style.minHeight="44px",e.style.margin="2px 0"});const o=document.querySelector('nav[aria-label="Chat history"]');this.observer=new MutationObserver(e=>{e.forEach(e=>{("childList"===e.type&&e.addedNodes.length||"attributes"===e.type&&"data-chatgptjs"===e.attributeName)&&this.elements.forEach(e=>{if(!o.contains(e))try{o.insertBefore(e,o.querySelector("a").parentNode)}catch(e){console.error(e)}})})}),this.observer.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0})},append:function(e,t={}){var r=["button","dropdown"];if(!e||"string"!=typeof e)return console.error("🤖 chatgpt.js >> Please supply a valid string element name!");if(e=e.toLowerCase(),!r.includes(e))return console.error(`🤖 chatgpt.js >> Invalid element! Valid elements are [${r}]`);const o=document.createElement("dropdown"===e?"select":e);if(o.id=Math.floor(1e6*k.randomFloat())+Date.now(),"button"===e){o.textContent=t?.label&&"string"==typeof t.label?t.label:"chatgpt.js button";r=document.createElement("img");r.src=t?.icon&&"string"==typeof t.icon?t.icon:"https://raw.githubusercontent.com/KudoAI/chatgpt.js/main/starters/chrome/extension/icons/icon128.png",r.width=18,o.insertBefore(r,o.firstChild),o.onclick=t?.onclick&&"function"==typeof t.onclick?t.onclick:function(){}}else if("dropdown"===e){if(t?.items&&Array.isArray(t.items)&&t.items.length||(t.items=[{text:"🤖 chatgpt.js option",value:"chatgpt.js option value"}]),!t.items.every(e=>"object"==typeof e))return console.error("'items' must be an array of objects!");t.items.forEach(e=>{var t=document.createElement("option");t.textContent=e?.text,t.value=e?.value,o.add(t)})}return"dropdown"===e&&(o.style.backgroundColor="var(--gray-900, rgb(32, 33, 35))"),this.elements.push(o),this.activateObserver(),document.body.setAttribute("data-chatgptjs","observer-trigger"),o.id},isOn:function(){return!document.querySelector('button[aria-label*="Open sidebar"]')},isOff:function(){return!!document.querySelector('button[aria-label*="Open sidebar"]')},hide:function(){this.isOn()?this.toggle():console.info("Sidebar already hidden!")},show:function(){this.isOff()?this.toggle():console.info("Sidebar already shown!")},toggle:function(){for(const e of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/close sidebar/i.test(e.text))return void e.click()}},startNewChat:function(){for(const e of document.querySelectorAll('nav[aria-label="Chat history"] a'))if(/(new|clear) chat/i.test(e.text))return void e.click()},stop:function(){for(const e of document.querySelectorAll("form button"))if(e.textContent.toLowerCase().includes("stop"))return void e.click()},suggest:async function(e,t){if(!e)return console.error("ideaType (1st argument) not supplied(e.g. 'gifts', 'names', 'recipes', etc.)");for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string.`);return k.send("Suggest some names. "+(t||"")),console.info(`Creating ${e}...`),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")},speak:function(e,t={}){var r,{voice:o=2,pitch:a=2,speed:n=1.1}=t;if("string"!=typeof e)return console.error("Message must be a string!");for(r in t){var i=t[r];if("number"!=typeof i&&!/^\d+$/.test(i))return console.error(`Invalid ${r} index '${i}'. Must be a number!`)}try{var s=speechSynthesis.getVoices(),l=new SpeechSynthesisUtterance;l.text=e,l.voice=s[o],l.pitch=a,l.rate=n,speechSynthesis.speak(l)}catch(e){console.error("",e)}},summarize:async function(e){return e?"string"!=typeof e?console.error("Text argument must be a string!"):(k.send("Summarize the following text:\n\n"+e),console.info("Summarizing text..."),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")):console.error("Text (1st) argument not supplied. Pass some text!")},toggleScheme:function(){k.settings.scheme.toggle()},translate:async function(e,t){if(!e)return console.error("Text (1st) argument not supplied. Pass some text!");if(!t)return console.error("outputLang (2nd) argument not supplied. Pass a language!");for(let e=0;e<arguments.length;e++)if("string"!=typeof arguments[e])return console.error(`Argument ${e+1} must be a string!`);return k.send("Translate the following text to "+t+". Only reply with the translation.\n\n"+e),console.info("Translating text..."),await k.isIdle(),k.getChatData("active","msg","chatgpt","latest")},unminify:function(){k.code.unminify()},uuidv4:function(){let r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{var t=(r+window.crypto.getRandomValues(new Uint32Array(1))[0]/(Math.pow(2,32)-1)*16)%16|0;return r=Math.floor(r/16),("x"==e?t:3&t|8).toString(16)})},writeCode:function(){k.code.write()}},br=(k.scheme={...k.settings.scheme},["button","link","div","response"]);for(const Er of["click","get"])k[Er+"Button"]=function(r){var e=/^[.#]/.test(r)?document.querySelector(r):/send/i.test(r)?document.querySelector('form button[class*="bottom"]'):/scroll/i.test(r)?document.querySelector('button[class*="cursor"]'):function(){for(const e of document.querySelectorAll("button"))if(e.textContent.toLowerCase().includes(r.toLowerCase()))return e;for(const t of document.querySelectorAll("nav a"))if(t.textContent.toLowerCase().includes(r.toLowerCase()))return t}();if("click"!==Er)return e;e.click()};var wr=[["actAs","actas","act","become","persona","premadePrompt","preMadePrompt","prePrompt","preprompt","roleplay","rolePlay","rp"],["activateAutoRefresh","activateAutoRefresher","activateRefresher","activateSessionRefresher","autoRefresh","autoRefresher","autoRefreshSession","refresher","sessionRefresher"],["deactivateAutoRefresh","deactivateAutoRefresher","deactivateRefresher","deactivateSessionRefresher"],["detectLanguage","getLanguage"],["executeCode","codeExecute"],["exportChat","chatExport","export"],["getLastPrompt","getLastQuery","getMyLastMsg","getMyLastQuery"],["getTextarea","getTextArea","getChatbox","getChatBox"],["isFullScreen","isFullscreen"],["logOut","logout","logOff","logoff","signOut","signout","signOff","signoff"],["minify","codeMinify","minifyCode"],["new","newChat","startNewChat"],["obfuscate","codeObfuscate","obfuscateCode"],["printAllFunctions","showAllFunctions"],["refactor","codeRefactor","refactorCode"],["refreshSession","sessionRefresh"],["refreshReply","regenerate","regenerateReply"],["renderHTML","renderHtml","renderLinks","renderTags"],["reviewCode","codeReview"],["send","sendChat","sendMsg"],["sendInNewChat","sendNewChat"],["sentiment","analyzeSentiment","sentimentAnalysis"],["stop","stopGenerating"],["suggest","suggestion","recommend"],["toggleScheme","toggleMode"],["toggleAutoRefresh","toggleAutoRefresher","toggleRefresher","toggleSessionRefresher"],["translate","translation","translator"],["unminify","unminifyCode","codeUnminify"],["writeCode","codeWrite"]],xr=[["activate","turnOn"],["account","acct"],["analyze","check","evaluate","review"],["ask","send","submit"],["chat","conversation","convo"],["data","details"],["deactivate","deActivate","turnOff"],["execute","run"],["generating","generation"],["minify","uglify"],["refactor","rewrite"],["render","parse"],["reply","response"],["sentiment","attitude","emotion","feeling","opinion","perception"],["speak","say","speech","talk","tts"],["unminify","beautify","prettify","prettyPrint"]];for(const Mr in k){for(const _r of wr)if(_r.includes(Mr))if(_r.some(e=>e.includes("."))){var Cr=_r.find(e=>e.includes(".")).split(".")[1];for(const $r of _r)/^(\w+)/.exec($r)[1]!==Mr&&(k[$r]=k[Mr][Cr])}else for(const Br of _r)Br!==Mr&&(k[Br]=k[Mr]);do{var kr=!1;for(const Ar in k)if("function"==typeof k[Ar]){var Tr=Ar.split(/(?=[A-Zs])/);for(const Ur of Tr)for(const Rr of[].concat(...xr.filter(e=>e.includes(Ur.toLowerCase())).map(e=>e.filter(e=>e!==Ur.toLowerCase())))){var Sr=Tr.map(e=>e===Ur?Rr:e).map((e,t)=>0===t||"s"===e?e:e.charAt(0).toUpperCase()+e.slice(1)).join("");k[Sr]||(k[Sr]=k[Ar],kr=!0)}}}while(kr)}try{window.chatgpt=k}catch(e){}try{module.exports=k}catch(e){}const Nr="all",Ir="English*";const Dr="lastTargetLanguage",Pr="IN_BOUND_PromptID";let T=ur.english;const Lr=[4,8,12,16,20,24],Or="editPromptTemplate";window.IN_BOUND={fetch:window._fetch=window._fetch||window.fetch.bind(window)||window.fetch,CacheBuster:btoa((new Date).toISOString().slice(0,16).toString()),Client:te,feedSelect:["All","Favourites"],feedSelected:window.localStorage.feedSelected||"All",ExtLang:"english",demoInterface:!1,access:{cardMenuInDots:!0},feedView:window.localStorage.feedView||"grid",feedViewList:["grid","list"],TargetLanguage:null===localStorage.getItem(Dr)?Ir:localStorage.getItem(Dr),WebAccess:null!==localStorage.getItem("WebAccess")&&localStorage.getItem("WebAccess"),Tone:null,WritingStyle:null,PromptTopic:localStorage.getItem("lastPromptTopic")||Nr,PromptActivity:"all",PromptSortMode:1,PromptSearch:"",PromptTemplatesType:localStorage.getItem("PromptTemplatesType")||u.PUBLIC,PromptTemplates:[],FavouritePromptTemplates:[],PinPromptTemplates:[],forkPromptTemplates:[],activePromptID:"",themeMode:"",ToneCategories:[],DefaultTones:[],userTones:[],tonesOrderLocal:[],promptsOrderLocal:[],ToneCategorySelected:"",InputToneCategorySelected:"",promptVariables:[],settingsActiveTab:"settings",editActivatedTonesInSetting:"",activatedToneSelected:{title:"",tone:""},searchPredictionList:[],webResults:[],current_active_prompts:[],Company:"",companyMeta:{},longInputText:"",features:{variations:{allow:!0},languages:{allow:!0},writing_styles:{allow:!0},favourites:{allow:!0},pin:{allow:!0},import_export:{allow:!0},copy:{allow:!0},delete:{allow:!0},edit:{allow:!0},public_prompts:{allow:!0},private_prompts:{allow:!0},search:{allow:!0},setting:{allow:!0},expanded_view:{allow:!0},collapsed_view:{allow:!0},variables:{allow:!0},reload:{allow:!0},add_prompt:{allow:!0}},team:{},allTeams:[],selectedTeam:localStorage.getItem("team_id"),usedPrompts:[],allCompanies:[],selectedCompany:sessionStorage.getItem("company_id")||"",savedSearchList:JSON.parse(localStorage.getItem("savedSearchList"))||[],chunkProcessingState:!1,SelectedPromptTemplateID:"",hiddenVariations:JSON.parse(localStorage.getItem("hiddenVariations"))||[],runCsvChainOfPromptsState:!1,APIEndpoint:o,companyTones:[],isLoading:!1,workflowLoader:!0,import:!1,companyTonesState:!1,companyToneText:"",DefaultPromptTemplates:[],OwnPrompts:[],Languages:[],Tone:"",Theme:"",WritingStyles:[],ContinueActions:[],Topics:[],Activities:[],AdminMode:!1,PromptTemplateSection:{currentPage:0,pageSize:5e3},SelectedPromptTemplate:null,async init(){this.WritingStyle=localStorage.getItem("selectedWritingStyle"),this.TargetLanguage=localStorage.getItem(Dr),this.Tone=localStorage.getItem("selectedTone"),this.SelectedPromptTemplateID=localStorage.getItem("SelectedPromptTemplateID"),this.setupSidebar(),this.folderManager.initializeFolders(),this.isLoading=!0,this.showLoadingInterface(""),this.tonesOrderLocal=JSON.parse(localStorage.getItem("tonesOrderLocal"))?.index||{index:[]},this.boundHandleArrowKey=this.handleArrowKey.bind(this),await this.Client.init(),this.replaceFetch(),this.createObserver(),await Promise.all([this.fetchUserDataEvent()]),this.createThemeObserver(),this.getTheme(),this.insertConversationMenu(),document.addEventListener("IN_BOUND.getRequest",async e=>{this.handleGetRequestEvent(e)}),document.addEventListener("IN_BOUND.postRequest",async e=>{this.handlePostRequestEvent(e)}),window.addEventListener("popstate",()=>{this.fetchPromptFromDeepLink()});let e=localStorage.getItem("split-sizes");e=e?JSON.parse(e):[65,35],lr(["#__next","#nav"],{sizes:e,gutterSize:2,onDragEnd:function(e){localStorage.setItem("split-sizes",JSON.stringify(e))}});var t=document.querySelector("#__next").getElementsByClassName("overflow-hidden w-full h-full relative flex z-0")[0].children;t[0].id="sidebar-resize",t[1].id="chat-resize",this.hidePromptCardOptionsOnClickOutside()},hidePromptCardOptions(){var e=document.getElementsByClassName("PromptCardOptions");Array.from(e)?.forEach(function(e){setTimeout(()=>{-1<e.className.indexOf("hidden")||(e.className=e.className.replace("flex ","hidden "))},10)})},hidePromptCardOptionsOnClickOutside(){document.addEventListener("click",function(t){var e=document.getElementsByClassName("PromptCardOptions"),r=document.querySelectorAll("#PromptCardOptionsBtn"),r=Array.from(r)?.some(function(e){return e.contains(t.target)});Array.from(e)?.some(function(e){return e.contains(t.target)})||r||Array.from(e)?.forEach(function(e){setTimeout(()=>{-1<e.className.indexOf("hidden")||(e.className=e.className.replace("flex ","hidden "))},10)})})},injectStyleSheet(){var e=document.createElement("link");e.rel="stylesheet",e.href=o+"/css/chatgpt_style",document.head.appendChild(e)},changeLoadingText(e){document.querySelector(".loading-text")&&(document.querySelector(".loading-text").innerHTML=e)},async reloadAllData(){this.showLoadingInterface("loading..."),this.fetchUserDataEvent(),this.insertPromptTemplatesSection(),this.insertLanguageToneWritingStyleContinueActions()},fetchUserDataEvent(){this.showLoadingInterface("loading..."),this.changeLoadingText("Loading..."),setTimeout(()=>{this.changeLoadingText("Fetching User Data...")},1500),setTimeout(()=>{this.changeLoadingText("Fetching Company Data...")},3e3);var e=this.selectedCompany;e?(e=o+`/user-data-multi?user=${this.Client.User.Email}&company=`+e,document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,type:"IN_BOUND.getRequest",returnType:"fetchUserData"},bubbles:!0}))):(e=o+"/user-data?user="+this.Client.User.Email,document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,type:"IN_BOUND.getRequest",returnType:"fetchUserData"},bubbles:!0})))},fetchPublicPromptsEvent(e,t){this.changeLoadingText("Fetching Public Prompts...");var r=this.Client.User.Email,r=o+`/prompts?user=${r}&company=${e}&type=2&teamID=`+t;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,type:"IN_BOUND.getRequest",returnType:"fetchPublicPrompts"},bubbles:!0}))},fetchPrivatePromptsEvent(e,t){this.changeLoadingText("Fetching Private Prompts...");var r=this.Client.User.Email,r=o+`/prompts?user=${r}&company=${e}&type=1&teamID=`+t;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,type:"IN_BOUND.getRequest",returnType:"fetchPrivatePrompts"},bubbles:!0}))},fetchUserVariationsEvent(e,t){this.changeLoadingText("Fetching User Variations...");var r=this.Client.User.Email,r=o+`/variations?user=${r}&company=${e}&type=user&teamID=`+t;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,type:"IN_BOUND.getRequest",returnType:"fetchUserVariations"},bubbles:!0}))},fetchCompanyVariationsEvent(e,t){this.changeLoadingText("Fetching Company Variations...");var r=this.Client.User.Email,r=o+`/variations?user=${r}&company=${e}&type=org&teamID=`+t;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,type:"IN_BOUND.getRequest",returnType:"fetchCompanyVariations"},bubbles:!0}))},async fetchUserPrompt(e,t){var r=this.Client.User.Email,r=o+`/prompt?user=${r}&company=${t}&promptID=`+e;document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:r,type:"IN_BOUND.getRequest",returnType:"processDeeplinkPrompt"},bubbles:!0}))},async fetchUserData(e){var t,r,o,a,n,e=JSON.parse(e),{user:i,company:s,ownPrompts:l,publicPrompts:d,userVariations:c,companyVariations:p,userMulti:h,teams:g}=(console.log("fetchUserData Json: ",e),setTimeout(()=>{this.changeLoadingText("Fetching Prompts...")},4500),setTimeout(()=>{this.changeLoadingText("Fetching Variations...")},6e3),e);null===i?(sessionStorage.setItem("company_id",""),this.selectedCompany=null,this.fetchUserDataEvent()):(console.log("setup home"),this.Company=i.company_email,this.selectedCompany=i.company_email,this.allCompanies=h,this.allTeams=[{tag:"No Team",id:"",company_id:i.company_email},...g],{...i,company:i.company_email},this.companyToneText=s.company_tone,{dark_logo:h,description:g,email:i,id:t,light_logo:r,name:o,website:a,features:n}=s,this.companyMeta={dark_logo:h,description:g,email:i,id:t,light_logo:r,name:o,website:a},this.WritingStyles=s.writing_styles?.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{var{id:e,label:r,prompt:o}=e;return{ID:e,Label:r,Prompt:o}})||[],this.ContinueActions=s.continue_actions?.sort((e,t)=>e.label.localeCompare(t.label)).map((e,t)=>{var{id:e,label:r,prompt:o}=e;return{ID:e,Label:r,Prompt:o}})||[],this.Languages=s.languages?.sort((e,t)=>e.language.localeCompare(t.language)).map((e,t)=>{var{langcode:e,language:r,id:o}=e;return{langcode:e,languageEnglish:r,languageLabel:r,id:o}})||[],this.features=n||this.features,this.PromptTemplates=d?.map((e,t)=>({...e,OwnPrompt:!1,favourite:!1,pin:!1})).sort((e,t)=>new Date(t.RevisionTime)-new Date(e.RevisionTime))||[],this.DefaultPromptTemplates=this.PromptTemplates,this.OwnPrompts=l?.map((e,t)=>({...e,OwnPrompt:!0})).sort((e,t)=>new Date(t.RevisionTime)-new Date(e.RevisionTime))||[],this.userTones=c?.map((e,t)=>({ID:e.id,Label:e.label,Description:e.prompt,type:"user"}))||[],this.companyTones=p?.map((e,t)=>({ID:e.id,Label:e.label,Description:e.prompt,type:"org"}))||[],"iqbalnawaz123750@gmail.com"===e.user.email&&(window.IN_BOUND.demoInterface=!0,this.OwnPrompts=[],this.userTones=[],this.companyTones=[],window.localStorage.setItem("PromptTemplatesType","public"),this.features.copy.allow=!1,this.features.add_prompt.allow=!1,this.features.favourites.allow=!1,this.features.reload.allow=!1,this.features.private_prompts.allow=!1,this.features.setting.allow=!1,this.features.import_export.allow=!1),(h=window.localStorage.getItem("selectedTone"))&&(this.Tone=h),this.workflowLoader=!1,this.isLoading=!1,this.fetchPromptFromDeepLink(),this.insertPromptTemplatesSection(),this.insertLanguageToneWritingStyleContinueActions())},async fetchPublicPrompts(e){e=JSON.parse(e);this.PromptTemplates=e.documents.map((e,t)=>({...e,OwnPrompt:!1,favourite:!1,pin:!1})).sort((e,t)=>new Date(t.RevisionTime)-new Date(e.RevisionTime)),this.DefaultPromptTemplates=this.PromptTemplates,this.insertPromptTemplatesSection()},async fetchPrivatePrompts(e){e=JSON.parse(e);this.OwnPrompts=e.documents.map((e,t)=>({...e,OwnPrompt:!0})).sort((e,t)=>new Date(t.RevisionTime)-new Date(e.RevisionTime)),this.insertPromptTemplatesSection()},async fetchUserVariations(e){e=JSON.parse(e);this.userTones=e.documents.map((e,t)=>({ID:e.id,Label:e.label,Description:e.prompt,type:"user"})),this.showSettingModal()},async fetchCompanyVariations(e){e=JSON.parse(e);this.companyTones=e.documents.map((e,t)=>({ID:e.id,Label:e.label,Description:e.prompt,type:"org"})),this.insertPromptTemplatesSection()},pinActionForPrompt(e,t){e=`${this.APIEndpoint}/prompts?user=${this.Client.User.Email}&company=${this.Company}&id=`+e,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:1===t})};document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,options:t,type:"IN_BOUND.postRequest",returnType:"pinActionForPrompt"},bubbles:!0}))},getTheme(){this.Theme=document.documentElement.style.colorScheme},handleGetRequestEvent(e){document.createElement("div").innerHTML=e.detail.data,e.detail;var t=e.detail.data;this.hideLoadingInterface(),"getBingResults"===e.detail.returnType?this.processBingResults(t):"getDdgResults"===e.detail.returnType?this.processDDGResults(t):"getGoogleNewsResults"===e.detail.returnType?this.processGoogleNewsResults(t):"getWebContentResults"===e.detail.returnType?this.processWebContentResults(t):"fetchUserData"===e.detail.returnType?this.fetchUserData(t):"fetchPublicPrompts"===e.detail.returnType?this.fetchPublicPrompts(t):"fetchPrivatePrompts"===e.detail.returnType?this.fetchPrivatePrompts(t):"fetchUserVariations"===e.detail.returnType?this.fetchUserVariations(t):"fetchCompanyVariations"===e.detail.returnType?this.fetchCompanyVariations(t):"processDeeplinkPrompt"===e.detail.returnType?this.processDeeplinkPrompt(t):"getCsvSheetResults"===e.detail.returnType&&Papa.parse(t,{header:!0,complete:function(e){console.log(e.data);e=e.data.map((e,t)=>({...e,index:t,completed:!1,chatgptResponse:""}));localStorage.setItem("chainOfPrompts",JSON.stringify(e)),IN_BOUND.runCsvChainOfPromptsState=!0,IN_BOUND.runCsvChainOfPrompts(0),IN_BOUND.hideModal("variablesModal")},error:function(e){console.error(e),k.notify("Restricted access given!","top right",8,"on")}})},handlePostRequestEvent(e){e.detail,this.showNotification(d.SUCCESS,"Changes saved!"),this.hideLoadingInterface(),"pinActionForPrompt"===e.detail.returnType||"voteForPrompt"===e.detail.returnType||"savePrompt"===e.detail.returnType?this.fetchPrivatePromptsEvent(this.Company,this.selectedTeam):"saveNewTone"===e.detail.returnType||"saveEditTone"===e.detail.returnType||"deleteTone"===e.detail.returnType?(this.fetchUserVariationsEvent(this.Company,this.selectedTeam),this.showSettingModal()):"deletePrompt"===e.detail.returnType&&this.fetchPrivatePromptsEvent(this.Company,this.selectedTeam)},processBingResults(e){var t=document.createElement("div");t.innerHTML=e,Array.from(t?.querySelector("#b_results")?.children)?.forEach(e=>{var t=e?.querySelector("p")?.innerText.slice(3,-3),e=e?.querySelector("a")?.href;t&&this.webResults.push({text:t,url:e})});let r=this.SelectedPromptTemplate.Prompt;e=this.webResults.map((e,t)=>`[${t+1}] ${e.text} (URL: ${e.url})`).slice(0,4).join("\n"),t=r.split("{{BingSearch");r=t[0]+e+t[1].split("}}")[1],this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r},this.showNotification(d.SUCCESS,"Results added!")},processDDGResults(e){var t=document.createElement("div"),e=(t.innerHTML=e,(IN_BOUND.searchDiv=t)?.querySelector(".results")?.children||t?.querySelector(".serp__results")?.querySelectorAll("result"));Array.from(e)?.forEach(e=>{var t=e?.querySelector(".result__snippet")?.innerText,e=e?.querySelector(".result__snippet")?.href;t&&20<t.length&&this.webResults.push({text:t,url:e})});let r=this.SelectedPromptTemplate.Prompt;t=this.webResults.map((e,t)=>`[${t+1}] ${e.text} (Link:${e.url})`).slice(0,5+Math.floor(5*Math.random())).join("\n"),e=r.split("{{WebSearch");return r=e[0]+t+e[1].split("}}")[1],this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r},this.showNotification(d.SUCCESS,"Results added!"),r},processGoogleNewsResults(e){var t=document.createElement("div"),e=(t.innerHTML=e,t?.querySelector("#search")?.querySelectorAll("a")||t?.querySelector("#main")?.querySelectorAll("a"));Array.from(e)?.forEach(e=>{var t=e?.innerText,e=e?.href;t&&20<t.length&&this.webResults.push({text:t,url:e})});let r=this.SelectedPromptTemplate.Prompt;t=this.webResults.map((e,t)=>`[${t+1}] ${e.text} (Link:${e.url})`).slice(0,5+Math.floor(5*Math.random())).join("\n"),e=r.split("{{WebNews");return r=e[0]+t+e[1].split("}}")[1],this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r},this.showNotification(d.SUCCESS,"Results added!"),r},processWebContentResults(e){var t=document.createElement("div");t.innerHTML=e,IN_BOUND.contentDiv=t,IN_BOUND.rawDiv=e;let r=this.SelectedPromptTemplate.Prompt;t=this.getTextFromHTML(e),this.longInputText=this.sanitizeTextContent(t),e=this.longInputText,t=r.split("{{WebContent");r=t[0]+e+t[1].split("}}")[1],this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r},this.showNotification(d.SUCCESS,"Results added!")},processWebContentResultsFromAPI(e){let t=this.SelectedPromptTemplate.Prompt;var e={...e,rules:["Use the language that the user previously used or the language requested by the user.","Respond to the user's request, which may include asking questions or requesting specific actions (such as translation, rewriting, etc.), based on the provided content.","If the user does not make a request, perform the following tasks: 1. Display the title in the user's language; 2. Summarize the article content into a brief and easily understandable paragraph; 3. Depending on the content, present three thought-provoking questions or insights with appropriate subheadings. For articles, follow this approach; for code, formulas, or content not suited for questioning, this step may be skipped."]},e=JSON.stringify(e),r=t.split("{{WebContent");t=r[0]+e+r[1].split("}}")[1],this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:t},this.showNotification(d.SUCCESS,"Results added!")},getTextFromHTML(e){for(var t=document.createElement("div"),r=(t.innerHTML=e,t.getElementsByTagName("script")),o=t.getElementsByTagName("style"),a=0;a<r.length;a++)r[a].parentNode.removeChild(r[a]);for(var n=0;n<o.length;n++)o[n].parentNode.removeChild(o[n]);return(t.textContent||t.innerText).trim().replace(/\n\s*\n/g,"\n")},async refreshData(){this.fetchPrivatePromptsEvent(this.Company,this.selectedTeam),this.fetchPublicPromptsEvent(this.Company,this.selectedTeam),this.fetchUserVariationsEvent(this.Company,this.selectedTeam)},async refreshActions(){return this.fetchUserVariationsEvent(this.Company,this.selectedTeam),!0},async fetchPromptFromDeepLink(){var e=new URLSearchParams(window.location.search).get(Pr)||this.SelectedPromptTemplateID;if(e)try{var t=new URLSearchParams(window.location.search).get("inbound_o_id")||IN_BOUND.Company||IN_BOUND.selectedCompany;await this.fetchUserPrompt(e,t)}catch(e){return void this.showNotification(d.ERROR,"Something went wrong. Please try again.")}else this.selectPromptTemplateByIndex(null)},processDeeplinkPrompt(e){e={...JSON.parse(e),OwnPrompt:!0};e.ID&&this.selectPromptTemplate(e)},async fetchMessages(){mr(await this.Client.getMessages(this.PromptTopic===Nr?"":this.PromptTopic),this.confirmMessage.bind(this),this.voteForMessage.bind(this))},async confirmMessage(e){try{await this.Client.confirmMessage(e)}catch(e){return this.showNotification(d.ERROR,"Something went wrong. Please try again."),!1}return this.showNotification(d.SUCCESS,"Thanks for the confirmation!"),!0},async voteForMessage(e,t){try{await this.Client.voteForMessage(e,t)}catch(e){return this.showNotification(d.ERROR,"Something went wrong. Please try again."),!1}return!0},setupSidebar(){var e;this.addExportButton(),this.getNewChatButtons().forEach(e=>{e.onclick=()=>{this.selectPromptTemplateByIndex(null),this.hideContinueActionsButton()}}),document.getElementById("nav")||(document.body.classList.toggle("show-nav"),document.body.classList.toggle("split"),(e=document.createElement("div")).id="nav",document.body.appendChild(e))},createObserver(){new MutationObserver(e=>{e.forEach(e=>{"childList"!==e.type&&0==e.addedNodes.length||(e=e.addedNodes[0])&&e.querySelector&&this.handleElementAdded(e)})}).observe(document.body,{subtree:!0,childList:!0})},createThemeObserver(){var e=document.documentElement;new MutationObserver((e,t)=>{for(const o of e){var r;"childList"!==o.type&&"attributes"===o.type&&(r=document.documentElement.style.colorScheme,IN_BOUND.Theme!==r)&&(IN_BOUND.Theme=r,IN_BOUND.insertPromptTemplatesSection())}}).observe(e,{attributes:!0,childList:!0,subtree:!0})},sendBtnObserver(){var e=document.querySelector("textarea")?.nextElementSibling;e&&new MutationObserver((e,t)=>{for(const r of e)"childList"!==r.type&&"attributes"===r.type&&IN_BOUND.hideLanguageToneWritingStyleContinueActions()}).observe(e,{attributes:!0,childList:!0,subtree:!0})},makeWideScreen(){var e=k.getContinueGeneratingButton(),e=(e&&e.click(),document.querySelectorAll('[class="p-4 justify-center text-base md:gap-6 md:py-6 m-auto"'));Array.from(e)?.forEach(e=>{try{var t=e.children[0];t.className=t.className.replace("max-w"," pr-12 lkij")}catch(e){}})},insertConversationMenu(){this.makeWideScreen();var e=document.getElementsByClassName("text-gray-400 flex self-end lg:self-center justify-center mt-2 gap-2 md:gap-3 lg:gap-1 lg:absolute lg:top-0 lg:translate-x-full lg:right-0 lg:mt-0 lg:pl-2 visible");Array.from(e)?.forEach((e,t)=>{if(t%2!=0&&!e.querySelector("#chat-menu")){t=document.createElement("button");t.className="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400",t.innerHTML=C("menu-vertical"),t.id="chat-menu",e.append(t);const r=document.createElement("div");r.className="hidden absolute right-1 rounded shadow-lg px-1 py-1 flex-col bg-white dark:bg-gray-800  dark:border-bg-ray-700 gap-2 justify-center  mt-1 text-gray-600 group-hover:visible",r.style="top:40px; z-index:99999; box-shadow:0 2px 5px 6px rgba(0, 0, 0, 0.1); width: 12em;",r.innerHTML=`
            <a title="Copy Markdown" id="copy_markdown" class=" relative flex flex-row text-sm gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >
                ${C("copy")}
                Copy Markdown</a>

            <a title="Copy HTML" id="copy_html" class=" relative flex flex-row text-sm gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >
            ${C("html-doc")}
            Copy HTML</a>

            <a title="Share Link" id="share_link" class=" relative flex flex-row text-sm gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >
                ${C("Link")}
                Share Link</a>`,r.id="chat-menu-options",t.appendChild(r),t.addEventListener("click",()=>{r.className.split(" ").includes("hidden")?r.className=r.className.replace("hidden ","flex "):r.className=r.className.replace("flex ","hidden ")}),r.querySelector("#copy_markdown")?.addEventListener("click",()=>{let t="";var e=document.getElementsByClassName("group w-full text-token-text-primary border-b border-black/10");Array.from(e)?.forEach(e=>{t+=e.querySelector(".markdown")?e.querySelector(".markdown").innerHTML:`<h2>${e.innerHTML}</h2>`}),t=IN_BOUND.htmlToMarkdown(t),navigator.clipboard.writeText(t).then(()=>{r.className=r.className.replace("flex ","hidden "),IN_BOUND.showNotification(d.SUCCESS,"Markdown copied to clipboard!")}).catch(()=>{IN_BOUND.showNotification(d.ERROR,"Failed to copy Markdown to clipboard!")})}),r.querySelector("#copy_html")?.addEventListener("click",()=>{let t="";var e=document.getElementsByClassName("group w-full text-token-text-primary border-b border-black/10");Array.from(e)?.forEach(e=>{t+=e.querySelector(".markdown")?e.querySelector(".markdown").innerHTML:`<h2>${e.innerHTML}</h2>`}),navigator.clipboard.writeText(t).then(()=>{r.className=r.className.replace("flex ","hidden "),IN_BOUND.showNotification(d.SUCCESS,"HTML copied to clipboard!")}).catch(()=>{IN_BOUND.showNotification(d.ERROR,"Failed to copy HTML to clipboard!")})}),r.querySelector("#share_link")?.addEventListener("click",()=>{var e=document.getElementsByClassName("flex flex-col text-sm dark:bg-gray-800")[0],t=document.createElement("div"),e=(t.innerHTML=e.innerHTML,t.className="flex flex-col text-sm dark:bg-gray-800",t.querySelector("#chat-menu")?.remove(),t.querySelector("#chat-menu-options")?.remove(),t.getElementsByClassName("text-gray-400 flex self-end lg:self-center justify-center mt-2 gap-2 md:gap-3 lg:gap-1 lg:absolute lg:top-0 lg:translate-x-full lg:right-0 lg:mt-0 lg:pl-2 visible")),e=(Array.from(e)?.forEach(e=>{e.className.replace(" visible"," hidden"),e.remove()}),t.getElementsByClassName("group w-full text-gray-800 dark:text-gray-100 border-b border-black/10 dark:border-gray-900/50 dark:bg-gray-800")),e=(Array.from(e)?.forEach(e=>{e.className=e.className+" bg-white dark:bg-gray-800"}),t.innerHTML.replaceAll("/_next/image?url=https%3A%2F%2F","https://chat.openai.com/_next/image?url=https%3A%2F%2F")),t=(IN_BOUND.showNotification(d.SUCCESS,"Generating link.."),IN_BOUND.shareLinkRandomID=crypto.randomUUID(),o+`/chatgpt-conversations?id=${IN_BOUND.shareLinkRandomID}&user=${this.Client.User.Email}&company=${this.Company}&promptID=`+this.SelectedPromptTemplateID);document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:t,options:{method:"POST",headers:{"Content-Type":"text/plain"},body:e},type:"IN_BOUND.postRequest",returnType:"shareChatLink"},bubbles:!0})),setTimeout(function(){const e="https://api.workengine.ai/chatgpt-conversations?chatid="+IN_BOUND.shareLinkRandomID;navigator.clipboard.writeText(e).then(()=>{r.className=r.className.replace("flex ","hidden "),IN_BOUND.showNotification(d.SUCCESS,"Url copied to clipboard!"),window.open(e,"_blank")}).catch(e=>{console.info(e),IN_BOUND.showNotification(d.ERROR,"Failed to copy Url to clipboard!")})},3e3)})}}),setTimeout(()=>{IN_BOUND.insertConversationMenu(),IN_BOUND.getParsedJSONFromCodeBlock(),IN_BOUND.checkPromptWrapper()},1e3)},htmlToMarkdown(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<h1(?:[\s\S]*?)>([\s\S]*?)<\/h1>/gi,"# $1\n\n")).replace(/<h2(?:[\s\S]*?)>([\s\S]*?)<\/h2>/gi,"## $1\n\n")).replace(/<h3(?:[\s\S]*?)>([\s\S]*?)<\/h3>/gi,"### $1\n\n")).replace(/<h4(?:[\s\S]*?)>([\s\S]*?)<\/h4>/gi,"#### $1\n\n")).replace(/<h5(?:[\s\S]*?)>([\s\S]*?)<\/h5>/gi,"##### $1\n\n")).replace(/<h6(?:[\s\S]*?)>([\s\S]*?)<\/h6>/gi,"###### $1\n\n")).replace(/<p(?:[\s\S]*?)>([\s\S]*?)<\/p>/gi,"$1\n\n")).replace(/<a(?:[\s\S]*?)href="(.*?)"(?:[\s\S]*?)>([\s\S]*?)<\/a>/gi,"[$2]($1)")).replace(/<strong(?:[\s\S]*?)>([\s\S]*?)<\/strong>/gi,"**$1**")).replace(/<em(?:[\s\S]*?)>([\s\S]*?)<\/em>/gi,"*$1*")).replace(/<ul(?:[\s\S]*?)>([\s\S]*?)<\/ul>/gi,"$1\n")).replace(/<ol(?:[\s\S]*?)>([\s\S]*?)<\/ol>/gi,"$1\n")).replace(/<li(?:[\s\S]*?)>([\s\S]*?)<\/li>/gi,"- $1\n")).replace(/<blockquote(?:[\s\S]*?)>([\s\S]*?)<\/blockquote>/gi,"> $1\n")).replace(/<code(?:[\s\S]*?)>([\s\S]*?)<\/code>/gi,"`$1`")).replace(/<pre(?:[\s\S]*?)>([\s\S]*?)<\/pre>/gi,"```\n$1\n```")).replace(/<code(?:[\s\S]*?)>/gi,"```")).replace(/<\/code>/gi,"```")).replace(/<table(?:[\s\S]*?)>([\s\S]*?)<\/table>/gi,"\n$1\n")).replace(/<th(?:[\s\S]*?)>([\s\S]*?)<\/th>/gi,"| $1 ")).replace(/<\/th>/gi,"|")).replace(/<tr(?:[\s\S]*?)>/gi,"|")).replace(/<\/tr>/gi,"|\n")).replace(/<td(?:[\s\S]*?)>([\s\S]*?)<\/td>/gi,"| $1 ")).replace(/<\/td>/gi,"|")).replace(/<\/?[a-z]+(?:[\s\S]*?)>/gi,"")},checkPromptWrapper(){document.querySelector("#prompt-wrapper")||this.selectPromptTemplateByIndex(null)},getParsedJSONFromCodeBlock(){var e=document.querySelectorAll(".markdown.prose.w-full.break-words.dark\\:prose-invert");return Array.from(e).forEach(e=>{e.querySelectorAll("#save-json").length!==e.querySelectorAll(".language-json").length&&e.querySelectorAll(".language-json").forEach(e=>{if(e?.className.includes("language-json")){var t=e.textContent.trim();try{var r=JSON.parse(t);r.Prompt&&r.Title?this.insertButtonCodeBlock(e,r):console.error("Error: JSON object must contain Prompt and Title keys.")}catch(e){console.error("Error: JSON object must contain Prompt and Title keys.")}}})}),null},insertButtonCodeBlock(e,t){var r,e=e.parentElement.previousElementSibling;e&&!e.querySelector("#save-json")&&((r=document.createElement("button")).classList.add("flex","ml-auto","gap-2"),r.innerHTML=C("save")+"Save as Template",r.id="save-json",r.addEventListener("click",function(){t&&IN_BOUND.saveImportedPrompt(t)}),e.appendChild(r))},sendBtnObserverForChunks(){var e=document.querySelector("textarea")?.nextElementSibling;if(e){let n=!1;var t=new MutationObserver(async(e,t)=>{for(const a of e){var r,o;"childList"===a.type&&(""===(r=document.querySelector("textarea").nextElementSibling).children[0].className&&0<IN_BOUND.longInputText.length?!1===n&&(n=!0,0<IN_BOUND.longInputText.length)&&(o=document.querySelector("textarea[tabindex='0']"),IN_BOUND.longInputText.slice(0,9e3).length,o.value=IN_BOUND.longInputText.slice(0,9e3),o.dispatchEvent(new Event("input",{bubbles:!0})),r.disabled&&(r.disabled=!1),await new Promise(e=>setTimeout(e,1e3)),r.click()):n=!1)}});t.observe(e,{attributes:!0,childList:!0,subtree:!0}),IN_BOUND.sendBtnObserverObject=t}},copyResponse(e){e=e.srcElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.innerText;navigator.clipboard.writeText(e).then(this.showNotification(d.SUCCESS,"The response was copied to your clipboard."))},replaceFetch(){window.fetch=(...t)=>{if(!t[0]||!t[0].match("https://chat\\.openai\\.com/backend-api/(conversation|complete)$"))return this.fetch(...t);if(console.log("Request intercepted!"),!this.SelectedPromptTemplate&&(this.Tone||this.WritingStyle||this.TargetLanguage)){var e=t[1],r=JSON.parse(e.body);try{var o=r.messages[0].content.parts.length-1,a=this.userTones.filter(e=>this.Tone===e.ID)[0];return a?.Description&&(r.messages[0].content.parts[o]+=`

Please write in ${a.Description}.`),this.TargetLanguage&&(r.messages[0].content.parts[o]+=`
Please write in ${this.TargetLanguage} language.
`),this.WritingStyle&&(r.messages[0].content.parts[o]+=`
Please write in ${this.WritingStyles.find(e=>e.ID===this.WritingStyle)?.Prompt} writing style.`),e.body=JSON.stringify(r),console.log("last index: ",o),console.log("Submit Prompt:  ",r.messages[0].content.parts[o]),this.selectPromptTemplateByIndex(null),this.fetch(t[0],e)}catch(e){return console.log(e),this.fetch(...t)}}if(!(this.SelectedPromptTemplate||this.Tone||this.WritingStyle||this.TargetLanguage))return console.log("No prompt template, tone, writing style or target language selected"),this.fetch(...t);console.log("processed with selected prompt");a=this.SelectedPromptTemplate;try{var n,i,s=t[1],l=JSON.parse(s.body),d=l.messages[0].content.parts.length-1,c=(a&&(n=l.messages[0].content.parts[d],this.SelectedPromptTemplateID=a.ID,localStorage.setItem("SelectedPromptTemplateID",a.ID),i=(this.TargetLanguage||Ir).replace("*",""),-1===a.Prompt.indexOf(g)&&(a.Prompt=a.Prompt+`
`+n),l.messages[0].content.parts[d]=a.Prompt.replaceAll(g,n).replaceAll(m,i)),this.userTones.filter(e=>this.Tone===e.ID)[0]),p=(c?.Description&&(l.messages[0].content.parts[d]+=`

Please write in ${c.Description}.`),this.TargetLanguage&&(l.messages[0].content.parts[d]+=`
Please write in ${this.TargetLanguage} language.
`),this.WritingStyle&&(l.messages[0].content.parts[d]+=`
Please write in ${this.WritingStyles.find(e=>e.ID===this.WritingStyle)?.Prompt} writing style.`),l.messages[0].content.parts[d]),h=p;return console.log(h),console.log("last index: ",d),IN_BOUND.SelectedPromptTemplate={...IN_BOUND.SelectedPromptTemplate,Prompt:h},l.messages[0].content.parts[d]=h,s.body=JSON.stringify(l),this.selectPromptTemplateByIndex(null),this.fetch(t[0],s)}catch(e){return this.fetch(...t)}}},observeForTextareaElemChanges(){document.querySelector("#prompt-textarea"),new MutationObserver(e=>{e.forEach(e=>{e.addedNodes&&0<e.addedNodes.length&&e.addedNodes.forEach(e=>{}),e.removedNodes&&0<e.removedNodes.length&&e.removedNodes.forEach(e=>{})})}).observe(document,{subtree:!0,childList:!0})},handleElementAdded(e){"headlessui-portal-root"===e.id||"language-select-wrapper"===e.id?this.setupSidebar():(e.querySelector("h1.text-4xl")&&(this.insertPromptTemplatesSection(),(e=document.getElementById("export-button"))&&(e.style="pointer-events: none;opacity: 0.5"),this.insertLanguageToneWritingStyleContinueActions()),document.querySelector(".xl\\:max-w-3xl")&&((e=document.getElementById("export-button"))&&(e.style=""),this.insertLanguageToneWritingStyleContinueActions()),document.querySelector(".whitespace-pre-wrap")&&this.insertSavePromptAsTemplateButton())},insertSavePromptAsTemplateButton(){var e,t=document.querySelector(".flex.flex-col.items-center .whitespace-pre-wrap:not(:has(*))");!t||!(t=t.parentElement.parentElement.querySelector("button"))||(this.showContinueActionsButton(),e=t.parentElement.querySelector(".save-prompt-button"))||((e=document.createElement("button")).className="save-prompt-button p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400 md:invisible md:group-hover:visible",e.title="Save prompt as template",e.addEventListener("click",this.showSavePromptModal.bind(this)),e.innerHTML=C("Save"),t.parentElement.prepend(e))},getActivities(t=Nr){var e=this.Activities.filter(e=>!t||t===Nr||e.TopicID===t);return[...new Set(e.map(e=>e.Label))].map(t=>({ID:this.Activities.find(e=>e.Label===t).ID,Label:t}))},validatePrompt(t){var e=[],r=[...this.PromptTemplates,...this.OwnPrompts].find(e=>e.ID===t.ID),o=r&&r.PromptTypeNo!==t.PromptTypeNo;if(this.canCreatePromptTemplate()||r)if(t.PromptTypeNo!==p.PUBLIC||this.canCreatePublicPromptTemplate()||r&&!o){if(t.PromptTypeNo!==p.PRIVATE||this.canCreatePrivatePromptTemplate()||r&&!o)return t.PromptTypeNo!==p.PUBLIC||t.AuthorName.trim()&&t.AuthorURL.trim()||e.push("Please identify with Author Name and URL to publish a prompt template as public."),r=[],t.PromptTypeNo!==p.PUBLIC||t.Prompt.includes(m)||r.push(m),t.Prompt.includes(g)||r.push(g),0<r.length&&e.push(`
          Make sure you follow the Prompt Template guidelines. <br>
          You must use ${r.join(" and ")} correctly. <br><br>
          Learn more <a class="underline" href="https://lrt.li/IN_BOUNDpromptguide" target="_blank" rel="noopener noreferrer">here</a>.
        `),0<e.length&&(o=`
        <div>
          <strong>Please fix the following errors:</strong> <br><br>
          ${e.join("<br><br>")}
        </div>
      `,this.showNotification(d.ERROR,o,!1)),0===e.length;this.cannotCreatePrivatePromptTemplateError()}else this.cannotCreatePublicPromptTemplateError();else this.cannotCreatePromptTemplateError()},async savePromptAsTemplate(e){var t,r,o={};for([t,r]of new FormData(e.target))o[t]=r;o.ID=o.ID||window.crypto.randomUUID()||(new Date).getTime()+Math.random().toString(16).slice(2),o.PromptTypeNo=1,o.teamID=this.selectedTeam,o.CreationTime=(new Date).toISOString(),o.PromptTypeNo=o.Public?p.PUBLIC:p.PRIVATE;try{await this.Client.savePrompt(o);o.ID||this.PromptTopic!==Nr&&this.PromptTopic}catch(e){return void this.showNotification(d.ERROR,!1?e.message:"Something went wrong. Please try again.")}this.hideSavePromptModal(),this.showNotification(d.SUCCESS,'Prompt template was saved successfully to "My Prompts".'),this.insertPromptTemplatesSection()},updatePromptsState(t){var e,r;t.Community!==this.PromptTopic&&this.PromptTopic!==Nr?(this.PromptTemplates=this.PromptTemplates.filter(e=>e.ID!==t.ID),this.OwnPrompts=this.OwnPrompts.filter(e=>e.ID!==t.ID)):(this.OwnPrompts=this.OwnPrompts.map(e=>e.ID===t.ID?t:e),e=this.PromptTemplates.find(e=>e.ID===t.ID),!(r=t.PromptTypeNo===p.PUBLIC)&&e?this.PromptTemplates=this.PromptTemplates.filter(e=>e.ID!==t.ID):r&&!e?this.PromptTemplates.push(t):r&&e&&(this.PromptTemplates=this.PromptTemplates.map(e=>e.ID===t.ID?t:e)))},showNotification(e=d.SUCCESS,t="",r=!0){var o="IN_BOUND-Notification";let a=document.getElementById(o);a||((a=document.createElement("div")).id=o),a.innerHTML='<div style="z-index:999999999999;" class="fixed top-0 right-0 p-6 space-y-4 max-w-md">'+(e===d.SUCCESS?`
    <div class="flex items-center bg-green-500 border-l-4 border-green-700 py-2 px-3 shadow-md mb-2">
        <div class="text-green-500 rounded-full bg-white mr-3">
            <svg width="1.8em" height="1.8em" viewBox="0 0 16 16" class="bi bi-check-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 10.5L4 8l1.5-1.5L6.5 7l3-3L12 5l-5.5 5.5z"/>
            </svg>
        </div>
        <div class="text-white max-w-xs  text-xl ">
        ${t}
        </div>
    </div>`:e===d.WARNING?`
  <div class="flex items-center bg-yellow-500 border-l-4 border-yellow-700 py-2 px-3 shadow-md mb-2">
      <div class="text-yellow-500 rounded-full bg-white mr-3">
          <svg width="1.8em" height="1.8em" viewBox="0 0 16 16" class="bi bi-exclamation-triangle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M7.938 2.016A.13.13 0 0 1 8 2h.001a.13.13 0 0 1 .095.047l6.857 9.5a.13.13 0 0 1-.034.154l-.034.034a.13.13 0 0 1-.183 0H1.217a.13.13 0 0 1-.183 0 .13.13 0 0 1-.034-.154l6.857-9.5a.13.13 0 0 1 .08-.047ZM7.002 12a1 1 0 1 0 2 0 1 1 0 0 0-2 0Zm.82-3.466a.563.563 0 1 1-1.22 0 .562.562 0 0 1 1.22 0Z"/>
          </svg>
      </div>
      <div class="text-white max-w-xs  text-xl">
      ${t}
      </div>
  </div>`:`<div class="flex items-center bg-red-500 border-l-4 border-red-700 py-2 px-3 shadow-md mb-2">
  <div class="text-red-500 rounded-full bg-white mr-3">
      <svg width="1.8em" height="1.8em" viewBox="0 0 16 16" class="bi bi-x-circle-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
      </svg>
  </div>
  <div class="text-white max-w-xs text-xl">
  ${t}
  </div>
</div>

  `)+"</div>",a.addEventListener("click",()=>{a.remove()}),r&&setTimeout(()=>{a.remove()},5e3),document.body.appendChild(a)},hideModal:hr,hideSavePromptModal(){this.hideModal("savePromptModal")},showReportPromptModal(e){pr(e,this.PromptTemplatesType,this.PromptTemplates,this.reportPrompt.bind(this))},addInputToTextarea(e){var t=document.getElementById("prompt_template_area");t.value=t.value.slice(0,t.selectionStart)+e+t.value.slice(t.selectionEnd)},auto_grow(e){e.style.height="5px",e.style.height=e.scrollHeight+"px"},async showSavePromptModal(e,t,r){let o="";var a=e&&e.type===Or;let n={},i=!1,s=(e&&e.type!==Or&&(e.target.closest("button"),n=this.DefaultPromptTemplates.filter(e=>e.ID===this.activePromptID)[0]||this.OwnPrompts.filter(e=>e.ID===this.activePromptID)[0])&&(o=n.Prompt,i=!0),document.getElementById("savePromptModal"));s||((s=document.createElement("div")).id="savePromptModal",s.addEventListener("submit",e=>{e.preventDefault(),"savePromptAsTemplate"===e.submitter.name?this.savePromptAsTemplate(e):this.saveAsNewPromptTemplate(e)}),document.body.appendChild(s)),s.innerHTML=`
      <div style="z-index:1000;" class="fixed inset-0 text-center transition-opacity w-full ">
        <div onclick="IN_BOUND.hideModal('savePromptModal')" class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full">
            <form id="savePromptForm">
              <input type="hidden" name="ID" ${t?`value="${t}"`:""}  />
              
              <div
              class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl text-left transform transition-all"
              role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left; height: 90vh; width:90vw;">
          
                <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 overflow-y-auto" style="height: 100%;" >
                <label>${T.inputform.title.label}</label>
                  <input name="Title" type="text" ${i?`value="${x(n.Title)}"`:""}
                    title="${T.inputform.title.placeholder}" required placeholder="${T.inputform.title.placeholder}" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded mb-3 mt-2 p-2 w-full" />
            

                    <label>${T.inputform.teaser.label}</label>
                  <textarea name="Teaser" required
                    title="${T.inputform.teaser.placeholder}'"
                    class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 71px;"
                    placeholder="${T.inputform.teaser.placeholder}"> ${i?`value="${x(n.Teaser)}"`:""}</textarea>
                    
                  <label>${T.inputform.promptHint.label}</label>
                  <input name="PromptHint" required type="text"  ${i?`value="${x(n.PromptHint)}"`:""}
                    title="${T.inputform.promptHint.placeholder}"
                    class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" placeholder="${T.inputform.promptHint.placeholder}" />

                  <div class=" flex gap-2 items-center justify-start  " >
                  <label >${T.inputform.promptTemplate.label}</label>
                  <a title="Add [PROMPT]" style="border: 1px solid gray; cursor: hand; border-radius:4px;  border: 1px solid #b6b6b6;  color: #1b1b1b;  padding: 5px 10px; background: linear-gradient(to bottom, #fafafa, #e2e4e8); font-size: 14px; " class=" hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                    onclick="IN_BOUND.addInputToTextarea( ' [PROMPT] ' )"> [PROMPT] </a>

                    <a title="Add [TARGETLANGUAGE]" style="border: 1px solid gray; cursor: hand; border-radius:4px;  border: 1px solid #b6b6b6;  color: #1b1b1b;  padding: 5px 10px; background: linear-gradient(to bottom, #fafafa, #e2e4e8); font-size: 14px; " class=" hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                    onclick="IN_BOUND.addInputToTextarea( ' [TARGETLANGUAGE] ')"> [TARGETLANGUAGE] </a>

                    <a title="Add {{VARIABLE}}" style="border: 1px solid gray; cursor: hand; border-radius:4px;  border: 1px solid #b6b6b6;  color: #1b1b1b;  padding: 5px 10px; background: linear-gradient(to bottom, #fafafa, #e2e4e8); font-size: 14px; " class=" hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                    onclick="IN_BOUND.addInputToTextarea( ' {{VARIABLE}} ')"> {{VARIABLE}} </a>
                  </div>
                  <textarea oninput="IN_BOUND.auto_grow(this)" name="Prompt" id="prompt_template_area" 
                      class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3 "  style="height: 25% ; max-height:320px; "  required
                            placeholder="${T.inputform.promptTemplate.placeholer}"
                            title="${T.inputform.promptTemplate.placeholer}">${x(o)}</textarea>
            
                  
                  
                  <div class="flex" >
                    <div class="w-full mr-2">
                      <label>${T.inputform.activity}</label>
                      <input type="text" list="tagsList" name="Tags" id="Category" multiple placeholder="Comma Separated Tags"
                        class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" >
                      <datalist id="tagsList" >
                        ${this.searchPredictionList.map(e=>`
                              <option value="${e}">`).join("")}
                      </datalist>
                    </div>

                  ${this.userTones[0]?`<div class="w-full ml-2 items-start justify-center flex flex-col">
                      <label> Variation (Optional) </label>
                        <select name="Tone" class="mt-2 mb-3 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full">
                        <option  value="" selected  > No Variation </option>

                          ${this.userTones.map(e=>`
                                <option  value="${x(e.ID)}">${x(e.Label)}</option>`).join("")}
                        </select>`:`<div class="w-full ml-2 items-start justify-center flex flex-col">
                        <label>Pompt Variation</label>
                          <select name="Tone" disabled class="mt-2 mb-3 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full">
                          <option  value="" selected  > None Defined </option>
  
                          </select>`}

                        
                        
                        </div>

                        <a style="padding-top: 4%;padding-left: 10px;" title="Goto setting and click on My Variations to Manage Variations.">${C("info")}</a>

                </div>

                ${a?"":`<div class="block mx-6 mt-4 gap-4">
                    <label class="text-sm">
                      <input name="Public" value="true" type="checkbox" class="mx-4 dark:bg-gray-700"> 
                      ${T.inputform.share}
                    </label>
                    
                    <label class="text-sm mx-6">
                        <input name="companyTonesState" type="checkbox" class="mx-4 dark:bg-gray-700"> 
                        Apply overall company tone
                      </label>
            
                  
                </div>`}
            
                <div class=" px-4 py-3 text-right">
                ${!0===a?`<button type="submit" name="saveAsNewPromptTemplate" class="bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                          > ${T.inputform.saveAsNew}
                  </button>`:""}
                  <button type="button" class="bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                          onclick="IN_BOUND.hideSavePromptModal()"> ${T.inputform.cancel}
                  </button>
                  <button type="submit" name="savePromptAsTemplate" class="bg-orange-500 hover:bg-orange-500/10 mr-2 px-4 py-2 mt-2 rounded text-white">${T.inputform.save}
                  </button>
                </div>


                </div>

                  

                 
            
              </div>
            </form>
          </div>
        </div>
        
      </div>
    `,s.style="display: block;",document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideSavePromptModal()})},addNewEmptyTone(){var e=[{ID:(new Date).getTime()+Math.random().toString(16).slice(2),Label:"My New Variation",Description:"My Variation Detail"}];this.userTones=[...e,...this.userTones],IN_BOUND.editActivatedTonesInSetting=e[0].ID,this.showSettingModal()},async deleteToneFromSetting(e){await this.Client.deleteTone(e)},async showSettingModal(){this.tonesOrderLocal=JSON.parse(localStorage.getItem("tonesOrderLocal"))||[],this.tonesOrderLocal?.index&&(this.tonesOrderLocal=[this.tonesOrderLocal]);let t=this.tonesOrderLocal?.filter(e=>e.team===IN_BOUND.selectedTeam&&e.company===IN_BOUND.selectedCompany&&e.folder===IN_BOUND.folderManager.selectedFolder)[0]?.index||[];const r=[];t!==this.userTones&&([...this.userTones.filter(e=>!t.map(e=>e[0]).includes(e.ID)).map(e=>[e.ID]),...t].map(e=>{r.push([e[0],r.length])}),t=r);var e=[];for(const[s,l]of t){var o=this.userTones.find(e=>e.ID===s);o&&(e[l]=o)}var a=e.filter(e=>void 0!==e);let n=document.getElementById("settingModal");n||((n=document.createElement("div")).id="settingModal",document.body.appendChild(n)),n.innerHTML=`
      <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('settingModal')" class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
                <div
                class="w-1/2 align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

                <div class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('settingModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <div class="flex flex-wrap text-sm font-medium text-center text-gray-900 dark:text-gray-400 w-full border-b mb-4 pb-2">
                    
                  <button class="inline-block px-2 py-1  rounded-sm mr-2 ${"settings"===this.settingsActiveTab?"bg-orange-500 text-white":""} " 
                  onclick="IN_BOUND.settingsActiveTab = 'settings'; IN_BOUND.showSettingModal() " > Setting </button>

                  <button class="inline-block px-2 py-1  rounded-sm mr-2 ${"tones"===this.settingsActiveTab?"bg-orange-500 text-white":""} " 
                  onclick="IN_BOUND.settingsActiveTab = 'tones' ; IN_BOUND.showSettingModal()" > My Variations </button>
                  
                  <button class="inline-block px-2 py-1  rounded-sm mr-2 ${"companyTones"===this.settingsActiveTab?"bg-orange-500 text-white":""} " 
                  onclick="IN_BOUND.settingsActiveTab = 'companyTones'; IN_BOUND.showSettingModal() " > Company Variations </button>
                   
                   
                </div>


                ${"settings"===this.settingsActiveTab?`<div class="mr-4 w-1/5 text-left text-gray-900 dark:text-gray-400">
                  <p class="text-right text-gray-500 dark:text-gray-400" >Version: 13.15.11</p>
                  <label>Extension Language</label>
                  <select id="languageExtSelect" name="Community" class="mt-2 mb-3 text-gray-500 dark:text-gray-400 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full" required>
                  ${Object.keys(ur).map(e=>`<option   value="${e}" ${this.ExtLang===e?"selected":""}>${e.charAt(0).toUpperCase()+e.slice(1)}</option>`).join("")}
                  </select>

                </div>`:""}


                ${"tones"===this.settingsActiveTab?`

                    <div class="flex justify-between items-center text-center ">
                        <h3>Variations</h3>
                        <div class="flex text-center row">
                        
                        <a  class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick="IN_BOUND.importToneinSetting()"> ${C("import-h5")} <input id="dropzone-file589325" type="file" accept=".json" class="hidden" /> </a>

                        <a  class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                             onclick="IN_BOUND.addNewEmptyTone()"> ${C("add-5")}  </a>

                              </div>
                    </div>
                    <div id="variationBox" class="list-group">
                       ${a.map(e=>`<div class=" list-group-item " data-id="${e.ID}" >
                       
                       <div  class="flex items-center   justify-between m-2 bg-gray-50 dark:bg-gray-700  p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900 border shadow border-gray-300 dark:border-gray-700 hover:shadow-lg transition duration-300 ease-in-out tw-border-2 tw-border-blue-500 tw-rounded-xl">
                        <div class="flex gap-1 justify-center items-center">
                          ${C("drag-lines")}
                           <p class="ml-5">${e.Label}</p> 
                        </div>
                          <div class="flex gap-1 justify-end items-start"> 

                              <a title="Copy variation" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick =" ${-1===this.hiddenVariations.indexOf(e.ID)?`IN_BOUND.hideVariation('${e.ID}')"> `+C("eye"):`IN_BOUND.unHideVariation('${e.ID}')"> `+C("eye_off")}   </a>

                              <a title="Copy variation" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick="IN_BOUND.copyToneFromSetting('${e.ID}')"> ${C("copy")}  </a>

                              <a title="Download variation" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick="IN_BOUND.exportToneFromSetting('${e.ID}')"> ${C("export")}  </a>
                            
                            
                              <a title="Edit variation" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick="${IN_BOUND.editActivatedTonesInSetting!==e.ID?`IN_BOUND.editActivatedTonesInSetting = '${e.ID}'; IN_BOUND.showSettingModal();`:"IN_BOUND.editActivatedTonesInSetting = ''; IN_BOUND.showSettingModal()"}"> ${IN_BOUND.editActivatedTonesInSetting===e.ID?C("EditOrange"):C("Edit")}  </a>
                            
                              <a title="Delete variation" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                              onclick="IN_BOUND.deleteToneFromSetting('${e.ID}')"> ${C("Cross")}  </a>
                          
                              </div> 
                        </div>
                        
                        <form id="saveToneForm" class="${IN_BOUND.editActivatedTonesInSetting===e.ID?"":"hidden"}   " >
                        <input type="hidden" name="ID" value="${e.ID}" />
                        
                      <div
                        class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle w-full text-left transform transition-all"
                        role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">
                    
                        <div class="bg-white dark:bg-gray-800 px-4 overflow-y-auto">
                          <label>Title</label>
                            <input name="Label" type="text" value="${e.Label}"}
                              title="Tone Label" required placeholder="Tone Label" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded mb-3 mt-2 p-2 w-full" />
                      
                            <label>Tone</label>
                            <textarea name="Description" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 120px;" required
                                      placeholder="Tone"
                                      title="Tone">${e.Description}</textarea>
                      
                            <div class=" px-4 py-3 text-right">
                              
                                <button type="button" class="bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                                        onclick=" IN_BOUND.editActivatedTonesInSetting = ''; IN_BOUND.showSettingModal() " "> Cancel
                                </button>
                                <button type="submit" class="bg-orange-500 hover:bg-orange-500/10 mr-2 px-4 py-2 mt-2 rounded text-white">Save
                                </button>
                            </div>
              
                        </div>
                      </form>

                        </div></div>`).join("")}
                        </div>
                        
                `:""}


              ${"companyTones"===this.settingsActiveTab?`

                <div class="flex justify-between items-center text-center ">
                    <h3>Company Variations</h3>
                </div>
                   ${this.companyTones.map(e=>`<div class="  ">
                   <div class="flex items-center  justify-between m-2 bg-gray-50 dark:bg-white/5 p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-900 border shadow border-gray-300 dark:border-gray-700 hover:shadow-lg transition duration-300 ease-in-out tw-border-2 tw-border-blue-500 tw-rounded-xl">
                      <div> <p>${e.Label}</p> </div>
                      <div class="flex gap-1 justify-end items-start"> 
                        
                          <a title="Copy to user variations"  class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                          onclick="IN_BOUND.forkActivatedTonesInSetting('${e.ID}'); IN_BOUND.showSettingModal();"> ${C("fork")}  </a>
                        
                      
                          </div> 
                    </div>
                    `).join("")}
                    
            `:""}


              </div>
            </div>
          <div>
        </div>
  `,n.style="display: block;",n?.querySelector("#languageExtSelect")?.addEventListener("change",this.changeExtLanguage.bind(this));var a=n?.querySelector("#variationBox"),i=(a&&z.create(a,{forceFallback:!0,fallbackClass:"dragged-item",animation:100,easing:"cubic-bezier(1, 0, 0, 1)",handle:".drag-icon",onEnd:function(e){e.item,e.to,e.from,e.oldIndex,e.newIndex,e.oldDraggableIndex,e.newDraggableIndex,e.clone,e.pullMode;let r=[];Array.from(e.target.children).forEach((e,t)=>{e=e.attributes["data-id"].value;r.push([e,t])});e=IN_BOUND.tonesOrderLocal?.filter(e=>!(e.team===IN_BOUND.selectedTeam&&e.company===IN_BOUND.selectedCompany&&e.folder===IN_BOUND.folderManager.selectedFolder))||[];localStorage.setItem("tonesOrderLocal",JSON.stringify([...e,{index:r,company:IN_BOUND.selectedCompany,team:IN_BOUND.selectedTeam,folder:IN_BOUND.folderManager.selectedFolder}])),IN_BOUND.tonesOrderLocal=JSON.parse(localStorage.getItem("tonesOrderLocal")),IN_BOUND.insertLanguageToneWritingStyleContinueActions()}}),n.querySelectorAll("#saveToneForm"));for(let e=0;e<i.length;e++)i[e]?.addEventListener("submit",async function(e){e.preventDefault();e={ID:e.target[0].value,Label:e.target[1].value,Description:e.target[2].value},IN_BOUND.showNotification(d.SUCCESS,"Sync.."),IN_BOUND.editActivatedTonesInSetting="",e={id:e.ID,label:e.Label,prompt:e.Description,user:IN_BOUND.Client.User.Email,company:IN_BOUND.Company};await IN_BOUND.Client.saveEditTone(e),IN_BOUND.showSettingModal()});n?.querySelector("#companyToneState")?.addEventListener("click",this.changeCompanyToneState.bind(this)),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideModal("settingModal")})},hideVariation(e){this.hiddenVariations.push(e),localStorage.setItem("hiddenVariations",JSON.stringify(this.hiddenVariations)),this.showSettingModal(),this.insertLanguageToneWritingStyleContinueActions()},unHideVariation(t){this.hiddenVariations=this.hiddenVariations.filter(e=>e!==t),localStorage.setItem("hiddenVariations",JSON.stringify(this.hiddenVariations)),this.showSettingModal(),this.insertLanguageToneWritingStyleContinueActions()},async forkActivatedTonesInSetting(t){var e=IN_BOUND.companyTones.filter(e=>e.ID===t)[0],r=Math.random().toString(36).substring(2)+"-"+(new Date).getTime().toString(36);e.ID=window.crypto?.randomUUID()||r,e&&(r={id:e.ID,label:"Copy of: "+e.Label,prompt:e.Description,user:IN_BOUND.Client.User.Email,company:IN_BOUND.Company},await IN_BOUND.Client.saveEditTone(r),IN_BOUND.showSettingModal())},exportToneFromSetting(t){var e=this.userTones.filter(e=>e.ID===t)[0],r=Math.random().toString(36).substring(2)+"-"+(new Date).getTime().toString(36);e.ID=window.crypto?.randomUUID()||r,e&&(r={id:e.ID,label:e.Label,prompt:e.Description,user:IN_BOUND.Client.User.Email,company:IN_BOUND.Company},this.exportContent(r,r.label),IN_BOUND.showNotification(d.SUCCESS,"Variation downloaded!"))},copyToneFromSetting(t){var e=this.userTones.filter(e=>e.ID===t)[0];e&&(this.copyTextClipboard(e.Description),IN_BOUND.showNotification(d.SUCCESS,"Variation copied!"))},importToneinSetting(){var e=document.getElementById("dropzone-file589325");e.click(),e.onchange=e=>{var e=e.target.files,r=new FileReader;r.onload=async function(){var e=r.result,e=JSON.parse(e),t=Math.random().toString(36).substring(2)+"-"+(new Date).getTime().toString(36);e.id=window.crypto?.randomUUID()||t,e&&(e.id,e.label,e.prompt,e.prompt?(await IN_BOUND.Client.saveEditTone(e),IN_BOUND.showSettingModal()):IN_BOUND.showNotification(d.SUCCESS,"Invalid Variation!"))},r.readAsText(e[0])}},XMLRead:"",async showVariablesModal(e){const t=["PdfRead","XMLRead"];e=e.Prompt.match(/[^{{]+(?=\}})/g),e=[...new Set(e)];let r=document.getElementById("variablesModal");r||((r=document.createElement("div")).id="variablesModal",r.addEventListener("submit",function(e){e.preventDefault(),IN_BOUND.addVariablesToPrompt(e)}),document.body.appendChild(r)),r.innerHTML=`
      <div style="z-index:1000;" class="fixed inset-0 text-center transition-opacity ">
        <div  class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full">
            <form id="saveVariableForm">
              
              <div
              class="align-center px-6 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
              role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">
          
                ${e?.map(e=>"XMLRead"===e?`
                    <label for="${e?.split(":")[0]}" >XML File:</label>
                    <input type="file" id="${e?.split(":")[0]}" accept="application/xml" name="${e}" class=" rounded py-2 px-3 w-full">    
                    `:"SheetCSVPrompts"===e?`
                    <label for="${e}" >Google Sheet URL:</label>
                    <input type="text" id="${e}" required name="${e}" class=" rounded py-2 px-3 w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700">    
                    `:"PdfRead"===e?`
                    <label for="${e?.split(":")[0]}" >PDF File:</label>
                    <input type="file" id="${e?.split(":")[0]}" accept="application/pdf" id="XMLRead" name="${e}" class=" rounded py-2 px-3 w-full">    
                    `:-1===t?.indexOf(e?.split(":")[0])?`
                    <label>${e?.split(":")[0]}</label>
                    <textarea name="${e}" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 120px;" 
                              placeholder=" ${e?.split(":")[1]||""}"
                              title=" ${e?.split(":")[1]||""}"></textarea>
                    `:void 0).join("")}
            
                <div class=" px-4 py-3 text-right">
                  <button type="button" class="IN_BOUND_hideVariablesModal bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                          > Cancel
                  </button>
                  <button type="submit" name="savePromptVariables" class="bg-orange-500 hover:bg-orange-500/10 mr-2 px-4 py-2 mt-2 rounded text-white"> Submit
                  </button>
                </div>
            
              </div>
            </form>
          </div>
        </div>
        
      </div>
    `,r.style=0<e.length?"display: block;":"display: none;",r?.querySelector(".IN_BOUND_hideVariablesModal")?.addEventListener("click",()=>{IN_BOUND.hideModal("variablesModal"),this.selectPromptTemplate(null)}),r?.querySelector("#XMLRead")?.addEventListener("change",function(e){var t,e=e.target.files[0];IN_BOUND.XMLFileName=e.name,e&&((t=new FileReader).onload=function(e){e=e.target.result;IN_BOUND.XMLRead=e},t.readAsText(e))}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideModal("variablesModal")})},async addVariablesToPrompt(e){e=new FormData(e.target);let r=this.SelectedPromptTemplate.Prompt;for(const[a,n]of e)if("PdfRead"===a)this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r};else if("SheetCSVPrompts"===a){if(console.log("SheetCSVPrompts: ",n),!n.includes("https://docs.google.com/spreadsheets"))return void k.notify("Invalid url!","top right",8,"on");var t=n.replace("edit#","gviz/tq?tqx=out:csv&");localStorage.setItem("sheetCSVUrl",t),this.selectPromptTemplate(null),document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:t,type:"IN_BOUND.getRequest",returnType:"getCsvSheetResults"},bubbles:!0}))}else if("XMLRead"===a){this.hideModal("variablesModal");t=IN_BOUND.XMLRead;const i=t.match(/>(.*?)\w<\//g);var o=[t.match(/>\n(.*?)<\//g),t.match(/>(.*?)\n<\//g),t.match(/>(.*?)<\//g)].flatMap(e=>e).filter(e=>e&&!i.includes(e)&&null!==e.match(/\w/g)).map(e=>e?.slice(1,-2));IN_BOUND.SelectedPromptTemplate=null,IN_BOUND.selectPromptTemplateByIndex(null),IN_BOUND.resurssiveTranslation(o,0,r)}else"ScrapeWebsite"===a?await new Promise((t,e)=>{document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:n,type:"IN_BOUND.getScraperData",returnType:"getScraperData"},bubbles:!0})),document.addEventListener("IN_BOUND.getScraperData",async e=>{e=JSON.stringify(e.detail.data);r=r.replaceAll(`{{${a}}}`,e),IN_BOUND.SelectedPromptTemplate={...IN_BOUND.SelectedPromptTemplate,Prompt:r},t("")})}):(r=r.replaceAll(`{{${a}}}`,n),this.SelectedPromptTemplate={...this.SelectedPromptTemplate,Prompt:r});IN_BOUND.SelectedPromptTemplate&&(document.querySelector("#prompt-wrapper > span").title=IN_BOUND.SelectedPromptTemplate.Prompt),this.hideModal("variablesModal")},async runCsvChainOfPrompts(r){if("no"==this.runCsvChainOfPromptsState)localStorage.removeItem("chainOfPrompts"),this.insertPromptTemplatesSection();else{this.runCsvChainOfPromptsState=!0,console.log("Active Index: ",r);const n=JSON.parse(localStorage.getItem("chainOfPrompts"))||[];if(r===n.length&&IN_BOUND.downloadAndUploadChainOfPrompts(),!(r>=n.length)){const i=n[r];if(!1===i.completed){i.index;let t=i.prompt;if(t){var e,o,a=t.match(/[^{{]+(?=\}})/g);if(a)for(const s of a){if(console.log("variable: ",s),"websiteTranslation"===s||"websiteLanguage"===s)return"websiteTranslation"!==s?void 0:(e=await this.openWebsiteNGetHtml(i[s]),console.log("websiteStr: ",e),"new"===i.chat&&k.startNewChat(),e=(new DOMParser).parseFromString(e,"text/html"),e=await this.translateHtmlContent(e,0,i.websiteLanguage,parseInt(i?.wait)||2),i.chatgptResponse=e,i.completed=!0,n[r]=i,localStorage.setItem("chainOfPrompts",JSON.stringify(n)),void(i.wait?(IN_BOUND.insertPromptTemplatesSection(),setTimeout(()=>{IN_BOUND.runCsvChainOfPrompts(r+1)},1e3*(parseInt(i?.wait)||2))):(IN_BOUND.insertPromptTemplatesSection(),setTimeout(()=>{IN_BOUND.runCsvChainOfPrompts(r+1)},1e3))));t="ScrapeWebsite"===s?(e=await IN_BOUND.openWebsiteNGetHtml(i[s]),console.log("websiteStr: ",e),o=(new DOMParser).parseFromString(e,"text/html"),await this.getHtmlContent(o,0,o=[]),t.replaceAll(`{{${s}}}`,o.join(" ")||"")):t.replaceAll(`{{${s}}}`,i[s]||"")}"new"===i.chat&&k.startNewChat(),setTimeout(async()=>{var e=await k.askAndGetReply(t);e?(i.chatgptResponse=e,i.completed=!0,n[r]=i,localStorage.setItem("chainOfPrompts",JSON.stringify(n)),i.wait?setTimeout(()=>{IN_BOUND.runCsvChainOfPrompts(r+1)},1e3*(parseInt(i?.wait)||1)):setTimeout(()=>{IN_BOUND.runCsvChainOfPrompts(r+1)},1e3)):setTimeout(()=>{IN_BOUND.runCsvChainOfPrompts(r)},5e3),IN_BOUND.insertPromptTemplatesSection()},1e3)}else alert("prompt header not found!"),this.clearChainOfPromptsData()}else!0===i.completed&&this.runCsvChainOfPrompts(r+1)}}},openWebsiteNGetHtml(e){return new Promise(t=>{document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:e,type:"IN_BOUND.getScraperHtmlData",returnType:"getScraperHtmlData"},bubbles:!0})),document.addEventListener("IN_BOUND.getScraperHtmlData",async e=>{console.log("event: ",e.detail.data);e=JSON.stringify(e.detail.data);t(e)})})},downloadAndUploadChainOfPrompts(){var e=(JSON.parse(localStorage.getItem("chainOfPrompts"))||[]).filter(e=>!0===e.completed).map(({completed:e,index:t,...r})=>r),e=Papa.unparse(e),e=(this.downloadAsFile("bulk_prompt_responses_chatgpt.csv",e),Papa.parse(e,{header:!1})),e=JSON.stringify(e.data),t=localStorage.getItem("sheetCSVUrl"),r=t.split("/")[5],t=t.split("/")[t.split("/").length-1].split("=")[2];document.dispatchEvent(new CustomEvent("IN_BOUND.SendBgMsg",{detail:{url:`https://script.google.com/macros/s/AKfycbwtNEH-e-yKYhO6NgFStZk4Q7QsWzvqIH4Bkiq6bk6aBZ9DSTHDoqpTH1qV82MzHPgVEQ/exec?spreadsheetId=${r}&sheetId=`+t,options:{method:"POST",headers:{"Content-Type":"application/json"},body:e},type:"IN_BOUND.postRequest",returnType:"saveCsvData"},bubbles:!0}))},clearChainOfPromptsData(){localStorage.removeItem("chainOfPrompts"),!0===this.runCsvChainOfPromptsState?this.runCsvChainOfPromptsState="no":this.runCsvChainOfPromptsState=!1,this.insertPromptTemplatesSection()},async resurssiveTranslation(e,t,r){var o=r.replaceAll("{{XMLRead}}",e[t]),o=await k.askAndGetReply(o);IN_BOUND.XMLRead=IN_BOUND.XMLRead.replace(e[t],o),t<e.length-1?this.resurssiveTranslation(e,t+1,r):(IN_BOUND.downloadAsFile(IN_BOUND.XMLFileName.slice(0,-3)+"_translated.xml",IN_BOUND.XMLRead),IN_BOUND.XMLRead="",IN_BOUND.XMLFileName="")},async translateHtmlContent(e,t,r,o){var a=["h1","h2","h3","h4","h5","h6","p","div"],n=e.querySelectorAll(a.join(", "));if(console.log("Nodes: ",n.length),console.log("Current Index: ",t),t>=n.length)return console.log("Done!"),console.log(e.body.innerHTML),(window.customDoc=e).body.innerHTML;var i,n=n[t];"DIV"===n.nodeName&&n.childElementCount<1?n.textContent&&(i=await IN_BOUND.translateTextChatGPT(n.textContent,r,o),n.textContent=i):a.filter(e=>"div"!==e).includes(n.nodeName.toLowerCase())&&n.textContent&&(i=await IN_BOUND.translateTextChatGPT(n.textContent,r,o),n.textContent=i),await IN_BOUND.translateHtmlContent(e,t+1,r)},async getHtmlContent(e,t,r){var o=["h1","h2","h3","h4","h5","h6","p","div"],a=e.querySelectorAll(o.join(", "));if(t>=a.length)return console.log("Done!"),console.log(e.body.textContent),window.customDoc=e,r.join(" \n ");var n,a=a[t];"DIV"===a.nodeName&&a.childElementCount<1?a.textContent&&(n=a.textContent,a.textContent=n,r.push(n)):o.filter(e=>"div"!==e).includes(a.nodeName.toLowerCase())&&a.textContent&&(n=a.textContent,a.textContent=n,r.push(n)),await IN_BOUND.getHtmlContent(e,t+1,r)},async translateTextChatGPT(r,o){return new Promise(t=>{setTimeout(async()=>{try{var e=await k.translate(r,o);t(e)}catch(e){console.log(e),await k.startNewChat(),setTimeout(async()=>{var e=await k.translate(r,o);e||t(r),t(e)},3e3)}},1e3)})},readPDFFile(t){return new Promise((a,n)=>{var e=new FileReader;e.onload=function(){var e=new Uint8Array(this.result);pdfjsLib.getDocument(e).promise.then(t=>{var r=t.numPages,o=[];for(let e=1;e<=r;e++)o.push(t.getPage(e));Promise.all(o).then(e=>{var t,r=[];for(t of e)r.push(t.getTextContent());Promise.all(r).then(e=>{let t="";for(var r of e)for(var o of r.items)t+=o.str+" ";a(t)}).catch(n)}).catch(n)}).catch(n)},e.readAsArrayBuffer(t)})},downloadAsFile(e,t){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)},sanitizeTextContent(e){return e=(e=(e=(e=e.replace(/\s+/g," ")).replace(/\./g,"")).replace(/[^\x00-\x7F]+/g,"")).trim()},changeCompanyToneState(e){this.companyTonesState=e.target.checked,window.localStorage.setItem("companyTonesState",this.companyTonesState),this.refreshActions()},addExportButton(){var e,t=document.querySelector("nav");t&&!t.querySelector("#export-button")&&((e=document.createElement("a")).id="export-button",e.className=v`ExportButton`,e.innerHTML=C`Export`+" Export Conversation",e.onclick=this.exportCurrentChat.bind(this),document.querySelector(".flex-1.overflow-hidden h1")&&(e.style="pointer-events: none;opacity: 0.5"),[...t.children].find(e=>e.innerText.includes("Log out")))},getNewChatButtons(){var e=document.querySelector("#nav"),t=document.querySelector(".sticky");return[[...e?.querySelectorAll(".cursor-pointer")??[]].find(e=>"New chat"===e.innerText),t?.querySelector("button.px-3")].filter(e=>e)},changeFeedToMyPrompts(){window.localStorage.setItem("feedSelected","All"),this.feedSelected="All",this.insertPromptTemplatesSection()},copyPromptClipboard(t){IN_BOUND.hidePromptCardOptions(),setTimeout(function(){var e=[...IN_BOUND.OwnPrompts,...IN_BOUND.PromptTemplates].filter(e=>e.ID===t)[0].Prompt;navigator.clipboard.writeText(e).then(()=>{IN_BOUND.showNotification(d.SUCCESS,"The prompt template was copied to your clipboard.")},()=>{IN_BOUND.showNotification(d.ERROR,"Something went wrong. Please try again.")})},100)},copyTextClipboard(e){navigator.clipboard.writeText(e).then()},filterPromptTemplates(e){return e.filter(e=>!this.PromptSearch||e.Teaser.toLowerCase().includes(this.PromptSearch.toLowerCase())||e.Title.toLowerCase().includes(this.PromptSearch.toLowerCase())||e.Tags.toLowerCase().includes(this.PromptSearch.replace("#","").toLowerCase()))},showLoadingInterface(e){this.getTheme();e=`
    <div id="custom__ripple_Loader" class="box">
        <div class="ripple__rounds">
        ${"dark"===this.Theme?C("no-txt-logo-dark"):C("no-txt-logo-light")}
        <p class="loading-text">${e}</p>
        </div>
        
    </div>

    `;let t=document.createElement("div");t.id="templates-wrapper",t.className="mt-2 md:flex items-start text-center gap-2.5 md:max-w-2xl lg:max-w-3xl m-auto text-sm";var r=document.querySelector("#nav");r?.querySelector("#templates-wrapper")?t=r.querySelector("#templates-wrapper"):r.appendChild(t),t.innerHTML=e,r.classList.add("loading")},hideLoadingInterface(){(document?.querySelector("#nav"))?.querySelector(".box")?.classList?.add("not-show")},checkLoader(){this.isLoading?this.showLoadingInterface():(this.hideLoadingInterface(),this.insertPromptTemplatesSection())},showSavedSearchModal(){let e=document.getElementById("savedSearchModal");e||((e=document.createElement("div")).id="savedSearchModal",document.body.appendChild(e)),e.innerHTML=`
    <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('savedSearchModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
              <div class=" align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('savedSearchModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <h2> Saved Searches </h2>
              
    <div id="show_chips_modal" class="flex items-center justify-center gap-2 flex-wrap p-4 max-w-lg">
      ${0<this.savedSearchList.length?this.savedSearchList?.map(e=>`<div class="flex-none p-2">
        <button onclick="IN_BOUND.searchIntoPrompts('${e}')" 
        class="${v`saveSearchChips`} 
        border-0 border border-gray-500" >${e}</button> </div>`).join(""):`
        <p class="text-gray-400" >No saved searches</p>
        `}
    </div>
    </div></div></div></div>`,e.style="display: block;",e?.querySelector("#InputToneCategory")?.addEventListener("change",this.changeInputToneCategory.bind(this))},showMultipleCompanyModal(){let e=document.getElementById("multipleCompanyModal");e||((e=document.createElement("div")).id="multipleCompanyModal",document.body.appendChild(e)),e.innerHTML=`
    <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('multipleCompanyModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div  class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
              <div class=" align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div  class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('multipleCompanyModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <h2> Select Company </h2>
              
    <div id="show_chips_modal" class="flex items-center justify-center gap-2 flex-wrap p-4 max-w-lg">
      ${1<this.allCompanies.length?this.allCompanies?.map(e=>`<div class="flex-none p-2">
        <button onclick="IN_BOUND.selectCompany('${e.id}')" 
        class="${v`saveSearchChips`} 
          ${e.id===this.selectedCompany?"border":"border-0"} border-gray-500" >${e.name}</button> </div>`).join(""):`
        <p class="text-gray-400" >You're not member of multiple companies!</p>
        `}
    </div>
    </div></div></div></div>`,e.style="display: block;"},showMultipleTeamsModal(){let e=document.getElementById("showMultipleTeamsModal");e||((e=document.createElement("div")).id="showMultipleTeamsModal",document.body.appendChild(e)),e.innerHTML=`
    <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('showMultipleTeamsModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div  class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
              <div class=" align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div  class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('showMultipleTeamsModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <h2> Select Company </h2>
              
    <div id="show_chips_modal" class="flex items-center justify-center gap-2 flex-wrap p-4 max-w-lg">
      ${1<this.allTeams.length?this.allTeams?.map(e=>`<div class="flex-none p-2">
        <button onclick="IN_BOUND.selectTeam('${e.id}')" 
        class="${v`saveSearchChips`} 
          ${e.id===this.selectedTeam?"border":"border-0"} border-gray-500" >${e.tag}</button> </div>`).join(""):`
        <p class="text-gray-400" >You're not member of multiple teams!</p>
        `}
    </div>
    </div></div></div></div>`,e.style="display: block;"},showFolderModal(){let e=document.getElementById("showFolderModal");e||((e=document.createElement("div")).id="showFolderModal",document.body.appendChild(e)),e.innerHTML=`
    <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('showFolderModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div  class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
              <div class=" w-1/2 align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div  class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('showFolderModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <h2> Manage Folders </h2>

                <div class="p-1 flex flex-row gap-4 justify-between w-full" >

                <div class="flex items-center justify-centerflex-wrap w-full">
                  <input id="folderName" type="text" title="Folder Name" required="" placeholder="Folder Name" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-=1 w-full">
                </div>

                <div class="flex items-center justify-center flex-wrap">
                <button id="addFolder" class="p-1 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200" >
                    Add Folder 
                </button></div>

                <div  class="flex items-center justify-center flex-wrap" >
                <a 
                class="p-1 text-center rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200"
                  onclick="IN_BOUND.folderManager.selectFolder('')"   >  Clear Selection </a>
                </div>

                </div>

                
              
    <div id="show_chips_modal" class="flex items-center justify-center gap-2 flex-wrap p-4">
      ${1<this.folderManager.folders.length?this.folderManager.folders?.map(e=>`<div class="flex-none p-2 rounded border border-gray-500 dark:border-gray-600">
        <button onclick="IN_BOUND.folderManager.selectFolder('${e.name}')" 
        class="rounded font-small bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:text-white px-2 py-1
          ${e.name===this.folderManager.selectedFolder?"border":"border-0"} border-gray-500" >${e.name} </button> 
          <button onclick="IN_BOUND.folderManager.deleteFolder('${e.name}'); IN_BOUND.showFolderModal();" class="p-1 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200" > 
              ${C("Cross")} </button>
          </div>`).join(""):`
        <p class="text-gray-400" >You're not member of multiple teams!</p>
        `}
    </div>
    </div></div></div></div>`,e.style="display: block;",e.querySelector("#addFolder").addEventListener("click",()=>{IN_BOUND.folderManager.createFolder(document.querySelector("#folderName")?.value),IN_BOUND.showFolderModal()})},showFolderSelectionModal(){let e=document.getElementById("showFolderSelectionModal");e||((e=document.createElement("div")).id="showFolderSelectionModal",document.body.appendChild(e)),e.innerHTML=`
    <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50 ">
          <div onclick="IN_BOUND.hideModal('showFolderSelectionModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
          </div>

            <div  class="fixed inset-0 overflow-y-auto">
              <div  class="flex items-center min-h-full justify-center flex-col">
              <div class=" w-1/2 align-center px-4 py-4 bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
                role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">

              <div  class="flex" style="justify-content:flex-end;">
                <a title="Close" 
                  class="pb-4 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                  onclick="IN_BOUND.hideModal('showFolderSelectionModal')"  >  ${C("Cross-Round")}</a>
                </div>

                <h2> Choose A Folder </h2>

                
              
    <div id="show_chips_modal" class="flex items-center justify-center gap-2 flex-wrap p-4">
      ${1<this.folderManager.folders.length?this.folderManager.folders?.map(e=>`<div class="flex-none p-2">
        <button onclick="IN_BOUND.promptSelectionManager.addToFolder('${e.name}')" 
        class="${v`saveSearchChips`} 
          border-0 border-gray-500" >${e.name}</button> </div>`).join(""):`
        <p class="text-gray-400" >You're not member of multiple teams!</p>
        `}
    </div>
    </div></div></div></div>`,e.style="display: block;"},selectTeam(e){this.selectedTeam=e,sessionStorage.setItem("team_id",e),this.insertPromptTemplatesSection(),this.hideModal("showMultipleTeamsModal")},selectCompany(e){this.selectedCompany=e,this.showLoadingInterface("Loading..."),sessionStorage.setItem("company_id",e),sessionStorage.setItem("team_id",""),this.selectTeam(""),this.reloadAllData(),this.hideModal("multipleCompanyModal")},folderManager:{folders:[],selectedFolder:"",initializeFolders(){var e=localStorage.getItem("folders");this.selectedFolder=localStorage.getItem("selectedFolder")||"",e&&(this.folders=JSON.parse(e))},saveFolders(){localStorage.setItem("folders",JSON.stringify(this.folders))},selectFolder(e){this.selectedFolder=e,localStorage.setItem("selectedFolder",e),IN_BOUND.hideModal("showFolderModal"),IN_BOUND.insertPromptTemplatesSection()},createFolder(e){e&&(e={name:e,company:IN_BOUND.selectedCompany,team:IN_BOUND.selectedTeam,prompts:[]},this.folders.push(e),this.saveFolders())},editFolder(e,t){e=this.getFolder(e);e&&(e.name=t,this.saveFolders())},deleteFolder(e){e=this.getFolderIndex(e);-1!==e&&(this.folders.splice(e,1),this.saveFolders())},addPrompt(e,t){var r,e=this.getFolder(e);e&&(r=t,e.prompts.find(e=>e===t)||(e.prompts.push(r),this.saveFolders()))},getFolder(t){return this.folders.find(e=>e.name===t)},getFolderIndex(t){return this.folders.findIndex(e=>e.name===t)}},promptSelectionManager:{selectedIds:[],manageId:function(e){var t;this.selectedIds.includes(e)?-1<(t=this.selectedIds.indexOf(e))&&this.selectedIds.splice(t,1):this.selectedIds.push(e),IN_BOUND.insertPromptTemplatesSection()},addToFolder:function(t){this.selectedIds?.map(e=>{IN_BOUND.folderManager.addPrompt(t,e)}),IN_BOUND.hideModal("showFolderSelectionModal"),this.selectedIds=[],IN_BOUND.insertPromptTemplatesSection()}},insertPromptTemplatesSection(){let r=this.PromptTemplates;if(r){r=(r=this.PromptTemplatesType===u.OWN?this.OwnPrompts:r).map((e,t)=>({...e,promptID:e.ID,ID:t,pin:void 0!==e.pin&&e.pin,favourite:void 0!==e.favourite&&e.favourite}));var o=(r=this.filterPromptTemplates(r)).filter(e=>!0===e.pin),a=r.filter(e=>!1===e.pin);r=[...o,...a];let e=r="All"===this.feedSelected?r:r.filter(e=>!0===e.favourite)||[];if(this.PromptTemplatesType===u.OWN){this.promptsOrderLocal=JSON.parse(localStorage.getItem("promptsOrderLocal")),this.promptsOrderLocal?.index&&(this.promptsOrderLocal=[this.promptsOrderLocal]);const h=this.promptsOrderLocal?.filter(e=>e.team===IN_BOUND.selectedTeam&&e.company===IN_BOUND.selectedCompany&&e.folder===IN_BOUND.folderManager.selectedFolder)[0]?.index||[];let t=[];h.length<e.length&&e.filter(e=>!h.map(e=>e[0]).includes(e.promptID)).map(e=>{t.push(e)});var n=[];for(const[g,m]of h){var i=e.find(e=>e.promptID===g);i&&(n[m]=i)}a=n.filter(e=>void 0!==e);0<a.length?e=[...t,...a]:e,e=e.filter(e=>!1===e.pin)}var{currentPage:a,pageSize:s}=this.PromptTemplateSection,l=s*a,s=Math.min(s*(a+1),r.length),a=(this.current_active_prompts=e).map(e=>e.Tags.toString().split(",")).flat(1),a=(this.searchPredictionList=Array.from(new Set(a)),JSON.parse(localStorage.getItem("chainOfPrompts")?localStorage.getItem("chainOfPrompts"):"[]")),d=a.filter(e=>0==e.completed),c=a.filter(e=>1==e.completed),p=1<this.allCompanies.length?`
        <div id="show_chips_modal" class="flex items-center overflow-hidden space-x-2 px-2 min-w-xs max-w-md">
      ${""}

          ${""}


          ${1<this.allCompanies.length?`<div class="flex-none">
          <button onclick="IN_BOUND.showMultipleCompanyModal()" 
          class="${v`saveSearchChips`} 
          border-0 border border-gray-500" > ${this.allCompanies?.filter(e=>e.id===IN_BOUND.selectedCompany)[0]?.name||"Companies"}  </button> </div>`:""}

          ${"djdghwyeiwudb"===this.allTeams.length?`<div class="flex-none">
          <button onclick="IN_BOUND.showMultipleTeamsModal()" 
          class="${v`saveSearchChips`} 
          border-0 border border-gray-500" >Teams</button> </div>`:""}

          

      </div>
  `:"",l=`
    
    <div class="flex flex-1 gap-3.5 justify-between items-center sm:flex-col ">
    <span class="${v`paginationText`}">
        Showing <span class="${v`paginationNumber`}">${1+l}</span> to <span class="${v`paginationNumber`}">${s}</span> of <span class="${v`paginationNumber`}">${r.length} Prompts</span>
      </span>

      <div class="${v`paginationButtonGroup`}">
        <button onclick="IN_BOUND.prevPromptTemplatesPage()" class="${v`paginationButton`}" style="border-radius: 6px 0 0 6px">${C`previous`}</button>
        <button onclick="IN_BOUND.nextPromptTemplatesPage()" class="${v`paginationButton`} border-0 border-l border-gray-500" style="border-radius: 0 6px 6px 0">${C`next`}</button>
      </div>
    </div>
  `,s=`
    <div class="${v`column`} relative">

      ${this.isAdmin()?`
            <div class="absolute top-0 right-0">
              <label class="relative inline-flex items-center mb-5 cursor-pointer flex-col" title="Admin Mode">
                <input type="checkbox" value="" class="sr-only peer" id="adminMode" onchange="IN_BOUND.toggleAdminMode()" ${this.AdminMode?" checked":""}>
                <div class="w-9 h-5 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-gray-600"></div>
                <span class="ml-3 text-sm font-medium text-gray-900 dark:text-gray-300"></span>
              </label>
            </div>
          `:""}

    
      <div class="flex flex-1 gap-3.5 justify-between items-center"  >
        <div>
        ${"dark"===this.Theme?this.companyMeta.light_logo?`<img src='${this.companyMeta.light_logo}' class="logo-bg" />`:C("Logo-light"):this.companyMeta.dark_logo?`<img src='${this.companyMeta.dark_logo}' class="logo-bg" />`:C("Logo-dark")}
        </div>
        <div  class="flex gap-1 justify-end items-start" >
        
        ${p}

        ${this.features.setting?.allow?`<a title="${T.titleOnTopIcons[0]}" class="p-1 rounded-md hover:bg-gray-100 cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
        onclick="IN_BOUND.showSettingModal()">${C("setting")}</a>`:""}

        </div>
      </div>
  

  
      <div class="flex flex-1 gap-3.5 justify-between items-center  ">
      <div class="flex flex-1 gap-3.5 justify-between  ">

        <div class="flex flex-1 gap-2 justify-start items-start sm:flex-col ">
      
       <div>
          <select id="promptTypeSelect" class="bg-gray-100 pr-7 border-0 text-xs rounded block w-full dark:bg-gray-600 dark:border-gray-600 dark:hover:bg-gray-700 dark:placeholder-gray-400 dark:text-white hover:bg-gray-200 focus:ring-0">
            
          ${this.features.public_prompts?.allow?`<option class="mx-1 dark:bg-gray-700 dark:text-white"  value="${u.PUBLIC}" ${this.PromptTemplatesType===u.PUBLIC?"selected":""}>${T.tabsLabel[0]}</option>`:""}

          ${this.features.private_prompts?.allow?`<option class="mx-1 dark:bg-gray-700 dark:text-white"  value="${u.OWN}" ${this.PromptTemplatesType===u.OWN?"selected":""}>${T.tabsLabel[1]}</option>`:""}
            
          </select>
        </div>

        <div class=" flex gap-1 justify-start items-center h-full ">

        ${this.features.add_prompt?.allow?`<a title="${T.titleOnTopIcons[1]}" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
        onclick="IN_BOUND.showSavePromptModal()">${C("add")}</a>`:""}

        ${this.features.import_export?.allow?`<a title="${T.titleOnTopIcons[2]}" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
        onclick="IN_BOUND.clickeFileInput()"> ${C("import")} <input id="dropzone-file589" type="file" accept=".json" class="hidden" /></a>`:""}

        
        </div>

      </div>

      <div class="flex gap-1 justify-end items-start">

      ${this.features.reload?.allow,""}
      
      
        

        ${this.features.favourites?.allow?`<a title="${T.titleOnTopIcons[5]}" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.changeFeedSelect('${"All"===this.feedSelected?"Favourites":"All"}')">
        ${"All"===this.feedSelected?C`star-gray`:C`star-yellow`} </a>`:""}
  
        ${this.features.expanded_view?.allow?`<a title="${T.titleOnTopIcons[3]}" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.changeFeedView('list')">
        ${"list"===this.feedView?C`list-yellow`:C`list`} </a>`:""}
  
        ${this.features.collapsed_view?.allow?`<a title="${T.titleOnTopIcons[4]}" class="p-1 rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.changeFeedView('grid')">
        ${"grid"===this.feedView?C`grid-yellow`:C`grid`} </a>`:""}

      </div>

      </div>
      </div>



       ${this.features.search?.allow?`<div class="flex flex-row items-center " >
          <input list="prediction" id="promptSearchInput" type="text" class="bg-gray-100 border-0 text-sm rounded-l block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white hover:bg-gray-200 focus:ring-0 md:w-full" placeholder="${T.search}" 
          value="${x(this.PromptSearch)}" onfocus="this.value = this.value">
            <datalist id="prediction">
            ${this.searchPredictionList.map(e=>`<option style="font-size:small; padding:0;" value="${e}"></option>`).join("")}
            </datalist>
            ${""}
        </div>`:""}

        ${0<d.length?`<p class=" dark:text-gray-400 disabled:dark:hover:text-gray-400"> 
        ${d.length} of ${a.length} tasks remaining in chain of prompts! 
              ${!1===IN_BOUND.runCsvChainOfPromptsState?`<a class="underline cursor-pointer px-2" onclick="IN_BOUND.runCsvChainOfPrompts(0)">  Continue </a>
               or <a class="underline cursor-pointer px-2" onclick="IN_BOUND.downloadAndUploadChainOfPrompts()">  Sync </a> or `:""} 
              
              <a class="underline cursor-pointer pl-2" onclick="IN_BOUND.clearChainOfPromptsData()">  Clear Local Data </a>
            </p>`:0<c.length?`
          <p class="dark:text-gray-400 disabled:dark:hover:text-gray-400">${c.length}  of ${a.length} tasks completed in chain of prompts! 
            <a class="underline cursor-pointer px-2" onclick="IN_BOUND.downloadAndUploadChainOfPrompts()">  Download and Upload to Sheet again </a>
             or 
            <a class="underline cursor-pointer pl-2" onclick="IN_BOUND.clearChainOfPromptsData()">  Clear Local Data </a>
            </p>
          `:""}


        ${"All"!==this.feedSelected?0===e.length?"<p>No Favourite Prompts!</p>":"":0===e.length?"<p>No Prompts!</p>":""} 


      ${0<o.length?`<div class="${v`ul`} grid grid-cols-1 "  >
        ${("list"===this.feedView?o?.map(e=>`
          <button  data-id="${e.promptID}" class="${v`card`} relative group  " >
            <div class="flex items-center w-full justify-between">

            <div class="text-gray-500 text-xs flex  max-w-full">

            ${this.PromptTemplatesType===u.OWN?.length?`<a title="Select/ Unselect" class=" rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.promptSelectionManager.manageId('${e.promptID}')">
              ${-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?C`checked_checkbox`:C`empty_checkbox`} </a>`:""}
             
              ${e.AuthorURL&&e.AuthorName?`
                    <a href="#" class="mx-1 overflow-hidden text-ellipsis flex-1"
                      style="white-space: nowrap;"
                      onclick="event.stopPropagation()"
                      rel="noopener noreferrer" 
                      title="${T.authorTitle} ${x(e.AuthorName)} - ${x(e.AuthorURL)}">
                      ${x(e.AuthorName).slice(0,15)}
                    </a>`:""}            
              · 
              <span title="${T.timeTitle} ${dr(e.RevisionTime)}" class="mx-1">${cr(e.RevisionTime)}</span>

            </div>

            ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?`
              
            `+(this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${""}

            ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a>`:""}

               <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" hidden p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:""):`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${this.features.favourites?.allow?`<a title="${e.favourite?T.cardIconsTitle[1]:T.cardIconsTitle[0]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.favourite?"voteThumbsDown":"voteThumbsUp"}('${e.promptID}')">${C(e.favourite?"star-yellow":"star-gray")}</a>`:""}

            ${this.features.pin?.allow?` <a title="${e.pin?T.cardIconsTitle[5]:T.cardIconsTitle[4]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.pin?"removePin":"addToPin"}('${e.promptID}')">${C(e.pin?"pin-yellow":"pin-gray")}</a>`:""}

               <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`}



            <div style="top:40px; z-index:99999; box-shadow:0 2px 5px 6px rgba(0, 0, 0, 0.1); " class="${this.access.cardMenuInDots?"hidden absolute right-1 rounded shadow-lg px-1 py-1 flex-col bg-white dark:bg-gray-800  dark:border-bg-ray-700":"flex right-1"} gap-2 justify-center  mt-1 text-gray-600 group-hover:visible PromptCardOptions"  id="PromptCardOptions-${e.ID}">

                ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?`
                    
                    ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a>`:""}

                    `:`
                      
                      

                    `}
                
                ${this.PromptTemplatesType===u.OWN||1===e.PromptTypeNo||this.isAdminMode()?`

                    `+(-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?`

                      <a title="Add to Folder" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.showFolderSelectionModal()">
                      ${C("folder")} Add to Folder</a>

                    `:`
                    ${this.features.edit?.allow?`<a title="${T.editPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.editPromptTemplate(${e.ID})">${C("Edit")} Edit</a>`:""}

                    ${this.features.import_export?.allow?`<a title="${T.cardIconsTitle[6]}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.exportPromptTemplate('${e.promptID}')">${C("export")} Download</a>`:""}

                    ${this.features.copy?.allow?`<a title="Copy Prompt" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick="event.stopPropagation(); IN_BOUND.copyPromptClipboard('${e.promptID}')">${C("copy")} Copy</a>`:""}

                  ${this.features.delete?.allow?`<a title="${T.dltPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.deletePromptTemplate(${e.ID})">${C("trash")} Delete</a>`:""}
                    
                    `):""}


              </div>
            </div>      

            <div onclick="IN_BOUND.selectPromptTemplateByIndex(${e.ID})" class="w-full">
            <h4 class="${v`h3`}" style="overflow-wrap: anywhere;">${x(e.Title)}</h4>
            
            <p class="${v`p`} text-gray-600 dark:text-gray-200 overflow-hidden text-ellipsis" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;"
              title="${x(e.Teaser)}">
              ${x(e.Teaser)}
            </p>
            </div>
            

        </button>
      `):o?.map(e=>`
          <button  class="${v`card`} relative group  "  data-id="${e.promptID}"  >
            <div   class="flex gap-2 items-center w-full justify-between">
            
            ${this.PromptTemplatesType===u.OWN?.length?`<a title="Select/ Unselect" class=" rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.promptSelectionManager.manageId('${e.promptID}')">
              ${-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?C`checked_checkbox`:C`empty_checkbox`} </a>`:""}

              <h4 onclick="IN_BOUND.selectPromptTemplateByIndex(${e.ID})" class="${v`h3`}" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; width:100%; ">${x(e.Title)}</h4>

            ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${""}

            ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a> `:""}


            <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" hidden p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:"":this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${this.features.favourites?.allow?`<a title="${e.favourite?T.cardIconsTitle[1]:T.cardIconsTitle[0]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.favourite?"voteThumbsDown":"voteThumbsUp"}('${e.promptID}')">${C(e.favourite?"star-yellow":"star-gray")}</a>`:""}

            ${this.features.pin?.allow?`<a title="${e.pin?T.cardIconsTitle[5]:T.cardIconsTitle[4]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.pin?"removePin":"addToPin"}('${e.promptID}')">${C(e.pin?"pin-yellow":"pin-gray")}</a>`:""}

            <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:""}
            

            <div style="top:40px; z-index:99999; box-shadow:0 2px 5px 6px rgba(0, 0, 0, 0.1); " class="${this.access.cardMenuInDots?"hidden absolute right-1 flex flex-col px-1 py-1 gap-2 rounded border bg-white dark:bg-gray-800  dark:border-bg-ray-700":"flex right-1"} gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 text-gray-600 group-hover:visible PromptCardOptions"  id="PromptCardOptions-${e.ID}">

                ${this.PromptTemplatesType===u.OWN||1===e.PromptTypeNo||this.isAdminMode()?`

                    `+(-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?`

                      <a title="Add to Folder" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.showFolderSelectionModal()">
                      ${C("folder")} Add to Folder</a>

                    `:`
                    ${this.features.edit?.allow?`<a title="${T.editPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.editPromptTemplate(${e.ID})">${C("Edit")} Edit</a>`:""}

                    ${this.features.import_export?.allow?`<a title="${T.cardIconsTitle[6]}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.exportPromptTemplate('${e.promptID}')">${C("export")} Download</a>`:""}

                    ${this.features.copy?.allow?`<a title="Copy Prompt" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick="event.stopPropagation(); IN_BOUND.copyPromptClipboard('${e.promptID}')">${C("copy")} Copy</a>`:""}

                  ${this.features.delete?.allow?`<a title="${T.dltPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.deletePromptTemplate(${e.ID})">${C("trash")} Delete</a>`:""}
                    
                    `):""}
              </div>
            </div>      

            <div class="-mt-0.5 text-gray-500 text-xs pb-1 max-w-full">
              
            </div>

        </button>
      `)).join("")}
      
      </div>`:""}


      
      <div class="${v`ul`} grid grid-cols-1 list-group" id="promptsContainer" >
        ${("list"===this.feedView?e?.map(e=>`
          <button ${cr(e.RevisionTime).includes("second")?'style="border: 1px gray solid; "':""}  data-id="${e.promptID}" class="${v`card`} relative group list-group-item  " >
            <div class="flex items-center w-full justify-between">

            <div class="text-gray-500 text-xs flex  max-w-full">

            ${this.PromptTemplatesType===u.OWN?.length?`<a title="Select/ Unselect" class=" rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.promptSelectionManager.manageId('${e.promptID}')">
              ${-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?C`checked_checkbox`:C`empty_checkbox`} </a>`:""}
              
             
              ${e.AuthorURL&&e.AuthorName?`
                    <a href="#" class="mx-1 overflow-hidden text-ellipsis flex-1"
                      style="white-space: nowrap;"
                      onclick="event.stopPropagation()"
                      rel="noopener noreferrer" 
                      title="${T.authorTitle} ${x(e.AuthorName)} - ${x(e.AuthorURL)}">
                      ${x(e.AuthorName).slice(0,15)}
                    </a>`:""}            
              · 
              <span title="${T.timeTitle} ${dr(e.RevisionTime)}" class="mx-1">${cr(e.RevisionTime)}</span>

            </div>

            ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?`
              
            `+(this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${""}

            ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a>`:""}

               <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" hidden p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:""):`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${this.features.favourites?.allow?`<a title="${e.favourite?T.cardIconsTitle[1]:T.cardIconsTitle[0]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.favourite?"voteThumbsDown":"voteThumbsUp"}('${e.promptID}')">${C(e.favourite?"star-yellow":"star-gray")}</a>`:""}

            ${this.features.pin?.allow?` <a title="${e.pin?T.cardIconsTitle[5]:T.cardIconsTitle[4]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.pin?"removePin":"addToPin"}('${e.promptID}')">${C(e.pin?"pin-yellow":"pin-gray")}</a>`:""}

               <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`}



            <div style="top:40px; z-index:99999; box-shadow:0 2px 5px 6px rgba(0, 0, 0, 0.1); " class="${this.access.cardMenuInDots?"hidden absolute right-1 rounded shadow-lg px-1 py-1 flex-col bg-white dark:bg-gray-800  dark:border-bg-ray-700":"flex right-1"} gap-2 justify-center  mt-1 text-gray-600 group-hover:visible PromptCardOptions"  id="PromptCardOptions-${e.ID}">

                ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?`
                    
                    ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a>`:""}

                    `:`
                      
                      

                    `}
                
                ${this.PromptTemplatesType===u.OWN||1===e.PromptTypeNo||this.isAdminMode()?`

                    `+(-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?`

                      <a title="Add to Folder" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.showFolderSelectionModal()">
                      ${C("folder")} Add to Folder</a>

                    `:`
                    ${this.features.edit?.allow?`<a title="${T.editPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.editPromptTemplate(${e.ID})">${C("Edit")} Edit</a>`:""}

                    ${this.features.import_export?.allow?`<a title="${T.cardIconsTitle[6]}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.exportPromptTemplate('${e.promptID}')">${C("export")} Download</a>`:""}

                    ${this.features.copy?.allow?`<a title="Copy Prompt" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick="event.stopPropagation(); IN_BOUND.copyPromptClipboard('${e.promptID}')">${C("copy")} Copy</a>`:""}

                  ${this.features.delete?.allow?`<a title="${T.dltPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.deletePromptTemplate(${e.ID})">${C("trash")} Delete</a>`:""}
                    
                    `):""}


              </div>
            </div>      

            <div onclick="IN_BOUND.selectPromptTemplateByIndex(${e.ID})" class="w-full">

            <div class=" flex flex-row gap-2 items-center " >
            ${this.PromptTemplatesType===u.OWN?C("drag-prompt"):""}

            <h4 class="${v`h3`}" style="overflow-wrap: anywhere;">${x(e.Title)}</h4>
            </div>
          
            <p class="${v`p`} text-gray-600 dark:text-gray-200 overflow-hidden text-ellipsis" style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;"
              title="${x(e.Teaser)}">
              ${x(e.Teaser)}
            </p>
            </div>
            

        </button>
      `):e?.map(e=>`
          <button  class="${v`card`} relative group list-group-item "  data-id="${e.promptID}"  >
            <div   class="flex gap-2 items-center w-full justify-between">

            ${this.PromptTemplatesType===u.OWN?.length?`<a title="Select/ Unselect" class=" rounded-md cursor-pointer hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.promptSelectionManager.manageId('${e.promptID}')">
              ${-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?C`checked_checkbox`:C`empty_checkbox`} </a>`:""}


            <span class="w-5 h-5" >
            ${this.PromptTemplatesType===u.OWN?C("drag-prompt"):""}
            </span>

              <h4 onclick="IN_BOUND.selectPromptTemplateByIndex(${e.ID})" class="${v`h3`}" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; width:100%; ">${x(e.Title)}</h4>

            ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${""}

            ${this.features.copy?.allow?`<a title="${this.forkPromptTemplates.includes(e.promptID)?T.cardIconsTitle[3]:T.cardIconsTitle[2]}" class="p-1 ${this.forkPromptTemplates.includes(e.promptID)?"cursor-not-allowed":""} rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick=" ${this.forkPromptTemplates.includes(e.promptID)?"":`IN_BOUND.forkPrompt('${e.promptID}')`}"> ${this.forkPromptTemplates.includes(e.promptID)?C("fork-yellow"):C("fork")}</a> `:""}


            <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" hidden p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:"":this.access.cardMenuInDots?`<div class="flex gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 right-2 text-gray-400   group-hover:visible">

            ${this.features.favourites?.allow?`<a title="${e.favourite?T.cardIconsTitle[1]:T.cardIconsTitle[0]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.favourite?"voteThumbsDown":"voteThumbsUp"}('${e.promptID}')">${C(e.favourite?"star-yellow":"star-gray")}</a>`:""}

            ${this.features.pin?.allow?`<a title="${e.pin?T.cardIconsTitle[5]:T.cardIconsTitle[4]}" class="p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.${e.pin?"removePin":"addToPin"}('${e.promptID}')">${C(e.pin?"pin-yellow":"pin-gray")}</a>`:""}

            <a title="Show Options" id="PromptCardOptionsBtn" onclick="IN_BOUND.toogleOptionsVisibility('PromptCardOptions-${e.ID}')" class=" p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" >${C("horizontal-menu")}</a>
            </div>`:""}
            

            <div style="top:40px; z-index:99999; box-shadow:0 2px 5px 6px rgba(0, 0, 0, 0.1); " class="${this.access.cardMenuInDots?"hidden absolute flex flex-col px-2 py-2 gap-1 right-9 rounded border bg-white dark:bg-gray-800  dark:border-bg-ray-700":"flex right-1"} gap-4 justify-center lg:gap-1 lg:pl-2 mt-1 text-gray-600 group-hover:visible PromptCardOptions"  id="PromptCardOptions-${e.ID}">

                ${this.PromptTemplatesType===u.PUBLIC&&2===e.PromptTypeNo?`
                    
                     
                      
                    `:`

                    
                    
                    `}
                
                ${this.PromptTemplatesType===u.OWN||1===e.PromptTypeNo||this.isAdminMode()?`

                    `+(-1<this.promptSelectionManager.selectedIds.indexOf(e.promptID)?`

                      <a title="Add to Folder" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="IN_BOUND.showFolderSelectionModal()">
                      ${C("folder")} Add to Folder</a>

                    `:`
                    ${this.features.edit?.allow?`<a title="${T.editPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.editPromptTemplate(${e.ID})">${C("Edit")} Edit</a>`:""}

                    ${this.features.import_export?.allow?`<a title="${T.cardIconsTitle[6]}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.exportPromptTemplate('${e.promptID}')">${C("export")} Download</a>`:""}

                    ${this.features.copy?.allow?`<a title="Copy Prompt" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" 
                      onclick="event.stopPropagation(); IN_BOUND.copyPromptClipboard('${e.promptID}')">${C("copy")} Copy</a>`:""}

                  ${this.features.delete?.allow?`<a title="${T.dltPrmptTitle}" class=" relative flex flex-row gap-2 p-1 rounded-md hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-200 disabled:dark:hover:text-gray-400" onclick="event.stopPropagation(); IN_BOUND.deletePromptTemplate(${e.ID})">${C("trash")} Delete</a>`:""}
                    
                    `):""}
              </div>
            </div>      

            <div class="-mt-0.5 text-gray-500 text-xs pb-1 max-w-full">
              
            </div>

        </button>
      `)).join("")}
      
      </div>
    
      ${r.length>this.PromptTemplateSection.pageSize?l:""}
      
    </div>
   `;let t=document.createElement("div");t.id="templates-wrapper",t.className="mt-2 md:flex items-start text-center gap-2.5 md:max-w-2xl lg:max-w-3xl m-auto text-sm";p=document.querySelector("#nav"),d=(p.querySelector("#templates-wrapper")?t=p.querySelector("#templates-wrapper"):p.appendChild(t),t.innerHTML=s,t?.querySelector("#promptsContainer")),c=(d&&(this.sortElems=z.create(d,{animation:200,easing:"cubic-bezier(0.37, 0, 0.63, 1)",handle:".drag-icon-prompt",dataIdAttr:"data-id",ghostClass:"sortable-ghost",swapThreshold:2,onEnd:function(e){e.item,e.to,e.from,e.oldIndex,e.newIndex,e.oldDraggableIndex,e.newDraggableIndex,e.clone,e.pullMode;let r=[];Array.from(e.target.children).forEach((e,t)=>{e=e.attributes["data-id"].value;r.push([e,t])});e=IN_BOUND.promptsOrderLocal?.filter(e=>!(e.team===IN_BOUND.selectedTeam&&e.company===IN_BOUND.selectedCompany&&e.folder===IN_BOUND.folderManager.selectedFolder))||[];localStorage.setItem("promptsOrderLocal",JSON.stringify([...e,{index:r,company:IN_BOUND.selectedCompany,team:IN_BOUND.selectedTeam,folder:IN_BOUND.folderManager.selectedFolder}])),IN_BOUND.promptsOrderLocal=JSON.parse(localStorage.getItem("promptsOrderLocal")),setTimeout(()=>{IN_BOUND.insertPromptTemplatesSection()},300)}})),t?.querySelector("#promptTypeSelect")?.addEventListener("change",this.changePromptTemplatesType.bind(this)),t?.querySelector("#save_search")?.addEventListener("click",this.savedSearch.bind(this)),t?.querySelector("#promptSearchInput")?.addEventListener("input",this.debounce(this.changePromptSearch.bind(this),1e3).bind(this)),t?.querySelectorAll("select.pageSizeSelect"));document.removeEventListener("keydown",this.boundHandleArrowKey),0<c.length&&(c.forEach(e=>{e.addEventListener("change",this.changePromptPageSize.bind(this))}),document.addEventListener("keydown",this.boundHandleArrowKey))}},toogleOptionsVisibility(e){e=document.getElementById(e);e.className.split(" ").includes("hidden")?e.className=e.className.replace("hidden ","flex "):e.className=e.className.replace("flex ","hidden ")},hideOptionsVisibility(t){setTimeout(function(){var e=document.getElementById(t);e.className=e.className.replace("flex ","hidden ")},500)},dragPromptIDOrder(e,t){let r=window.localStorage.getItem("promptCardOrder")?.split(",");var o,a;r?(a=this.OwnPrompts.map(e=>e.ID).filter(function(e){return-1===r.indexOf(e)}),a=(r=[...a,...r]).indexOf(e),o=r.indexOf(t),r.splice(a,1),r.splice(o,0,e),window.localStorage.setItem("promptCardOrder",r)):(a=this.OwnPrompts.map(e=>e.ID),window.localStorage.setItem("promptCardOrder",a),this.dragPromptIDOrder(e,t))},dragSortPromptsList(){},clickeFileInput(){var e=document.getElementById("dropzone-file589");e.click(),e.onchange=e=>{var e=e.target.files,t=new FileReader;t.onload=function(){var e=t.result,e=JSON.parse(e);IN_BOUND.saveImportedPrompt(e)},t.readAsText(e[0])}},async saveImportedPrompt(e){IN_BOUND.changeFeedToMyPrompts();var{Title:e,PromptHint:t,Prompt:r,Tags:o,Teaser:a}=e,e={Title:e,PromptHint:t,Prompt:r,Tags:o,Teaser:a};""===e.Prompt||void 0===e.Prompt?IN_BOUND.showNotification(d.ERROR,"Invalid Prompt!"):(e.AuthorName=this.Client.User.Name,e.AuthorURL=this.Client.User.Email,t=window.crypto.randomUUID()||(new Date).getTime()+Math.random().toString(16).slice(2),e.ID=t,e.id=t,e.CreationTime="",e.RevisionTime="",e.PromptTypeNo=1,e.pin=!1,e.OwnPrompt=!0,e.favourite=!1,e.teamID=this.selectedTeam,this.showNotification(d.SUCCESS,"Sync.."),await this.Client.savePrompt(e))},exportPromptTemplate(t){var e={...this.DefaultPromptTemplates.filter(e=>e.ID===t)[0]||this.OwnPrompts.filter(e=>e.ID===t)[0]};delete e.AuthorName,delete e.AuthorURL,delete e.User,e.forkID=e.ID,e.CreationTime="",e.RevisionTime="",e.ID="",this.exportContent(e,e.Title.slice(0,20))},exportContent(e,t){var e=new Blob([JSON.stringify(e)],{type:"text/plain"}),r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t+".json",document.body.appendChild(r),r.click()},showImport(){this.showNotification(d.SUCCESS,this.import?"Going back to prompts...":"Getting import prompt templates..."),this.import=!this.import,this.refreshData()},async saveAsNewPromptTemplate(e){IN_BOUND.changeFeedToMyPrompts();var t,r,o={};for([t,r]of new FormData(e.target))o[t]=r;o.AuthorName=this.Client.User.Name,o.AuthorURL=this.Client.User.Email,o.forkID=o.ID,o.ID=window.crypto.randomUUID()||(new Date).getTime()+Math.random().toString(16).slice(2),o.CreationTime="",o.RevisionTime="",o.PromptTypeNo=1,o.pin=!1,o.favourite=!1,o.teamID=this.selectedTeam,this.showNotification(d.SUCCESS,"Sync.."),await this.Client.savePrompt(o),this.hideSavePromptModal()},async forkPrompt(t){var e=this.PromptTemplates.filter(e=>e.ID===t)[0];e.AuthorName=this.Client.User.Name,e.AuthorURL=this.Client.User.Email,e.Title="Copy of: "+e.Title,e.forkID=e.ID,e.ID=window.crypto.randomUUID()||(new Date).getTime()+Math.random().toString(16).slice(2),e.CreationTime=(new Date).toISOString(),e.RevisionTime=(new Date).toISOString(),e.PromptTypeNo=1,e._id&&delete e._id,e.teamID=this.selectedTeam,this.showNotification(d.SUCCESS,"Sync.."),await this.Client.savePrompt(e)},async removePin(e){this.showNotification(d.SUCCESS,"Sync.."),this.pinActionForPrompt(e,-1)},async addToPin(e){3<this.PinPromptTemplates.length?this.showNotification(d.ERROR,"You cannot pin more than 4 prompts!"):(this.showNotification(d.SUCCESS,"Sync.."),this.pinActionForPrompt(e,1))},changeExtLanguage(e){this.ExtLang=e.target.value,T=ur[e.target.value],this.insertPromptTemplatesSection(),this.insertLanguageToneWritingStyleContinueActions()},changeFeedSelect(e){this.feedSelected=e,localStorage.setItem("feedSelected",e),this.insertPromptTemplatesSection()},changeFeedView(e){this.feedView=e,window.localStorage.setItem("feedView",e),this.insertPromptTemplatesSection()},boundHandleArrowKey:null,handleArrowKey(e){var t="ArrowLeft"===e.key||"ArrowRight"===e.key,r="INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName;t&&!r&&("ArrowLeft"===e.key?this.prevPromptTemplatesPage():this.nextPromptTemplatesPage())},changePromptPageSize(e){e=+e.target.value,e=Lr.includes(e)?e:5e3;localStorage.setItem("lastPageSize",e),this.PromptTemplateSection.currentPage=0,this.PromptTemplateSection.pageSize=e,this.insertPromptTemplatesSection()},changePromptSearch(e){this.PromptSearch=e.target.value,this.PromptTemplateSection.currentPage=0,this.insertPromptTemplatesSection();e=document.querySelector("#promptSearchInput");e.selectionStart=e.selectionEnd=e.value.length,e.focus()},savedSearch(){this.savedSearchList.push(this.PromptSearch),localStorage.setItem("savedSearchList",JSON.stringify(this.savedSearchList)),setTimeout(()=>{IN_BOUND.insertPromptTemplatesSection()},200)},searchIntoPrompts(e){this.PromptSearch=e,this.PromptTemplateSection.currentPage=0,this.insertPromptTemplatesSection();var t=document.querySelector("#promptSearchInput");t.value=e,t.selectionStart=t.selectionEnd=t.value.length,t.focus(),IN_BOUND.hideModal("savedSearchModal")},changePromptTemplatesType(e){e=e.target.value;this.PromptTemplatesType!==e&&(this.PromptTemplatesType=e,localStorage.setItem("PromptTemplatesType",e),this.PromptTemplateSection.currentPage=0,this.insertPromptTemplatesSection())},debounce(t,r){let o;return e=>{clearTimeout(o),o=setTimeout(()=>t(e),r)}},showToneOptions(){var e,t,r;document.getElementsByClassName("tonesList")[0]?((e=document.getElementsByClassName("tonesList")[0]).style.display="flex",t=document.getElementById("optionOpener").getBoundingClientRect(),e.style.left=t.right+"px"):((e=document.createElement("div")).classList.add("chatgpt-all-in-one-toolbar2","gap-3","tonesList"),e.style.overflow="hidden",(t=document.createElement("div")).classList.add("tones-list-container"),t.id="tones-list-container",t.style.overflow="scroll",t.style.maxHeight="332px",t.style.position="absolute",t.style.backgroundColor="#353740",t.style.padding="0.1em",t.style.borderRadius="5px",t.style.width="fit-content",t.style.position="absolute",r=document.getElementById("optionOpener").getBoundingClientRect(),t.style.left=r.x/2-40+"px",t.style.bottom="7vh",t.onmouseleave=function(){IN_BOUND.hideToneOptions()},t.style.borderColor="#202123",t.style.borderWidth="1px",e.appendChild(t),(r=document.querySelector("form textarea")).parentNode.insertBefore(e,r)),this.insertToneOptionsInContainer()},insertToneOptionsInContainer(){var e=document.querySelector(".tones-list-container"),t=`<ul >${this.Tones.map((e,t)=>`
    <li class="tonesLI" style="cursor:pointer; padding:1px; margin:1px;  flex-direction:row; display:flex; align-content:space-between; flex-wrap: wrap; justify-content: space-between; " >

    <p class="tonesLabel" onClick='IN_BOUND.setToneIndexAndRefresh("${e.ID}")' style="font-size:small; font-weight:light; padding:0px; margin:0px; line-height:normal; display:block;">${e.Label}</p>

    ${"user"===e.type?`<div style="display:flex; flex-direction:row;">
    <a style="margin-left:3px; display:block;" class="tonesEdit" onclick="IN_BOUND.editTone('${e.ID}')" > ${C("Edit")} </a>
    <a style="margin-left:3px; display:block;" class="tonesCross" onclick="IN_BOUND.deleteTone('${e.ID}')" > ${C("Cross")} </a>
    </div>`:""}

    </li>`).join("")}</ul>  `;e.innerHTML=t},setToneIndexAndRefresh(e){this.hideToneOptions(),this.insertLanguageToneWritingStyleContinueActions()},hideToneOptions(){document.getElementsByClassName("tonesList")[0].style.display="none"},editTone(e){this.showeditToneModal(e)},async deleteTone(e){this.hideToneOptions(),await this.Client.deleteTone(e)},async showeditToneModal(t){var e=this.Tones.filter(e=>e.ID===t)[0];this.InputToneCategorySelected=e.CategoryID;let r=document.getElementById("editToneModal");r||((r=document.createElement("div")).id="editToneModal",r.addEventListener("submit",this.saveEditedTone.bind(this)),document.body.appendChild(r)),r.innerHTML=`
      <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50">
        <div onclick="IN_BOUND.hideModal('editToneModal')"  class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full flex-col">

        <form id="saveToneForm">
          <input type="hidden" name="ID" value="${e.ID}" />
          
          <div
          class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
          role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">
      
            <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 overflow-y-auto">
            <label>Title</label>
              <input name="Label" type="text" value="${e.Label}"}
                title="Tone Label" required placeholder="Tone Label" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded mb-3 mt-2 p-2 w-full" />
        
              <label>Tone</label>
              <textarea name="Description" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 120px;" required
                        placeholder="Tone"
                        title="Tone">${e.Description}</textarea>
        
                  


                      <div class=" px-4 py-3 text-right">
                
                  <button type="button" class="bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                          onclick="IN_BOUND.hideModal('editToneModal')"> Cancel
                  </button>
                  <button type="submit" class="bg-orange-500 hover:bg-orange-500/10 mr-2 px-4 py-2 mt-2 rounded text-white">Save
                  </button>
              </div>

          </div>
        </form>
        </div>
          <div>
        </div>
          </div>
        </div>
        
      </div>
    `,r.style="display: block;",document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideModal("editToneModal")})},async saveEditedTone(e){e.preventDefault();const t={};var r,o;for([r,o]of new FormData(e.target))t[r]=o;e=this.ToneCategories.filter(e=>e.Label===t.Category)[0],t.CategoryID=e.ID,t.Category=e.Label,this.showNotification(d.SUCCESS,"Sync.."),this.hideModal("editToneModal"),e={id:t.ID,label:t.Label,prompt:t.Description,user:IN_BOUND.Client.User.Email,company:IN_BOUND.Company};await this.Client.saveEditTone(e)},async showNewToneModal(){let e=document.getElementById("newToneModal");this.InputToneCategorySelected=this.ToneCategories[0].ID,e||((e=document.createElement("div")).id="newToneModal",e.addEventListener("submit",this.saveNewTone.bind(this)),document.body.appendChild(e)),e.innerHTML=`
      <div style="z-index:100;" class="fixed inset-0 text-center transition-opacity z-50">
        <div onclick="IN_BOUND.hideModal('newToneModal')" class="absolute bg-gray-900 inset-0 opacity-90">
        </div>

        <div class="fixed inset-0 overflow-y-auto">
          <div class="flex items-center justify-center min-h-full flex-col">

          <form id="saveToneForm">
          <input type="hidden" name="ID" value="" />
          
          <div
          class="align-center bg-white dark:bg-gray-800 dark:text-gray-200 inline-block overflow-hidden sm:rounded-lg shadow-xl sm:align-middle sm:max-w-lg sm:my-8 sm:w-full text-left transform transition-all"
          role="dialog" aria-modal="true" aria-labelledby="modal-headline" style="text-align: left;">
      
            <div class="bg-white dark:bg-gray-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 overflow-y-auto">
            <label>Title</label>
              <input name="Label" type="text" value=""}
                title="Tone Label" required placeholder="Tone Label" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded mb-3 mt-2 p-2 w-full" />
        
              <label>Tone</label>
              <textarea name="Description" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded p-2 mt-2 mb-3" style="height: 120px;" required
                        placeholder="Tone"
                        title="Tone"></textarea>
        
                      <div class="mr-4 w-1/5 text-left">
                        <label>Select Category</label>
                        <input name="Category" list="InputToneCategory" class="w-full bg-gray-100 dark:bg-gray-700 dark:border-gray-700 rounded mb-3 mt-2 p-2 w-full" />
                        <datalist id="InputToneCategory" class="mt-2 mb-3 dark:bg-gray-700 dark:border-gray-700 dark:hover:bg-gray-900 rounded w-full">
                          ${this.ToneCategories?.map(e=>`
                            <option value="${e.Label}" >
                              </option> 
                          `).join("")}
                        </datalist >
                      </div>


                      <div class=" px-4 py-3 text-right">
                
                  <button type="button" class="bg-gray-600 hover:bg-gray-400 mr-2 px-4 py-2 mt-2 rounded text-white"
                          onclick="IN_BOUND.hideModal('newToneModal')"> Cancel
                  </button>
                  <button type="submit" class="bg-orange-500 hover:bg-orange-500/10 mr-2 px-4 py-2 mt-2 rounded text-white">Save
                  </button>
                </div>

          </div>
        </form>
        </div>
          <div>
        </div>
          </div>
        </div>
        
      </div>
    `,e.style="display: block;",e.querySelector("#InputToneCategory").addEventListener("change",this.changeInputToneCategory.bind(this)),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.hideModal("newToneModal")})},async saveNewTone(e){e.preventDefault(),this.hideModal("newToneModal");const t={};var r,o;for([r,o]of new FormData(e.target))t[r]=o;e=this.ToneCategories.filter(e=>e.Label===t.Category)[0];t.CategoryID=e.ID,t.Category=e.Label,this.showNotification(d.SUCCESS,"Sync.."),await this.Client.saveNewTone(t)},changeInputToneCategory(e){this.InputToneCategorySelected=e.target.value},insertLanguageToneWritingStyleContinueActions(){this.tonesOrderLocal=JSON.parse(localStorage.getItem("tonesOrderLocal"))?.index||[];const t=this.tonesOrderLocal;t.length<this.userTones.length&&this.userTones.filter(e=>!t.map(e=>e[0]).includes(e.ID)).map(e=>{t.push([e.ID,t.length])});var e=[];for(const[i,s]of t){var r=this.userTones.find(e=>e.ID===i);r&&(e[s]=r)}var o,a=e.filter(e=>void 0!==e);let n=document.createElement("div");n.id="language-select-wrapper",n.className=v("languageSelectWrapper"),this.Languages&&(o=document.querySelector("form textarea"))&&(document.querySelector(".w-full.h-32.md\\:h-48.flex-shrink-0"),o.form.parentElement,o=o.parentElement)&&(o.classList.add("px-4"),o.querySelector("#"+n.id)?n=o.querySelector("#"+n.id):o.prepend(n),n.innerHTML=`
    <div class="flex w-full ">
     ${this.features.languages?.allow?`<div>
        <select id="languageSelect" class="${v("select")} pr-10">
          <option value ${this.TargetLanguage?"":" selected"}>Default language</option>  

          ${this.Languages.map(e=>`
            <option value="${e.languageEnglish}" ${this.TargetLanguage===e.languageEnglish?" selected":""}>
              ${e.languageLabel}
              </option> 
          `).join("")}
        </select>
      </div>`:""}
      

      ${this.features.writing_styles?.allow?`<div class="ml-2">
        <select id="writingStyleSelect" class="${v("select")} pr-10">
          <option value ${this.WritingStyle?"":" selected"}>Default style</option>

          ${this.WritingStyles.map(e=>`
            <option value="${e.ID}" ${this.WritingStyle===e.ID?" selected":""}>
              ${this.WritingStyle===e.ID?e.Label+" style":e.Label}
              </option> 
          `).join("")}
        </select>
      </div>`:""}

      ${""}

      ${this.features.variations.allow?`<div class="ml-2">
        <select id="toneSelect" class="${v("select")} pr-10">

        <option value="" selected > No Variation</option>

          ${a.filter(e=>!IN_BOUND.hiddenVariations.includes(e.ID)).map(e=>`
            <option value="${e.ID}" ${this.Tone===e.ID?" selected":""}>
              ${this.Tone===e.ID?e.Label+" variation":e.Label}
              </option> 
          `).join("")}
        </select>
      </div>`:""}

    </div>

    ${""}
  `,n?.querySelector("#languageSelect")?.addEventListener("change",this.changeTargetLanguage.bind(this)),n?.querySelector("#toneSelect")?.addEventListener("change",this.changeTone.bind(this)),n.querySelector("#variationButton")?.addEventListener("click",function(){n.querySelector("#variationButtonContent")?.classList.toggle("hidden")}),n?.querySelector("#writingStyleSelect")?.addEventListener("change",this.changeWritingStyle.bind(this)),n?.querySelector("#continueActionSelect")?.addEventListener("change",this.changeContinueAction.bind(this)))},hideLanguageToneWritingStyleContinueActions(){},changeTargetLanguage(e){this.TargetLanguage=e.target.value,localStorage.setItem(Dr,this.TargetLanguage)},changeTone(e){e=e.target.value;this.Tone=e,window.localStorage.setItem("selectedTone",e)},changeToneCategory(e){e=e.target.value,this.ToneCategorySelected=e,e=this.companyTonesState?[...this.DefaultTones,...this.userTones]:this.userTones;this.Tones=e.filter(e=>e.CategoryID===this.ToneCategorySelected),this.Tones.sort((e,t)=>e.Label.localeCompare(t.Label)),this.insertLanguageToneWritingStyleContinueActions()},changeWritingStyle(e){this.WritingStyle=e.target.value,window.localStorage.setItem("selectedWritingStyle",this.WritingStyle),this.insertLanguageToneWritingStyleContinueActions()},changeContinueAction(e){const t=e.target.value;e=this.ContinueActions.find(e=>e.ID===t);e&&this.submitContinueActionPrompt(e.Prompt)},continueWriting(){this.submitContinueActionPrompt("Continue writing please")},submitContinueActionPrompt(e=""){var t=document.querySelector("form textarea");t.value.trim()&&"Continue writing please"!==t.value.trim()&&!confirm("Are you sure you want to continue? The current prompt text will be lost.")||(t.value=e,t.focus(),(e=t.nextElementSibling)&&e.tagName&&"button"===e.tagName.toLowerCase()&&(e.click(),e=new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,keyCode:13}),t.dispatchEvent(e)))},hideContinueActionsButton(){var e=document.querySelector("#continueActionsGroup");e&&e.classList.add("invisible")},showContinueActionsButton(){var e=document.querySelector("#continueActionsGroup");e&&e.classList.remove("invisible")},prevPromptTemplatesPage(){this.PromptTemplateSection.currentPage--,this.PromptTemplateSection.currentPage=Math.max(0,this.PromptTemplateSection.currentPage),this.insertPromptTemplatesSection()},nextPromptTemplatesPage(){var e=this.PromptTemplatesType===u.OWN?this.OwnPrompts:this.DefaultPromptTemplates;e&&Array.isArray(e)&&0!==(e=this.filterPromptTemplates(e)).length&&(this.PromptTemplateSection.currentPage++,this.PromptTemplateSection.currentPage=Math.min(Math.floor((e.length-1)/this.PromptTemplateSection.pageSize),this.PromptTemplateSection.currentPage),this.insertPromptTemplatesSection())},exportCurrentChat(){let e=[...document.querySelector(".flex.flex-col.items-center").children].map(e=>{e=e.querySelector(".whitespace-pre-wrap");return e?0===e.children.length?"**User:**\n"+e.innerText:"**ChatGPT:**\n"+[...e.firstChild.children].map(e=>"PRE"!==e.nodeName?""+e.innerHTML:`\`\`\`${e.getElementsByTagName("code")[0].classList[2].split("-")[1]}
${e.innerText.replace(/^Copy code/g,"").trim()}
\`\`\``).join("\n"):""});if(!(e=e.filter(e=>e)))return!1;let t="";try{t="\n```\n"+window.__NEXT_DATA__.props.pageProps.user.name+" on "+(new Date).toLocaleString()+"\n```\n\n---"}catch{console.error("Failed to get user name from window.__NEXT_DATA__.props.pageProps.user.name. Using default header instead.")}var r=new Blob([t+"\n\n\n"+e.join("\n\n---\n\n")],{type:"text/plain"}),o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="IN_BOUND-export-chatgpt-thread_"+(new Date).toISOString()+".md",document.body.appendChild(o),o.click()},async editPromptTemplate(e){var t,e=(this.PromptTemplatesType===u.OWN?this.OwnPrompts:this.PromptTemplates)[e];(this.PromptTemplatesType===u.OWN||e.OwnPrompt||this.isAdminMode())&&(await this.showSavePromptModal(new CustomEvent(Or),e.ID,e),t=document.getElementById("savePromptForm"),IN_BOUND.hidePromptCardOptions(),t.elements.Prompt.value=e.Prompt,t.elements.Teaser.value=e.Teaser,t.elements.PromptHint.value=e.PromptHint,t.elements.Title.value=e.Title,t.elements.Tags.value=e.Tags,t.elements.ID.value=e.ID,e.Tone&&(t.elements.Tone.value=e.Tone),t.elements.companyTonesState&&(t.elements.companyTonesState.checked=e.companyTonesState),e.PromptTypeNo===p.PUBLIC)&&t.elements.Public&&(t.elements.Public.checked=!0)},async deletePromptTemplate(e){e=(this.PromptTemplatesType===u.OWN?this.OwnPrompts:this.PromptTemplates)[e];if((this.PromptTemplatesType===u.OWN||e.OwnPrompt||this.isAdminMode())&&confirm(`Are you sure you want to delete prompt template "${e.Title}"?`)){try{this.showNotification(d.SUCCESS,"Sync.."),await this.Client.deletePrompt(e.ID,this.Company)}catch(e){return void this.showNotification(d.ERROR,"Something went wrong. Please try again.")}this.insertPromptTemplatesSection()}},async voteThumbsUp(e){this.showNotification(d.SUCCESS,"Sync..");try{await this.Client.voteForPrompt(e,1)}catch(e){this.showNotification(d.ERROR,"Something went wrong. Please try again.")}},async voteThumbsDown(e){this.showNotification(d.SUCCESS,"Sync..");try{await this.Client.voteForPrompt(e,-1)}catch(e){this.showNotification(d.ERROR,"Something went wrong. Please try again.")}},async reportPrompt(e){e.preventDefault();e=new FormData(e.target);try{await this.Client.reportPrompt(e.get("PromptID"),+e.get("FeedbackTypeNo"),e.get("FeedbackText"),e.get("FeedbackContact"))}catch(e){return void this.showNotification(d.ERROR,"Something went wrong. Please try again.")}this.showNotification(d.SUCCESS,"Thanks for your feedback! We will review this prompt."),this.hideModal("reportPromptModal")},copyPromptDeepLink(e){const t=(this.PromptTemplatesType===u.OWN?this.OwnPrompts:this.PromptTemplates)[e];t&&(e=`https://chat.openai.com/chat?${Pr}=`+t.ID,navigator.clipboard.writeText(e).then(()=>{t.PromptTypeNo!==p.PUBLIC?this.showNotification(d.WARNING,"The link to the prompt template was copied to your clipboard.<br>This prompt is not shared as public. Only you can access it."):this.showNotification(d.SUCCESS,"The link to the prompt template was copied to your clipboard.")},()=>{this.showNotification(d.ERROR,"Something went wrong. Please try again.")}))},selectPromptTemplateByIndex(e){var t=this.PromptTemplatesType===u.OWN?this.OwnPrompts:this.PromptTemplates;t&&Array.isArray(t)&&(this.selectPromptTemplate(t[e]),this.hideContinueActionsButton(),setTimeout(function(){IN_BOUND.insertLanguageToneWritingStyleContinueActions()},300))},addToOwnPrompts(e){this.forkPrompt(e)},isObserverExist(e){for(const t of window.performance.getEntriesByType("layout-shift"))if(t.source&&t.source.node===e)return!0;return!1},selectPromptTemplate(t){var r=document.querySelector("textarea");if(r){var o=r.parentElement;let e=document.createElement("div");e.id="prompt-wrapper",o.querySelector("#prompt-wrapper")?e=o.querySelector("#prompt-wrapper"):r.parentNode.insertBefore(e,r);o=new URL(window.location.href);if(t){if(this.SelectedPromptTemplateID=t.ID,localStorage.setItem("SelectedPromptTemplateID",t.ID),this.Tone=t?.Tone||this.Tone,this.companyTonesState=t.companyTonesState||!1,this.features.variables?.allow&&this.showVariablesModal(t),this.activePromptID=t.ID,e.innerHTML=`
        <span class="${v`tag`}">
        
        <span class="flex items-center">
          ${x(t.Title)}


          <span class="inline-flex items-center ml-2" >
              <a title="close prompt" style=" margin-left:10px; margin-top:auto; " class=" cursor-pointer" 
                onclick="IN_BOUND.selectPromptTemplate(null)">${C("Cross_Round_h4")}</a> </span>
                </span>

              <span style="font-weight:normal;" class="text-xs font-thin ">
              ${T.textareaPlaceholderIdentifier}  ${x(t.PromptHint)}
              </span>

        </span>
        `,r.placeholder="Enter your prompt",-1<(this.SelectedPromptTemplate=t).Prompt.indexOf(g)&&(r.value=" ",r.nextElementSibling.disabled=!1),r.focus(),o.searchParams.get(Pr)===t.ID)return;o.searchParams.set(Pr,t.ID),o.searchParams.set("inbound_o_id",this.selectedCompany)}else{if(e.innerHTML="",this.SelectedPromptTemplate=null,this.SelectedPromptTemplateID=null,localStorage.setItem("SelectedPromptTemplateID",""),!o.searchParams.get(Pr))return;o.searchParams.delete(Pr),o.searchParams.delete("inbound_o_id",this.selectedCompany)}window.history.pushState({},"",o)}},CSVToArray(e,t){t=t||",";for(var r,o=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),a=[[]];r=o.exec(e);){var n=r[1],n=(n.length&&n!==t&&a.push([]),r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3]);a[a.length-1].push(n)}return a},getTopicLabel(t){var e=this.Topics.find(e=>e.ID===t);return e?e.Label:""},getActivityLabel(t){var e=this.Activities.find(e=>e.ID===t);return e?e.Label:""},isAdmin(){return this.Client.User.UserStatusNo===I.ADMIN},isAdminMode(){return this.isAdmin()&&this.AdminMode},toggleAdminMode(){this.isAdmin()&&(this.AdminMode=!this.AdminMode,this.insertPromptTemplatesSection())},canCreatePromptTemplate(){return this.canCreatePublicPromptTemplate()||this.canCreatePrivatePromptTemplate()||!0},canCreatePrivatePromptTemplate(){return this.isAdmin()||0<this.Client.User.MaxNewPrivatePromptsAllowed},canCreatePublicPromptTemplate(){return this.isAdmin()||0<this.Client.User.MaxNewPublicPromptsAllowed},cannotCreatePublicPromptTemplateError(){this.showNotification(d.WARNING,"Cannot Create Public Prompt Template",!1)},cannotCreatePrivatePromptTemplateError(){this.showNotification(d.WARNING,"Cannot Create Private Prompt Template",!1)},cannotCreatePromptTemplateError(){this.showNotification(d.WARNING,"Cannot Create Prompt Template",!1)},showPrivactTermsBanner(){var e;"true"!==window.localStorage.getItem("showPrivactTermsBanner")&&((e=document.createElement("div")).innerHTML=`
    <div class="bg-gray-100 flex justify-center items-center h-screen z-50" style="z-index=999999999999999;">
        <div class="bg-white rounded-lg p-8 max-w-md shadow-md">
            <button id="showDialogButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full mb-4">Show Terms and Conditions</button>
            <div class="dialog hidden">
                <div class="text-center">
                    <h2 class="text-2xl font-bold mb-4">Terms and Conditions</h2>
                    <p>Your terms and conditions content goes here.</p>
                </div>
                <div class="flex justify-center mt-6">
                    <button id="closeDialogButton" class="bg-gray-400 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full">Close</button>
                </div>
            </div>
        </div>
    </div>
    `,document.body.appendChild(e))}},"chat.openai.com"===window.location.hostname&&setTimeout(async function(){window.location.href.includes("/auth/")||window.IN_BOUND.init()},200)}();